/*! For license information please see 779-8dbc854832e48449244d.js.LICENSE.txt */
(self.webpackChunkvenom_dolls=self.webpackChunkvenom_dolls||[]).push([[779],{67228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},22858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},34575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},93913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},59713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},13884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},80521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},63038:function(e,t,n){var r=n(22858),i=n(13884),o=n(60379),s=n(80521);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},60379:function(e,t,n){var r=n(67228);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},95083:function(e,t,n){"use strict";n.d(t,{c:function(){return $}});var r=n(55218),i=n(60643),o=n(23719),s=n(75557),a=n(66306),u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},c=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e},f=[],l=function(){function e(e,t){this.context=e,this.methodName=t,this._originalMethod=e[t].bind(e)}return e.add=function(e,t,n){p(e,t).set(n)},e.remove=function(e,t){p(e,t).remove()},e.prototype.set=function(e){var t=this;this.context[this.methodName]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t._originalMethod.apply(t,c(n)))}},e.prototype.remove=function(){this.context[this.methodName]=this._originalMethod},e}();function p(e,t){var n=f.filter((function(n){return n.context===e&&n.methodName===t}))[0];return n||(n=new l(e,t),f.push(n)),n}var h=n(20617),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},v=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},g=new r.k("PageViewTracker"),y="aws-amplify-analytics-prevUrl",m={enable:!1,provider:"AWSPinpoint",getUrl:function(){return h.JS.browserOrNode().isBrowser?window.location.origin+window.location.pathname:""}},b=function(){function e(e,t){g.debug("initialize pageview tracker with opts",t),this._config=Object.assign({},m,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),"SPA"===this._config.type?this._pageViewTrackSPA():this._pageViewTrackDefault()}return e.prototype.configure=function(e){return Object.assign(this._config,e),"SPA"===this._config.type&&this._pageViewTrackSPA(),this._config},e.prototype._isSameUrl=function(){return sessionStorage.getItem(y)===this._config.getUrl()&&(g.debug("the url is same"),!0)},e.prototype._pageViewTrackDefault=function(){return d(this,void 0,void 0,(function(){var e,t,n,r;return v(this,(function(i){switch(i.label){case 0:return h.JS.browserOrNode().isBrowser&&window.addEventListener&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(g.debug("not in the supported web enviroment"),[2]);case 1:return n=i.sent(),[3,3];case 2:n=this._config.attributes,i.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._config.enable&&!this._isSameUrl()&&(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch((function(e){g.debug("Failed to record the page view event",e)})),sessionStorage.setItem(y,e)),[2]}}))}))},e.prototype._trackFunc=function(){return d(this,void 0,void 0,(function(){var e,t,n,r;return v(this,(function(i){switch(i.label){case 0:return h.JS.browserOrNode().isBrowser&&window.addEventListener&&history.pushState&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(g.debug("not in the supported web enviroment"),[2]);case 1:return n=i.sent(),[3,3];case 2:n=this._config.attributes,i.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._isSameUrl()||(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch((function(e){g.debug("Failed to record the page view event",e)})),sessionStorage.setItem(y,e)),[2]}}))}))},e.prototype._pageViewTrackSPA=function(){h.JS.browserOrNode().isBrowser&&window.addEventListener&&history.pushState?this._config.enable&&!this._hasEnabled?(l.add(history,"pushState",this._trackFunc),l.add(history,"replaceState",this._trackFunc),window.addEventListener("popstate",this._trackFunc),this._trackFunc(),this._hasEnabled=!0):(l.remove(history,"pushState"),l.remove(history,"replaceState"),window.removeEventListener("popstate",this._trackFunc),this._hasEnabled=!1):g.debug("not in the supported web enviroment")},e}(),w=h.JS.browserOrNode().isBrowser&&window.Element?window.Element.prototype:null,S=w?w.matches||w.matchesSelector||w.webkitMatchesSelector||w.mozMatchesSelector||w.msMatchesSelector||w.oMatchesSelector:null;function _(e,t){if(e&&1===e.nodeType&&t){if("string"==typeof t||1===t.nodeType)return e===t||E(e,t);if("length"in t)for(var n=0,r=void 0;r=t[n];n++)if(e===r||E(e,r))return!0}return!1}function E(e,t){if("string"!=typeof t)return!1;if(S)return S.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0,i=void 0;i=n[r];r++)if(i===e)return!0;return!1}function A(e,t,n,r,i){void 0===i&&(i={});var o=function(e){var t;if(i.composed&&"function"==typeof e.composedPath)for(var o=e.composedPath(),s=0,a=void 0;a=o[s];s++)1===a.nodeType&&_(a,n)&&(t=a);else t=function(e,t,n){if(void 0===n&&(n=!1),e&&1===e.nodeType&&t)for(var r,i=(n?[e]:[]).concat(function(e){for(var t=[],n=e;n&&n.parentNode&&1===n.parentNode.nodeType;)n=n.parentNode,t.push(n);return t}(e)),o=0;r=i[o];o++)if(_(r,t))return r}(e.target,n,!0);t&&r.call(t,e,t)};return e.addEventListener(t,o,i.useCapture),{destroy:function(){e.removeEventListener(t,o,i.useCapture)}}}var C=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},I=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},T=new r.k("EventTracker"),O={enable:!1,events:["click"],selectorPrefix:"data-amplify-analytics-",provider:"AWSPinpoint"},P=function(){function e(e,t){h.JS.browserOrNode().isBrowser&&window.addEventListener?(this._config=Object.assign({},O,t),this._tracker=e,this._delegates={},this._trackFunc=this._trackFunc.bind(this),T.debug("initialize pageview tracker with opts",this._config),this.configure(this._config)):T.debug("not in the supported web environment")}return e.prototype.configure=function(e){var t=this;if(Object.assign(this._config,e),this._config.enable){if(this._config.enable&&0===Object.keys(this._delegates).length){var n="["+this._config.selectorPrefix+"on]";this._config.events.forEach((function(e){t._delegates[e]=A(document,e,n,t._trackFunc,{composed:!0,useCapture:!0})}))}}else Object.keys(this._delegates).forEach((function(e){"function"==typeof t._delegates[e].destroy&&t._delegates[e].destroy()})),this._delegates={};return this._config},e.prototype._trackFunc=function(e,t){return C(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return I(this,(function(c){switch(c.label){case 0:return n={},r=t.getAttribute(this._config.selectorPrefix+"on").split(/\s*,\s*/),i=t.getAttribute(this._config.selectorPrefix+"name"),(o=t.getAttribute(this._config.selectorPrefix+"attrs"))&&o.split(/\s*,\s*/).forEach((function(e){var t=e.trim().split(/\s*:\s*/);n[t[0]]=t[1]})),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return a=c.sent(),[3,3];case 2:a=this._config.attributes,c.label=3;case 3:return s=a,u=Object.assign({type:e.type,target:e.target.localName+" with id "+e.target.id},s,n),T.debug("events needed to be recorded",r),T.debug("attributes needed to be attached",n),r.indexOf(e.type)<0?(T.debug("event "+e.type+" is not selected to be recorded"),[2]):(this._tracker({name:i||"event",attributes:u},this._config.provider).catch((function(t){T.debug("Failed to record the "+e.type+" event', "+t)})),[2])}}))}))},e}(),x=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},D=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},k=new r.k("SessionTracker"),L={enable:!1,provider:"AWSPinpoint"},N=!1,R=function(){function e(e,t){this._config=Object.assign({},L,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._trackBeforeUnload=this._trackBeforeUnload.bind(this),this.configure(this._config)}return e.prototype._envCheck=function(){if(!h.JS.browserOrNode().isBrowser)return!1;if(!document||!document.addEventListener)return k.debug("not in the supported web environment"),!1;if(void 0!==document.hidden)this._hidden="hidden",this._visibilityChange="visibilitychange";else if(void 0!==document.msHidden)this._hidden="msHidden",this._visibilityChange="msvisibilitychange";else{if(void 0===document.webkitHidden)return k.debug("not in the supported web environment"),!1;this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"}return!0},e.prototype._trackFunc=function(){return x(this,void 0,void 0,(function(){var e,t,n;return D(this,(function(r){switch(r.label){case 0:return"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),document.visibilityState===this._hidden?this._tracker({name:"_session.stop",attributes:n},this._config.provider).catch((function(e){k.debug("record session stop event failed.",e)})):this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){k.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype._trackBeforeUnload=function(e){var t=this;("function"==typeof this._config.attributes?Promise.resolve(this._config.attributes()):Promise.resolve(this._config.attributes)).then((function(e){var n=Object.assign({},e);t._tracker({name:"_session.stop",attributes:n,immediate:!0},t._config.provider).catch((function(e){k.debug("record session stop event failed.",e)}))}))},e.prototype._sendInitialEvent=function(){return x(this,void 0,void 0,(function(){var e,t,n;return D(this,(function(r){switch(r.label){case 0:return N?(k.debug("the start session has been sent when the page is loaded"),[2]):(N=!0,"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]);case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){k.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype.configure=function(e){return this._envCheck()?(Object.assign(this._config,e),this._config.enable&&!this._hasEnabled?(this._sendInitialEvent(),document.addEventListener(this._visibilityChange,this._trackFunc,!1),window.addEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!0):!this._config.enable&&this._hasEnabled&&(document.removeEventListener(this._visibilityChange,this._trackFunc,!1),window.removeEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!1),this._config):this._config},e}(),M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},M.apply(this,arguments)},U=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},F=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},j=new r.k("AnalyticsClass"),B="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",z={pageView:b,event:P,session:R},q=null,G=function(){function e(){this._config={},this._pluggables=[],this._disabled=!1,this._trackers={},q=this,this.record=this.record.bind(this),i.Xb.listen("auth",W),i.Xb.listen("storage",W),i.Xb.listen("analytics",W)}return e.prototype.getModuleName=function(){return"Analytics"},e.prototype.configure=function(e){var t=this;if(!e)return this._config;j.debug("configure Analytics",e);var n,r,s,u=o._b.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,u.Analytics,e),this._config.disabled&&(this._disabled=!0),void 0===this._config.autoSessionRecord&&(this._config.autoSessionRecord=!0),this._pluggables.forEach((function(e){var n="AWSPinpoint"!==e.getProviderName()||t._config.AWSPinpoint?t._config[e.getProviderName()]:t._config;e.configure(M({disabled:t._config.disabled,autoSessionRecord:t._config.autoSessionRecord},n))})),0===this._pluggables.length&&this.addPluggable(new a.Y),n="configured",r=null,s="The Analytics category has been configured successfully",i.Xb.dispatch("analytics",{event:n,data:r,message:s},"Analytics",B),j.debug("current configuration",this._config),this._config},e.prototype.addPluggable=function(e){if(e&&"Analytics"===e.getCategory()){this._pluggables.push(e);var t="AWSPinpoint"!==e.getProviderName()||this._config.AWSPinpoint?this._config[e.getProviderName()]:this._config,n=M({disabled:this._config.disabled},t);return e.configure(n),n}},e.prototype.getPluggable=function(e){for(var t=0;t<this._pluggables.length;t+=1){var n=this._pluggables[t];if(n.getProviderName()===e)return n}return j.debug("No plugin found with providerName",e),null},e.prototype.removePluggable=function(e){for(var t=0;t<this._pluggables.length&&this._pluggables[t].getProviderName()!==e;)t+=1;return t===this._pluggables.length?void j.debug("No plugin found with providerName",e):void this._pluggables.splice(t,t+1)},e.prototype.disable=function(){this._disabled=!0},e.prototype.enable=function(){this._disabled=!1},e.prototype.startSession=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t={event:{name:"_session.start"},provider:e},[2,this._sendEvent(t)]}))}))},e.prototype.stopSession=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t={event:{name:"_session.stop"},provider:e},[2,this._sendEvent(t)]}))}))},e.prototype.record=function(e,t,n){return U(this,void 0,void 0,(function(){var r;return F(this,(function(i){return r=null,r="string"==typeof e?{event:{name:e,attributes:t,metrics:n},provider:"AWSPinpoint"}:{event:e,provider:t},[2,this._sendEvent(r)]}))}))},e.prototype.updateEndpoint=function(e,t){return U(this,void 0,void 0,(function(){var n;return F(this,(function(r){return n=M(M({},e),{name:"_update_endpoint"}),[2,this.record(n,t)]}))}))},e.prototype._sendEvent=function(e){var t=this;if(this._disabled)return j.debug("Analytics has been disabled"),Promise.resolve();var n=e.provider?e.provider:"AWSPinpoint";return new Promise((function(r,i){t._pluggables.forEach((function(t){t.getProviderName()===n&&t.record(e,{resolve:r,reject:i})}))}))},e.prototype.autoTrack=function(e,t){if(z[e]){"session"===e&&(this._config.autoSessionRecord=t.enable);var n=this._trackers[e];n?n.configure(t):this._trackers[e]=new z[e](this.record,t)}else j.debug("invalid tracker type")},e}(),K=!1,V=!1,H=!1,W=function(e){var t=e.channel,n=e.payload;switch(j.debug("on hub capsule "+t,n),t){case"auth":J(n);break;case"storage":Y(n);break;case"analytics":Z(n)}},Y=function(e){var t=e.data,n=t.attrs,r=t.metrics;n&&H&&q.record({name:"Storage",attributes:n,metrics:r}).catch((function(e){j.debug("Failed to send the storage event automatically",e)}))},J=function(e){var t=e.event;if(t){var n=function(e){return U(void 0,void 0,void 0,(function(){var t;return F(this,(function(n){switch(n.label){case 0:if(!V||!H)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,q.record({name:"_userauth."+e})];case 2:return[2,n.sent()];case 3:return t=n.sent(),j.debug("Failed to send the "+e+" event automatically",t),[3,4];case 4:return[2]}}))}))};switch(t){case"signIn":return n("sign_in");case"signUp":return n("sign_up");case"signOut":return n("sign_out");case"signIn_failure":return n("auth_fail");case"configured":(V=!0)&&H&&Q()}}},Z=function(e){var t=e.event;if(t&&"pinpointProvider_configured"===t)H=!0,V&&H&&Q()},Q=function(){var e=q.configure();!K&&e.autoSessionRecord&&(q.updateEndpoint({immediate:!0}).catch((function(e){j.debug("Failed to update the endpoint",e)})),K=!0),q.autoTrack("session",{enable:e.autoSessionRecord})},$=new G;s.dQ.register($)},62633:function(e,t,n){"use strict";n.d(t,{s:function(){return Pt}});var r,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I,T,O,P,x,D,k,L,N,R,M,U,F,j,B,z,q,G,K,V,H,W,Y,J,Z,Q,$,X,ee,te,ne,re,ie,oe,se,ae,ue,ce,fe,le,pe,he,de,ve,ge,ye,me,be,we,Se,_e,Ee,Ae,Ce,Ie,Te,Oe,Pe,xe,De,ke,Le,Ne,Re,Me,Ue,Fe,je,Be,ze,qe,Ge,Ke,Ve,He,We,Ye,Je,Ze=n(55218),Qe=n(96307),$e=n(41030),Xe=n(4781);!function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(r||(r={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(i||(i={})),function(e){e.GZIP="GZIP",e.HADOOP_SNAPPY="HADOOP_SNAPPY",e.SNAPPY="Snappy",e.UNCOMPRESSED="UNCOMPRESSED",e.ZIP="ZIP"}(o||(o={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(s||(s={})),function(e){e.GZIP="GZIP",e.NONE="NONE"}(a||(a={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(u||(u={})),function(e){e.AWS_OWNED_CMK="AWS_OWNED_CMK",e.CUSTOMER_MANAGED_CMK="CUSTOMER_MANAGED_CMK"}(c||(c={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(f||(f={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(l||(l={})),function(e){e.BUFFER_INTERVAL_IN_SECONDS="BufferIntervalInSeconds",e.BUFFER_SIZE_IN_MB="BufferSizeInMBs",e.LAMBDA_ARN="LambdaArn",e.LAMBDA_NUMBER_OF_RETRIES="NumberOfRetries",e.ROLE_ARN="RoleArn"}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(h||(h={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(d||(d={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(b||(b={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(w||(w={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(E||(E={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(A||(A={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(C||(C={})),function(e){e.NONE="NONE",e.SNAPPY="SNAPPY",e.ZLIB="ZLIB"}(I||(I={})),function(e){e.V0_11="V0_11",e.V0_12="V0_12"}(T||(T={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(O||(O={})),function(e){e.GZIP="GZIP",e.SNAPPY="SNAPPY",e.UNCOMPRESSED="UNCOMPRESSED"}(P||(P={})),function(e){e.V1="V1",e.V2="V2"}(x||(x={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(k||(k={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)((0,$e.pi)({},e),e.Url&&{Url:Xe.oc}),e.AccessKey&&{AccessKey:Xe.oc})}}(F||(F={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)((0,$e.pi)({},e),e.AttributeName&&{AttributeName:Xe.oc}),e.AttributeValue&&{AttributeValue:Xe.oc})}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)({},e),e.CommonAttributes&&{CommonAttributes:e.CommonAttributes.map((function(e){return j.filterSensitiveLog(e)}))})}}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)((0,$e.pi)({},e),e.EndpointConfiguration&&{EndpointConfiguration:F.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:B.filterSensitiveLog(e.RequestConfiguration)})}}(q||(q={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)((0,$e.pi)({},e),e.Username&&{Username:Xe.oc}),e.Password&&{Password:Xe.oc})}}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)((0,$e.pi)({},e),e.RedshiftDestinationConfiguration&&{RedshiftDestinationConfiguration:V.filterSensitiveLog(e.RedshiftDestinationConfiguration)}),e.HttpEndpointDestinationConfiguration&&{HttpEndpointDestinationConfiguration:q.filterSensitiveLog(e.HttpEndpointDestinationConfiguration)})}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(re||(re={})),function(e){e.CREATE_ENI_FAILED="CREATE_ENI_FAILED",e.CREATE_KMS_GRANT_FAILED="CREATE_KMS_GRANT_FAILED",e.DELETE_ENI_FAILED="DELETE_ENI_FAILED",e.DISABLED_KMS_KEY="DISABLED_KMS_KEY",e.ENI_ACCESS_DENIED="ENI_ACCESS_DENIED",e.INVALID_KMS_KEY="INVALID_KMS_KEY",e.KMS_ACCESS_DENIED="KMS_ACCESS_DENIED",e.KMS_KEY_NOT_FOUND="KMS_KEY_NOT_FOUND",e.KMS_OPT_IN_REQUIRED="KMS_OPT_IN_REQUIRED",e.RETIRE_KMS_GRANT_FAILED="RETIRE_KMS_GRANT_FAILED",e.SECURITY_GROUP_ACCESS_DENIED="SECURITY_GROUP_ACCESS_DENIED",e.SECURITY_GROUP_NOT_FOUND="SECURITY_GROUP_NOT_FOUND",e.SUBNET_ACCESS_DENIED="SUBNET_ACCESS_DENIED",e.SUBNET_NOT_FOUND="SUBNET_NOT_FOUND",e.UNKNOWN_ERROR="UNKNOWN_ERROR"}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(oe||(oe={})),function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.DISABLING_FAILED="DISABLING_FAILED",e.ENABLED="ENABLED",e.ENABLING="ENABLING",e.ENABLING_FAILED="ENABLING_FAILED"}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(ae||(ae={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.CREATING_FAILED="CREATING_FAILED",e.DELETING="DELETING",e.DELETING_FAILED="DELETING_FAILED"}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)({},e),e.Url&&{Url:Xe.oc})}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)((0,$e.pi)({},e),e.EndpointConfiguration&&{EndpointConfiguration:he.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:B.filterSensitiveLog(e.RequestConfiguration)})}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)({},e),e.Username&&{Username:Xe.oc})}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)((0,$e.pi)({},e),e.RedshiftDestinationDescription&&{RedshiftDestinationDescription:ve.filterSensitiveLog(e.RedshiftDestinationDescription)}),e.HttpEndpointDestinationDescription&&{HttpEndpointDestinationDescription:de.filterSensitiveLog(e.HttpEndpointDestinationDescription)})}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)({},e),e.Destinations&&{Destinations:e.Destinations.map((function(e){return ye.filterSensitiveLog(e)}))})}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)({},e),e.DeliveryStreamDescription&&{DeliveryStreamDescription:we.filterSensitiveLog(e.DeliveryStreamDescription)})}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(De||(De={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Be||(Be={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)((0,$e.pi)({},e),e.EndpointConfiguration&&{EndpointConfiguration:F.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:B.filterSensitiveLog(e.RequestConfiguration)})}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)((0,$e.pi)({},e),e.Username&&{Username:Xe.oc}),e.Password&&{Password:Xe.oc})}}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)((0,$e.pi)((0,$e.pi)({},e),e.RedshiftDestinationUpdate&&{RedshiftDestinationUpdate:He.filterSensitiveLog(e.RedshiftDestinationUpdate)}),e.HttpEndpointDestinationUpdate&&{HttpEndpointDestinationUpdate:Ve.filterSensitiveLog(e.HttpEndpointDestinationUpdate)})}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return(0,$e.pi)({},e)}}(Je||(Je={}));var et,tt=n(71926),nt=n(28064),rt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,$e.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,nt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"FirehoseClient",commandName:"PutRecordBatchCommand",inputFilterSensitiveLog:Ne.filterSensitiveLog,outputFilterSensitiveLog:Me.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,tt.N$)(e,t)},t.prototype.deserialize=function(e,t){return(0,tt.wl)(e,t)},t}(Xe.mY),it=n(14552),ot=n(4986),st=n(3241),at=n(41817),ut=n(34252),ct=n(46105),ft=n(5287),lt=n(24177),pt="firehose.{region}.amazonaws.com",ht=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),dt=new Set(["cn-north-1","cn-northwest-1"]),vt=new Set(["us-iso-east-1"]),gt=new Set(["us-isob-east-1"]),yt=new Set(["us-gov-east-1","us-gov-west-1"]),mt={apiVersion:"2015-08-04",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"firehose.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"firehose.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"firehose.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"firehose.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"firehose.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"firehose.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"firehose.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"firehose.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"firehose.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"firehose.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"firehose.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"firehose.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"firehose.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"firehose.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"firehose.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"firehose.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"firehose-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"firehose-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-east-1":n={hostname:"firehose-fips.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"fips-us-gov-west-1":n={hostname:"firehose-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-1":n={hostname:"firehose-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"firehose-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"firehose.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"firehose.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"firehose.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"firehose.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"firehose.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"firehose.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"firehose.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"firehose.us-west-2.amazonaws.com",partition:"aws"};break;default:ht.has(e)&&(n={hostname:pt.replace("{region}",e),partition:"aws"}),dt.has(e)&&(n={hostname:"firehose.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),vt.has(e)&&(n={hostname:"firehose.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),gt.has(e)&&(n={hostname:"firehose.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),yt.has(e)&&(n={hostname:"firehose.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:pt.replace("{region}",e),partition:"aws"})}return Promise.resolve((0,$e.pi)({signingService:"firehose"},n))},serviceId:"Firehose",urlParser:n(61488).e},bt=(0,$e.pi)((0,$e.pi)({},mt),{runtime:"browser",base64Decoder:ut.G,base64Encoder:ut.s,bodyLengthChecker:ct.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,ft.f)({serviceId:mt.serviceId,clientVersion:"3.6.1"}),maxAttempts:at.J,region:(0,st.n)("Region is missing"),requestHandler:new ot.B,sha256:it.Sha256,streamCollector:ot.C,utf8Decoder:lt.fromUtf8,utf8Encoder:lt.toUtf8}),wt=n(25562),St=n(99561),_t=n(47498),Et=n(7317),At=n(29960),Ct=n(83512),It=function(e){function t(t){var n=this,r=(0,$e.pi)((0,$e.pi)({},bt),t),i=(0,wt.Xb)(r),o=(0,wt.g4)(i),s=(0,At.A$)(o),a=(0,at.BC)(s),u=(0,_t.S8)(a),c=(0,Ct.er)(u);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use((0,At.yt)(n.config)),n.middlewareStack.use((0,at.NQ)(n.config)),n.middlewareStack.use((0,St.VG)(n.config)),n.middlewareStack.use((0,_t.G2)(n.config)),n.middlewareStack.use((0,Et.cV)(n.config)),n.middlewareStack.use((0,Ct.XJ)(n.config)),n}return(0,$e.ZT)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Xe.KU),Tt=(et=function(e,t){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},et(e,t)},function(e,t){function n(){this.constructor=e}et(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ot=new Ze.k("AWSKineisFirehoseProvider"),Pt=function(e){function t(t){return e.call(this,t)||this}return Tt(t,e),t.prototype.getProviderName=function(){return"AWSKinesisFirehose"},t.prototype._sendEvents=function(e){var t=this;if(0!==e.length){var n=e[0],r=n.config,i=n.credentials;if(!this._init(r,i))return!1;var o={};e.map((function(e){var t=e.event,n=t.streamName,r=t.data;void 0===o[n]&&(o[n]=[]);var i=r&&"string"!=typeof r?JSON.stringify(r):r,s={Data:(0,lt.fromUtf8)(i)};o[n].push(s)})),Object.keys(o).map((function(e){Ot.debug("putting records to kinesis",e,"with records",o[e]),t._kinesisFirehose.send(new rt({Records:o[e],DeliveryStreamName:e})).then((function(t){return Ot.debug("Upload records to stream",e)})).catch((function(e){return Ot.debug("Failed to upload records to Kinesis",e)}))}))}},t.prototype._init=function(e,t){if(Ot.debug("init clients"),this._kinesisFirehose&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return Ot.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return this._initFirehose(n,t)},t.prototype._initFirehose=function(e,t){return Ot.debug("initialize kinesis firehose with credentials",t),this._kinesisFirehose=new It({apiVersion:"2015-08-04",region:e,credentials:t}),!0},t}(Qe.s)},96307:function(e,t,n){"use strict";n.d(t,{s:function(){return ht}});var r,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I,T,O,P,x,D,k,L,N,R,M,U,F,j,B,z,q,G,K,V,H,W,Y,J,Z,Q,$,X,ee,te,ne,re,ie,oe,se,ae,ue,ce,fe,le,pe,he,de,ve,ge,ye,me,be,we,Se,_e,Ee,Ae,Ce,Ie,Te,Oe,Pe,xe,De=n(55218),ke=n(1648),Le=n(17672),Ne=n(95105);!function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(r||(r={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(i||(i={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(o||(o={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(s||(s={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(a||(a={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(u||(u={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(c||(c={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING"}(f||(f={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(l||(l={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(h||(h={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(d||(d={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(b||(b={})),function(e){e.KMS="KMS",e.NONE="NONE"}(w||(w={})),function(e){e.ALL="ALL",e.INCOMING_BYTES="IncomingBytes",e.INCOMING_RECORDS="IncomingRecords",e.ITERATOR_AGE_MILLISECONDS="IteratorAgeMilliseconds",e.OUTGOING_BYTES="OutgoingBytes",e.OUTGOING_RECORDS="OutgoingRecords",e.READ_PROVISIONED_THROUGHPUT_EXCEEDED="ReadProvisionedThroughputExceeded",e.WRITE_PROVISIONED_THROUGHPUT_EXCEEDED="WriteProvisionedThroughputExceeded"}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(E||(E={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(A||(A={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"}(C||(C={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(T||(T={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(O||(O={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(P||(P={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(x||(x={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(k||(k={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(F||(F={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(q||(q={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(W||(W={})),function(e){e.AFTER_SEQUENCE_NUMBER="AFTER_SEQUENCE_NUMBER",e.AT_SEQUENCE_NUMBER="AT_SEQUENCE_NUMBER",e.AT_TIMESTAMP="AT_TIMESTAMP",e.LATEST="LATEST",e.TRIM_HORIZON="TRIM_HORIZON"}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}($||($={})),function(e){e.AFTER_SHARD_ID="AFTER_SHARD_ID",e.AT_LATEST="AT_LATEST",e.AT_TIMESTAMP="AT_TIMESTAMP",e.AT_TRIM_HORIZON="AT_TRIM_HORIZON",e.FROM_TIMESTAMP="FROM_TIMESTAMP",e.FROM_TRIM_HORIZON="FROM_TRIM_HORIZON"}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(Ce||(Ce={})),function(e){e.visit=function(e,t){return void 0!==e.SubscribeToShardEvent?t.SubscribeToShardEvent(e.SubscribeToShardEvent):void 0!==e.ResourceNotFoundException?t.ResourceNotFoundException(e.ResourceNotFoundException):void 0!==e.ResourceInUseException?t.ResourceInUseException(e.ResourceInUseException):void 0!==e.KMSDisabledException?t.KMSDisabledException(e.KMSDisabledException):void 0!==e.KMSInvalidStateException?t.KMSInvalidStateException(e.KMSInvalidStateException):void 0!==e.KMSAccessDeniedException?t.KMSAccessDeniedException(e.KMSAccessDeniedException):void 0!==e.KMSNotFoundException?t.KMSNotFoundException(e.KMSNotFoundException):void 0!==e.KMSOptInRequired?t.KMSOptInRequired(e.KMSOptInRequired):void 0!==e.KMSThrottlingException?t.KMSThrottlingException(e.KMSThrottlingException):void 0!==e.InternalFailureException?t.InternalFailureException(e.InternalFailureException):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.SubscribeToShardEvent?{SubscribeToShardEvent:Ce.filterSensitiveLog(e.SubscribeToShardEvent)}:void 0!==e.ResourceNotFoundException?{ResourceNotFoundException:a.filterSensitiveLog(e.ResourceNotFoundException)}:void 0!==e.ResourceInUseException?{ResourceInUseException:s.filterSensitiveLog(e.ResourceInUseException)}:void 0!==e.KMSDisabledException?{KMSDisabledException:q.filterSensitiveLog(e.KMSDisabledException)}:void 0!==e.KMSInvalidStateException?{KMSInvalidStateException:G.filterSensitiveLog(e.KMSInvalidStateException)}:void 0!==e.KMSAccessDeniedException?{KMSAccessDeniedException:z.filterSensitiveLog(e.KMSAccessDeniedException)}:void 0!==e.KMSNotFoundException?{KMSNotFoundException:K.filterSensitiveLog(e.KMSNotFoundException)}:void 0!==e.KMSOptInRequired?{KMSOptInRequired:V.filterSensitiveLog(e.KMSOptInRequired)}:void 0!==e.KMSThrottlingException?{KMSThrottlingException:H.filterSensitiveLog(e.KMSThrottlingException)}:void 0!==e.InternalFailureException?{InternalFailureException:$.filterSensitiveLog(e.InternalFailureException)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)((0,Ne.pi)({},e),e.EventStream&&{EventStream:"STREAMING_CONTENT"})}}(Te||(Te={})),function(e){e.UNIFORM_SCALING="UNIFORM_SCALING"}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ne.pi)({},e)}}(xe||(xe={}));var Re=n(9334),Me=n(28064),Ue=n(4781),Fe=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ne.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,Me.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"KinesisClient",commandName:"PutRecordsCommand",inputFilterSensitiveLog:de.filterSensitiveLog,outputFilterSensitiveLog:ge.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Re.L5)(e,t)},t.prototype.deserialize=function(e,t){return(0,Re.NS)(e,t)},t}(Ue.mY),je=n(14552),Be=n(19283),ze=n(4986),qe=n(3241),Ge=n(41817),Ke=n(34252),Ve=n(46105),He=n(5287),We=n(24177),Ye="kinesis.{region}.amazonaws.com",Je=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Ze=new Set(["cn-north-1","cn-northwest-1"]),Qe=new Set(["us-iso-east-1"]),$e=new Set(["us-isob-east-1"]),Xe=new Set(["us-gov-east-1","us-gov-west-1"]),et={apiVersion:"2013-12-02",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"kinesis.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"kinesis.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"kinesis.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"kinesis.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"kinesis.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"kinesis.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"kinesis.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"kinesis.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"kinesis.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"kinesis.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"kinesis.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"kinesis.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"kinesis.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"kinesis.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"kinesis.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"kinesis.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"kinesis-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"kinesis-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"kinesis-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"kinesis-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"kinesis.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"kinesis.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"kinesis.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"kinesis.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"kinesis.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"kinesis.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"kinesis.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"kinesis.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"kinesis.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"kinesis.us-west-2.amazonaws.com",partition:"aws"};break;default:Je.has(e)&&(n={hostname:Ye.replace("{region}",e),partition:"aws"}),Ze.has(e)&&(n={hostname:"kinesis.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Qe.has(e)&&(n={hostname:"kinesis.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),$e.has(e)&&(n={hostname:"kinesis.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Xe.has(e)&&(n={hostname:"kinesis.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Ye.replace("{region}",e),partition:"aws"})}return Promise.resolve((0,Ne.pi)({signingService:"kinesis"},n))},serviceId:"Kinesis",urlParser:n(61488).e},tt=(0,Ne.pi)((0,Ne.pi)({},et),{runtime:"browser",base64Decoder:Ke.G,base64Encoder:Ke.s,bodyLengthChecker:Ve.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,He.f)({serviceId:et.serviceId,clientVersion:"3.6.1"}),eventStreamSerdeProvider:Be.VQ,maxAttempts:Ge.J,region:(0,qe.n)("Region is missing"),requestHandler:new ze.B,sha256:je.Sha256,streamCollector:ze.C,utf8Decoder:We.fromUtf8,utf8Encoder:We.toUtf8}),nt=n(25562),rt=n(29597),it=n(99561),ot=n(47498),st=n(7317),at=n(29960),ut=n(83512),ct=function(e){function t(t){var n=this,r=(0,Ne.pi)((0,Ne.pi)({},tt),t),i=(0,nt.Xb)(r),o=(0,nt.g4)(i),s=(0,at.A$)(o),a=(0,Ge.BC)(s),u=(0,ot.S8)(a),c=(0,ut.er)(u),f=(0,rt.t)(c);return(n=e.call(this,f)||this).config=f,n.middlewareStack.use((0,at.yt)(n.config)),n.middlewareStack.use((0,Ge.NQ)(n.config)),n.middlewareStack.use((0,it.VG)(n.config)),n.middlewareStack.use((0,ot.G2)(n.config)),n.middlewareStack.use((0,st.cV)(n.config)),n.middlewareStack.use((0,ut.XJ)(n.config)),n}return(0,Ne.ZT)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ue.KU),ft=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},lt=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},pt=new De.k("AWSKinesisProvider"),ht=function(){function e(e){this._buffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||1e3,this._config.flushSize=this._config.flushSize||100,this._config.flushInterval=this._config.flushInterval||5e3,this._config.resendLimit=this._config.resendLimit||5,this._setupTimer()}return e.prototype._setupTimer=function(){var e=this;this._timer&&clearInterval(this._timer);var t=this._config,n=t.flushSize,r=t.flushInterval;this._timer=setInterval((function(){for(var t=e._buffer.length<n?e._buffer.length:n,r=[],i=0;i<t;i+=1){var o=e._buffer.shift();r.push(o)}e._sendFromBuffer(r)}),r)},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AWSKinesis"},e.prototype.configure=function(e){pt.debug("configure Analytics",e);var t=e||{};return this._config=Object.assign({},this._config,t),this._setupTimer(),this._config},e.prototype.record=function(e){return ft(this,void 0,void 0,(function(){var t;return lt(this,(function(n){switch(n.label){case 0:return[4,this._getCredentials()];case 1:return(t=n.sent())?(Object.assign(e,{config:this._config,credentials:t}),[2,this._putToBuffer(e)]):[2,Promise.resolve(!1)]}}))}))},e.prototype.updateEndpoint=function(){return pt.debug("updateEndpoint is not implemented in Kinesis provider"),Promise.resolve(!0)},e.prototype._putToBuffer=function(e){return this._buffer.length<1e3?(this._buffer.push(e),Promise.resolve(!0)):(pt.debug("exceed analytics events buffer size"),Promise.reject(!1))},e.prototype._sendFromBuffer=function(e){for(var t=this,n=[],r=null,i=[],o=0;o<e.length;o+=1){var s=e[o].credentials;0===o?(i.push(e[o]),r=s):s.sessionToken===r.sessionToken&&s.identityId===r.identityId?(pt.debug("no change for cred, put event in the same group"),i.push(e[o])):(n.push(i),(i=[]).push(e[o]),r=s)}n.push(i),n.map((function(e){t._sendEvents(e)}))},e.prototype._sendEvents=function(e){var t=this;if(0!==e.length){var n=e[0],r=n.config,i=n.credentials;if(!this._init(r,i))return!1;var o={};e.map((function(e){var t=e.event,n=t.streamName;void 0===o[n]&&(o[n]=[]);var r=t.data&&"string"!=typeof t.data?JSON.stringify(t.data):t.data,s={Data:(0,We.fromUtf8)(r),PartitionKey:t.partitionKey||"partition-"+i.identityId};o[n].push(s)})),Object.keys(o).map((function(e){return ft(t,void 0,void 0,(function(){var t,n;return lt(this,(function(r){switch(r.label){case 0:pt.debug("putting records to kinesis with records",o[e]),r.label=1;case 1:return r.trys.push([1,3,,4]),t=new Fe({Records:o[e],StreamName:e}),[4,this._kinesis.send(t)];case 2:return r.sent(),pt.debug("Upload records to stream",e),[3,4];case 3:return n=r.sent(),pt.debug("Failed to upload records to Kinesis",n),[3,4];case 4:return[2]}}))}))}))}},e.prototype._init=function(e,t){if(pt.debug("init clients"),this._kinesis&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return pt.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region,r=e.endpoint;return this._initKinesis(n,r,t)},e.prototype._initKinesis=function(e,t,n){return pt.debug("initialize kinesis with credentials",n),this._kinesis=new ct({region:e,credentials:n,customUserAgent:(0,ke.Zm)(),endpoint:t}),!0},e.prototype._getCredentials=function(){var e=this;return Le.cN.get().then((function(t){return t?(pt.debug("set credentials for analytics",e._config.credentials),Le.cN.shear(t)):null})).catch((function(e){return pt.debug("ensure credentials error",e),null}))},e}()},66306:function(e,t,n){"use strict";n.d(t,{Y:function(){return Dn}});var r,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I,T,O,P,x,D,k,L,N,R,M,U,F,j,B,z,q,G,K,V,H,W,Y,J,Z,Q,$,X,ee,te,ne,re,ie,oe,se,ae,ue,ce,fe,le,pe,he,de,ve,ge,ye,me,be,we,Se,_e,Ee,Ae,Ce,Ie,Te,Oe,Pe,xe,De,ke,Le,Ne,Re,Me,Ue,Fe,je,Be,ze,qe,Ge,Ke,Ve,He,We,Ye,Je,Ze,Qe,$e,Xe,et,tt,nt,rt,it,ot,st,at,ut,ct,ft,lt,pt,ht,dt,vt,gt,yt,mt,bt,wt,St,_t,Et,At,Ct,It=n(60643),Tt=n(55218),Ot=n(44141),Pt=n(62579),xt=n(20617),Dt=n(1648),kt=n(17672),Lt=n(77146);!function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(r||(r={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(i||(i={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(o||(o={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(s||(s={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(a||(a={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(u||(u={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(c||(c={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(f||(f={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(l||(l={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(h||(h={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(d||(d={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(b||(b={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(w||(w={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(E||(E={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(A||(A={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(C||(C={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(T||(T={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(O||(O={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(P||(P={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(x||(x={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(k||(k={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(F||(F={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(q||(q={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(De||(De={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Be||(Be={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Je||(Je={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ze||(Ze={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Qe||(Qe={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}($e||($e={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Xe||(Xe={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(et||(et={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(tt||(tt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(nt||(nt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(rt||(rt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(it||(it={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ot||(ot={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(st||(st={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(at||(at={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ut||(ut={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ct||(ct={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ft||(ft={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(lt||(lt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(pt||(pt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(ht||(ht={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(dt||(dt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(vt||(vt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(gt||(gt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(yt||(yt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(mt||(mt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(bt||(bt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(wt||(wt={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(St||(St={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(_t||(_t={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Et||(Et={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(At||(At={})),function(e){e.filterSensitiveLog=function(e){return(0,Lt.pi)({},e)}}(Ct||(Ct={}));var Nt=n(27941),Rt=n(28064),Mt=n(4781),Ut=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Lt.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,Rt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"PinpointClient",commandName:"PutEventsCommand",inputFilterSensitiveLog:he.filterSensitiveLog,outputFilterSensitiveLog:de.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Nt.u7H)(e,t)},t.prototype.deserialize=function(e,t){return(0,Nt.zZu)(e,t)},t}(Mt.mY),Ft=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Lt.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,Rt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"PinpointClient",commandName:"UpdateEndpointCommand",inputFilterSensitiveLog:Ze.filterSensitiveLog,outputFilterSensitiveLog:Qe.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Nt.Oje)(e,t)},t.prototype.deserialize=function(e,t){return(0,Nt.XyP)(e,t)},t}(Mt.mY),jt=n(14552),Bt=n(4986),zt=n(3241),qt=n(41817),Gt=n(34252),Kt=n(46105),Vt=n(5287),Ht=n(24177),Wt="pinpoint.{region}.amazonaws.com",Yt=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Jt=new Set(["cn-north-1","cn-northwest-1"]),Zt=new Set(["us-iso-east-1"]),Qt=new Set(["us-isob-east-1"]),$t=new Set(["us-gov-east-1","us-gov-west-1"]),Xt={apiVersion:"2016-12-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"pinpoint.ap-northeast-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-northeast-2":n={hostname:"pinpoint.ap-northeast-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-south-1":n={hostname:"pinpoint.ap-south-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-southeast-1":n={hostname:"pinpoint.ap-southeast-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-southeast-2":n={hostname:"pinpoint.ap-southeast-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ca-central-1":n={hostname:"pinpoint.ca-central-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-central-1":n={hostname:"pinpoint.eu-central-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-west-1":n={hostname:"pinpoint.eu-west-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-west-2":n={hostname:"pinpoint.eu-west-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"fips-us-east-1":n={hostname:"pinpoint-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-gov-west-1":n={hostname:"pinpoint-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"pinpoint-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"us-east-1":n={hostname:"pinpoint.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"us-gov-west-1":n={hostname:"pinpoint.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-west-2":n={hostname:"pinpoint.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;default:Yt.has(e)&&(n={hostname:Wt.replace("{region}",e),partition:"aws",signingService:"mobiletargeting"}),Jt.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Zt.has(e)&&(n={hostname:"pinpoint.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Qt.has(e)&&(n={hostname:"pinpoint.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),$t.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov",signingService:"mobiletargeting"}),void 0===n&&(n={hostname:Wt.replace("{region}",e),partition:"aws",signingService:"mobiletargeting"})}return Promise.resolve((0,Lt.pi)({signingService:"mobiletargeting"},n))},serviceId:"Pinpoint",urlParser:n(61488).e},en=(0,Lt.pi)((0,Lt.pi)({},Xt),{runtime:"browser",base64Decoder:Gt.G,base64Encoder:Gt.s,bodyLengthChecker:Kt.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,Vt.f)({serviceId:Xt.serviceId,clientVersion:"3.6.1"}),maxAttempts:qt.J,region:(0,zt.n)("Region is missing"),requestHandler:new Bt.B,sha256:jt.Sha256,streamCollector:Bt.C,utf8Decoder:Ht.fromUtf8,utf8Encoder:Ht.toUtf8}),tn=n(25562),nn=n(99561),rn=n(47498),on=n(7317),sn=n(29960),an=n(83512),un=function(e){function t(t){var n=this,r=(0,Lt.pi)((0,Lt.pi)({},en),t),i=(0,tn.Xb)(r),o=(0,tn.g4)(i),s=(0,sn.A$)(o),a=(0,qt.BC)(s),u=(0,rn.S8)(a),c=(0,an.er)(u);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use((0,sn.yt)(n.config)),n.middlewareStack.use((0,qt.NQ)(n.config)),n.middlewareStack.use((0,nn.VG)(n.config)),n.middlewareStack.use((0,rn.G2)(n.config)),n.middlewareStack.use((0,on.cV)(n.config)),n.middlewareStack.use((0,an.XJ)(n.config)),n}return(0,Lt.ZT)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Mt.KU),cn=n(56805),fn=n(32437),ln=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},pn=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},hn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},dn=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(hn(arguments[t]));return e},vn=new Tt.k("EventsBuffer"),gn=[429,500],yn=[202],mn=function(){function e(e,t){this._pause=!1,this._flush=!1,vn.debug("Instantiating buffer with config:",t),this._buffer=[],this._client=e,this._config=t,this._sendBatch=this._sendBatch.bind(this),this._startLoop()}return e.prototype.push=function(e){var t;if(this._buffer>this._config.bufferSize)return vn.debug("Exceeded analytics events buffer size"),e.handlers.reject(new Error("Exceeded the size of analytics events buffer"));var n=((t={})[e.params.event.eventId]=e,t);this._buffer.push(n)},e.prototype.pause=function(){this._pause=!0},e.prototype.resume=function(){this._pause=!1},e.prototype.updateClient=function(e){this._client=e},e.prototype.flush=function(){this._flush=!0},e.prototype._startLoop=function(){this._interval&&clearInterval(this._interval);var e=this._config.flushInterval;this._interval=setInterval(this._sendBatch,e)},e.prototype._sendBatch=function(){var e=this._buffer.length;if(this._flush&&!e&&clearInterval(this._interval),!this._pause&&e){var t=this._config.flushSize,n=Math.min(t,e),r=this._buffer.splice(0,n);this._putEvents(r)}},e.prototype._putEvents=function(e){return ln(this,void 0,void 0,(function(){var t,n,r,i,o;return pn(this,(function(s){switch(s.label){case 0:t=this._bufferToMap(e),n=this._generateBatchEventParams(t),s.label=1;case 1:return s.trys.push([1,3,,4]),r=new Ut(n),[4,this._client.send(r)];case 2:return i=s.sent(),this._processPutEventsSuccessResponse(i,t),[3,4];case 3:return o=s.sent(),[2,this._handlePutEventsFailure(o,t)];case 4:return[2]}}))}))},e.prototype._generateBatchEventParams=function(e){var t={ApplicationId:"",EventsRequest:{BatchItem:{}}};return Object.values(e).forEach((function(e){var n=e.params,r=n.event,i=n.timestamp,o=n.config,s=r.name,a=r.attributes,u=r.metrics,c=r.eventId,f=r.session,l=o.appId,p=o.endpointId,h=t.EventsRequest.BatchItem;t.ApplicationId=t.ApplicationId||l,h[p]||(h[p]={Endpoint:{},Events:{}}),h[p].Events[c]={EventType:s,Timestamp:new Date(i).toISOString(),Attributes:a,Metrics:u,Session:f}})),t},e.prototype._handlePutEventsFailure=function(e,t){vn.debug("_putEvents Failed: ",e);var n=e.$metadata&&e.$metadata.httpStatusCode;if(gn.includes(n)){var r=Object.values(t);this._retry(r)}else;},e.prototype._processPutEventsSuccessResponse=function(e,t){var n=e.EventsResponse.Results,r=[];Object.entries(n).forEach((function(e){var n=hn(e,2),i=n[0],o=n[1].EventsItemResponse;Object.entries(o).forEach((function(e){var n,o,s=hn(e,2),a=s[0],u=s[1],c=u.StatusCode,f=u.Message,l=t[a],p={EventsResponse:{Results:(n={},n[i]={EventsItemResponse:(o={},o[a]={StatusCode:c,Message:f},o)},n)}};if(yn.includes(c))l.handlers.resolve(p);else{if(!gn.includes(c)){var h=l.params.event.name;return vn.error("event "+a+" : "+h+" failed with error: "+f),l.handlers.reject(p)}r.push(l)}}))})),r.length&&this._retry(r)},e.prototype._retry=function(e){var t,n=[];e.forEach((function(e){var t,r=e.params,i=r.event,o=i.eventId,s=i.name;if(r.resendLimit-- >0)return vn.debug("resending event "+o+" : "+s+" with "+r.resendLimit+" retry attempts remaining"),void n.push((t={},t[o]=e,t));vn.debug("no retry attempts remaining for event "+o+" : "+s)})),(t=this._buffer).unshift.apply(t,dn(n))},e.prototype._bufferToMap=function(e){return e.reduce((function(e,t){var n=hn(Object.entries(t),1),r=hn(n[0],2),i=r[0],o=r[1];return e[i]=o,e}),{})},e}(),bn=function(){return bn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bn.apply(this,arguments)},wn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Sn=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},_n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},En="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",An=function(e,t){It.Xb.dispatch("analytics",{event:e,data:t},"Analytics",En)},Cn=new Tt.k("AWSPinpointProvider"),In=[429,500],Tn=[202],On="_update_endpoint",Pn="_session.stop",xn="undefined"!=typeof navigator&&navigator&&"function"==typeof navigator.sendBeacon,Dn=function(){function e(e){this._endpointGenerating=!0,this._endpointUpdateInProgress=!1,this._buffer=null,this._endpointBuffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||1e3,this._config.flushSize=this._config.flushSize||100,this._config.flushInterval=this._config.flushInterval||5e3,this._config.resendLimit=this._config.resendLimit||5,this._clientInfo=Ot._.clientInfo()}return e.prototype.getCategory=function(){return e.category},e.prototype.getProviderName=function(){return e.providerName},e.prototype.configure=function(e){var t=this;Cn.debug("configure Analytics",e);var n=e||{};if(this._config=Object.assign({},this._config,n),this._endpointGenerating=!!e.autoSessionRecord,this._config.appId&&!this._config.disabled)if(this._config.endpointId)An("pinpointProvider_configured",null);else{var r=this.getProviderName()+"_"+this._config.appId;this._getEndpointId(r).then((function(e){Cn.debug("setting endpoint id from the cache",e),t._config.endpointId=e,An("pinpointProvider_configured",null)})).catch((function(e){Cn.debug("Failed to generate endpointId",e)}))}else this._flushBuffer();return this._config},e.prototype.record=function(e,t){return wn(this,void 0,void 0,(function(){var n,r;return Sn(this,(function(i){switch(i.label){case 0:return Cn.debug("_public record",e),[4,this._getCredentials()];case 1:return(n=i.sent())&&this._config.appId&&this._config.region?(this._initClients(n),r=(new Date).getTime(),this._generateSession(e),e.event.eventId=(0,fn.v1)(),Object.assign(e,{timestamp:r,config:this._config}),e.event.immediate?[2,this._send(e,t)]:(this._putToBuffer(e,t),[2])):(Cn.debug("cannot send events without credentials, applicationId or region"),[2,t.reject(new Error("No credentials, applicationId or region"))])}}))}))},e.prototype._sendEndpointUpdate=function(e){return wn(this,void 0,void 0,(function(){var t;return Sn(this,(function(n){switch(n.label){case 0:return this._endpointUpdateInProgress?(this._endpointBuffer.push(e),[2]):(this._endpointUpdateInProgress=!0,[4,this._updateEndpoint(e)]);case 1:return n.sent(),t=this._endpointBuffer.shift(),this._endpointUpdateInProgress=!1,t&&this._sendEndpointUpdate(t),[2]}}))}))},e.prototype._putToBuffer=function(e,t){e.event.name!==On?this._buffer&&this._buffer.push({params:e,handlers:t}):this._sendEndpointUpdate({params:e,handlers:t})},e.prototype._generateSession=function(e){this._sessionId=this._sessionId||(0,fn.v1)();var t=e.event;switch(t.name){case"_session.start":this._sessionStartTimestamp=(new Date).getTime(),this._sessionId=(0,fn.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()};break;case Pn:var n=(new Date).getTime();this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||(0,fn.v1)(),t.session={Id:this._sessionId,Duration:n-this._sessionStartTimestamp,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString(),StopTimestamp:new Date(n).toISOString()},this._sessionId=void 0,this._sessionStartTimestamp=void 0;break;default:this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||(0,fn.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()}}},e.prototype._send=function(e,t){return wn(this,void 0,void 0,(function(){return Sn(this,(function(n){switch(e.event.name){case On:return[2,this._updateEndpoint({params:e,handlers:t})];case Pn:return[2,this._pinpointSendStopSession(e,t)];default:return[2,this._pinpointPutEvents(e,t)]}return[2]}))}))},e.prototype._generateBatchItemContext=function(e){var t,n=e.event,r=e.timestamp,i=e.config,o=n.name,s=n.attributes,a=n.metrics,u=n.eventId,c=n.session,f=i.appId,l=i.endpointId,p={ApplicationId:f,EventsRequest:{BatchItem:{}}},h={Endpoint:{}};return h.Events=((t={})[u]={EventType:o,Timestamp:new Date(r).toISOString(),Attributes:s,Metrics:a,Session:c},t),p.EventsRequest.BatchItem[l]=h,p},e.prototype._pinpointPutEvents=function(e,t){return wn(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,p;return Sn(this,(function(h){switch(h.label){case 0:n=e.event.eventId,r=e.config.endpointId,i=this._generateBatchItemContext(e),o=new Ut(i),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.pinpointClient.send(o)];case 2:return s=h.sent(),a=r,u=n,c=s.EventsResponse.Results[a].EventsItemResponse[u],f=c.StatusCode,l=c.Message,Tn.includes(f)?(Cn.debug("record event success. ",s),[2,t.resolve(s)]):In.includes(f)?(this._retry(e,t),[3,4]):(Cn.error("Event "+n+" is not accepted, the error is "+l),[2,t.reject(s)]);case 3:return p=h.sent(),this._eventError(p),[2,t.reject(p)];case 4:return[2]}}))}))},e.prototype._pinpointSendStopSession=function(e,t){if(xn){var n=this._generateBatchItemContext(e),r=this._config.region,i=n.ApplicationId,o=n.EventsRequest,s={secret_key:this._config.credentials.secretAccessKey,access_key:this._config.credentials.accessKeyId,session_token:this._config.credentials.sessionToken},a="https://pinpoint."+r+".amazonaws.com/v1/apps/"+i+"/events/legacy",u=JSON.stringify(o),c={url:a,body:u,method:"POST"},f={region:r,service:"mobiletargeting"},l=Pt.E.signUrl(c,s,f,null);return navigator.sendBeacon(l,u)?t.resolve("sendBeacon success"):t.reject("sendBeacon failure")}this._pinpointPutEvents(e,t)},e.prototype._retry=function(e,t){var n=e.config.resendLimit;e.resendLimit="number"==typeof e.resendLimit?e.resendLimit:n,e.resendLimit-- >0?(Cn.debug("resending event "+e.eventName+" with "+e.resendLimit+" retry times left"),this._pinpointPutEvents(e,t)):Cn.debug("retry times used up for event "+e.eventName)},e.prototype._updateEndpoint=function(e){return wn(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,f,l,p;return Sn(this,(function(h){switch(h.label){case 0:t=e.params,n=e.handlers,r=t.config,i=t.event,o=r.appId,s=r.endpointId,a=this._endpointRequest(r,xt.JS.transferKeyToLowerCase(i,[],["attributes","userAttributes","Attributes","UserAttributes"])),u={ApplicationId:o,EndpointId:s,EndpointRequest:a},h.label=1;case 1:return h.trys.push([1,3,,4]),c=new Ft(u),[4,this.pinpointClient.send(c)];case 2:return f=h.sent(),Cn.debug("updateEndpoint success",f),this._endpointGenerating=!1,this._resumeBuffer(),n.resolve(f),[2];case 3:return l=h.sent(),p={err:l,update_params:u,endpointObject:e},[2,this._handleEndpointUpdateFailure(p)];case 4:return[2]}}))}))},e.prototype._handleEndpointUpdateFailure=function(e){return wn(this,void 0,void 0,(function(){var t,n,r;return Sn(this,(function(i){return t=e.err,n=e.endpointObject,r=t.$metadata&&t.$metadata.httpStatusCode,Cn.debug("updateEndpoint error",t),403===r?[2,this._handleEndpointUpdateForbidden(e)]:In.includes(r)?(!0,[2,this._retryEndpointUpdate(n,true)]):(Cn.error("updateEndpoint failed",t),n.handlers.reject(t),[2])}))}))},e.prototype._handleEndpointUpdateForbidden=function(e){var t=e.err,n=e.endpointObject,r=t.code,i=t.retryable;if("ExpiredTokenException"!==r&&!i)return n.handlers.reject(t);this._retryEndpointUpdate(n)},e.prototype._retryEndpointUpdate=function(e,t){void 0===t&&(t=!1),Cn.debug("_retryEndpointUpdate",e);var n=e.params,r=n.config.resendLimit;if(n.resendLimit="number"==typeof n.resendLimit?n.resendLimit:r,n.resendLimit-- >0)return Cn.debug("resending endpoint update "+n.event.eventId+" with "+n.resendLimit+" retry attempts remaining"),void(this._endpointBuffer.length?this._endpointBuffer.unshift(e):this._updateEndpoint(e));Cn.warn("resending endpoint update "+n.event.eventId+" failed after "+n.config.resendLimit+" attempts"),this._endpointGenerating&&Cn.error("Initial endpoint update failed. ")},e.prototype._initClients=function(e){return wn(this,void 0,void 0,(function(){var t,n;return Sn(this,(function(r){return Cn.debug("init clients"),this.pinpointClient&&this._config.credentials&&this._config.credentials.sessionToken===e.sessionToken&&this._config.credentials.identityId===e.identityId?(Cn.debug("no change for aws credentials, directly return from init"),[2]):(t=this._config.credentials?this._config.credentials.identityId:null,this._config.credentials=e,n=this._config.region,Cn.debug("init clients with credentials",e),this.pinpointClient=new un({region:n,credentials:e,customUserAgent:(0,Dt.Zm)()}),this.pinpointClient.middlewareStack.addRelativeTo((function(e){return function(t){return delete t.request.headers["amz-sdk-invocation-id"],delete t.request.headers["amz-sdk-request"],e(t)}}),{step:"finalizeRequest",relation:"after",toMiddleware:"retryMiddleware"}),this._bufferExists()&&t===e.identityId?this._updateBufferClient():this._initBuffer(),this._customizePinpointClientReq(),[2])}))}))},e.prototype._bufferExists=function(){return this._buffer&&this._buffer instanceof mn},e.prototype._initBuffer=function(){this._bufferExists()&&this._flushBuffer(),this._buffer=new mn(this.pinpointClient,this._config),this._endpointGenerating&&this._buffer.pause()},e.prototype._updateBufferClient=function(){this._bufferExists()&&this._buffer.updateClient(this.pinpointClient)},e.prototype._flushBuffer=function(){this._bufferExists()&&(this._buffer.flush(),this._buffer=null)},e.prototype._resumeBuffer=function(){this._bufferExists()&&this._buffer.resume()},e.prototype._customizePinpointClientReq=function(){},e.prototype._getEndpointId=function(e){return wn(this,void 0,void 0,(function(){var t,n;return Sn(this,(function(r){switch(r.label){case 0:return[4,cn.ZP.getItem(e)];case 1:return t=r.sent(),Cn.debug("endpointId from cache",t,"type",typeof t),t||(t=(0,fn.v1)(),31536e8,n=(new Date).getTime()+31536e8,cn.ZP.setItem(e,t,{expires:n,priority:1})),[2,t]}}))}))},e.prototype._endpointRequest=function(e,t){var n=e.credentials,r=this._clientInfo||{},i=e.clientContext||{},o=e.endpoint||{},s={appVersion:r.appVersion,make:r.make,model:r.model,modelVersion:r.version,platform:r.platform},a=(i.clientId,i.appTitle,i.appVersionName,i.appVersionCode,i.appPackageName,_n(i,["clientId","appTitle","appVersionName","appVersionCode","appPackageName"])),u=t.address?"android"===r.platform?"GCM":"APNS":void 0,c=bn(bn(bn({channelType:u,requestId:(0,fn.v1)(),effectiveDate:(new Date).toISOString()},o),t),{attributes:bn(bn({},o.attributes),t.attributes),demographic:bn(bn(bn(bn({},s),a),o.demographic),t.demographic),location:bn(bn({},o.location),t.location),metrics:bn(bn({},o.metrics),t.metrics),user:{userId:t.userId||o.userId||n.identityId,userAttributes:bn(bn({},o.userAttributes),t.userAttributes)}}),f=(c.userId,c.userAttributes,c.name,c.session,c.eventId,c.immediate,_n(c,["userId","userAttributes","name","session","eventId","immediate"]));return xt.JS.transferKeyToUpperCase(f,[],["metrics","userAttributes","attributes"])},e.prototype._eventError=function(e){Cn.error("record event failed.",e),Cn.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:PutEvents" in order to record events')},e.prototype._getCredentials=function(){return wn(this,void 0,void 0,(function(){var e,t;return Sn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,kt.cN.get()];case 1:return(e=n.sent())?(Cn.debug("set credentials for analytics",e),[2,kt.cN.shear(e)]):[2,null];case 2:return t=n.sent(),Cn.debug("ensure credentials error",t),[2,null];case 3:return[2]}}))}))},e.category="Analytics",e.providerName="AWSPinpoint",e}()},17869:function(e,t,n){"use strict";n.d(t,{C:function(){return be}});var r=n(55218),i=n(20617),o=n(1648),s=n(17672),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)};function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;var p,h,d,v,g,y,m,b;Object.create;!function(e){e.filterSensitiveLog=function(e){return c({},e)}}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return c({},e)}}(h||(h={})),function(e){e.filterSensitiveLog=function(e){return c({},e)}}(d||(d={})),function(e){e.filterSensitiveLog=function(e){return c({},e)}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return c({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return c({},e)}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return c({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return c({},e)}}(b||(b={}));var w,S,_,E=n(96784),A=n(4781),C=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,f;return l(this,(function(l){switch(l.label){case 0:return r=[c({},e)],f={},[4,D(e.body,t)];case 1:switch(n=c.apply(void 0,r.concat([(f.body=l.sent(),f)])),o="UnknownError",o=k(e,n.body),o){case"InvalidInputException":case"com.amazonaws.personalizeevents#InvalidInputException":return[3,2]}return[3,4];case 2:return s=[{}],[4,I(n,t)];case 3:return i=c.apply(void 0,[c.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:P(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=c(c({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:P(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},I=function(e,t){return f(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t={name:"InvalidInputException",$fault:"client",$metadata:P(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},T=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return c(c(c(c(c(c(c(c({},void 0!==e.eventId&&null!==e.eventId&&{eventId:e.eventId}),void 0!==e.eventType&&null!==e.eventType&&{eventType:e.eventType}),void 0!==e.eventValue&&null!==e.eventValue&&{eventValue:e.eventValue}),void 0!==e.impression&&null!==e.impression&&{impression:O(e.impression,t)}),void 0!==e.itemId&&null!==e.itemId&&{itemId:e.itemId}),void 0!==e.properties&&null!==e.properties&&{properties:A.QT.fromObject(e.properties)}),void 0!==e.recommendationId&&null!==e.recommendationId&&{recommendationId:e.recommendationId}),void 0!==e.sentAt&&null!==e.sentAt&&{sentAt:Math.round(e.sentAt.getTime()/1e3)})}(e,t)}))},O=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},P=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},x=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},D=function(e,t){return function(e,t){return x(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},k=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},L=n(28064),N=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return u(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,L.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"PersonalizeEventsClient",commandName:"PutEventsCommand",inputFilterSensitiveLog:d.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,f;return l(this,(function(l){switch(l.label){case 0:return n={"content-type":"application/json"},r="/events",i=JSON.stringify(c(c(c(c({},void 0!==e.eventList&&null!==e.eventList&&{eventList:T(e.eventList,t)}),void 0!==e.sessionId&&null!==e.sessionId&&{sessionId:e.sessionId}),void 0!==e.trackingId&&null!==e.trackingId&&{trackingId:e.trackingId}),void 0!==e.userId&&null!==e.userId&&{userId:e.userId})),[4,t.endpoint()];case 1:return o=l.sent(),s=o.hostname,a=o.protocol,u=void 0===a?"https":a,f=o.port,[2,new E.aW({protocol:u,hostname:s,port:f,method:"POST",headers:n,path:r,body:i})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return f(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,C(e,t)]:(n={$metadata:P(e)},[4,x(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(A.mY),R=n(14552),M=n(4986),U=n(3241),F=n(41817),j=n(34252),B=n(46105),z=n(5287),q=n(24177),G="personalize-events.{region}.amazonaws.com",K=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),V=new Set(["cn-north-1","cn-northwest-1"]),H=new Set(["us-iso-east-1"]),W=new Set(["us-isob-east-1"]),Y=new Set(["us-gov-east-1","us-gov-west-1"]),J={apiVersion:"2018-03-22",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;return K.has(e)&&(n={hostname:G.replace("{region}",e),partition:"aws"}),V.has(e)&&(n={hostname:"personalize-events.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),H.has(e)&&(n={hostname:"personalize-events.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),W.has(e)&&(n={hostname:"personalize-events.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Y.has(e)&&(n={hostname:"personalize-events.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:G.replace("{region}",e),partition:"aws"}),Promise.resolve(c({signingService:"personalize"},n))},serviceId:"Personalize Events",urlParser:n(61488).e},Z=c(c({},J),{runtime:"browser",base64Decoder:j.G,base64Encoder:j.s,bodyLengthChecker:B.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,z.f)({serviceId:J.serviceId,clientVersion:"3.6.1"}),maxAttempts:F.J,region:(0,U.n)("Region is missing"),requestHandler:new M.B,sha256:R.Sha256,streamCollector:M.C,utf8Decoder:q.fromUtf8,utf8Encoder:q.toUtf8}),Q=n(25562),$=n(99561),X=n(47498),ee=n(7317),te=n(29960),ne=n(83512),re=function(e){function t(t){var n=this,r=c(c({},Z),t),i=(0,Q.Xb)(r),o=(0,Q.g4)(i),s=(0,te.A$)(o),a=(0,F.BC)(s),u=(0,X.S8)(a),f=(0,ne.er)(u);return(n=e.call(this,f)||this).config=f,n.middlewareStack.use((0,te.yt)(n.config)),n.middlewareStack.use((0,F.NQ)(n.config)),n.middlewareStack.use((0,$.VG)(n.config)),n.middlewareStack.use((0,X.G2)(n.config)),n.middlewareStack.use((0,ee.cV)(n.config)),n.middlewareStack.use((0,ne.XJ)(n.config)),n}return u(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(A.KU),ie=n(41609),oe=n.n(ie),se=n(18446),ae=n.n(se),ue=n(32437),ce=n(56805),fe="_awsct_uid",le="_awsct_sid",pe=(new r.k("AmazonPersonalizeProvider"),function(){function e(e){void 0===e&&(e=""),this._isBrowser=i.JS.browserOrNode().isBrowser,this._timerKey=(0,ue.v1)().substr(0,15),this._refreshTimer()}return e.prototype._refreshTimer=function(){this._timer&&clearInterval(this._timer);var e=this;this._timer=setInterval((function(){e._timerKey=(0,ue.v1)().substr(0,15)}),3e4)},e.prototype.storeValue=function(e,t){var n=new Date,r=new Date;r.setTime(n.getTime()+6048e5),ce.ZP.setItem(this._getCachePrefix(e),t,{expires:r.getTime()})},e.prototype.retrieveValue=function(e){return ce.ZP.getItem(this._getCachePrefix(e))},e.prototype._getCachePrefix=function(e){return this._isBrowser?e+"."+window.location.host:"peronslize"},e.prototype.getTimerKey=function(){return this._timerKey},e.prototype.updateSessionInfo=function(e,t){var n=t.userId,r=t.sessionId;if(this._isRequireNewSession(e,n,r)){var i=(0,ue.v1)();this.storeValue(fe,e),this.storeValue(le,i),t.sessionId=i}else this._isRequireUpdateSessionInfo(e,n,r)&&this.storeValue(fe,e);t.userId=e},e.prototype._isRequireUpdateSessionInfo=function(e,t,n){return!oe()(n)&&oe()(t)&&!oe()(e)},e.prototype.retrieveSessionInfo=function(e){var t={};return t.trackingId=e,t.sessionId=this.retrieveValue(le),t.userId=this.retrieveValue(fe),oe()(t.sessionId)&&(t.sessionId=(0,ue.v1)(),this.storeValue(le,t.sessionId)),this.storeValue("_awsct",e),t},e.prototype._isRequireNewSession=function(e,t,n){var r=oe()(n),i=oe()(e)&&!oe()(t),o=!oe()(e)&&!oe()(t)&&!ae()(e,t);return r||i||o},e}());!function(e){e.PLAY="play",e.PAUSE="pause",e.ENDED="Ended"}(w||(w={})),function(e){e.IFRAME="IFRAME",e.VIDEO="VIDEO",e.AUDIO="AUDIO"}(S||(S={})),function(e){e.PLAY="Play",e.ENDED="Ended",e.PAUSE="Pause",e.TIME_WATCHED="TimeWatched"}(_||(_={}));var he=function(){function e(e,t){var n;this.eventActionMapping=((n={})[_.ENDED]=this.endedEventAction.bind(this),n[_.PLAY]=this.playEventAction.bind(this),n[_.PAUSE]=this.pauseEventAction.bind(this),n);var r=e.eventData;this._params=e,this._mediaElement=document.getElementById(r.properties.domElementId),this._started=!1,this._provider=t,{IFRAME:this._iframeMediaTracker,VIDEO:this._html5MediaTracker,AUDIO:this._html5MediaTracker}[this._mediaElement.tagName].bind(this)(),this._initYoutubeFrame()}return e.prototype._initYoutubeFrame=function(){this._youTubeIframeLoader={src:"https://www.youtube.com/iframe_api",loading:!1,loaded:!1,listeners:[],load:function(e){var t=this;if(this.listeners.push(e),this.loaded)setTimeout((function(){t.done()}));else if(!this.loading){this.loading=!0,window.onYouTubeIframeAPIReady=function(){t.loaded=!0,t.done()};var n=document.createElement("script");n.type="text/javascript",n.src=this.src,document.body.appendChild(n)}},done:function(){for(delete window.onYouTubeIframeAPIReady;this.listeners.length;)this.listeners.pop()(window.YT)}}},e.prototype._iframeMediaTracker=function(){var e=this;setInterval((function(){e._started&&e.recordEvent(S.IFRAME,_.TIME_WATCHED)}),3e3),this._youTubeIframeLoader.load((function(t){e._iframePlayer=new t.Player(e._mediaElement.id,{events:{onStateChange:e._onPlayerStateChange.bind(e)}})}))},e.prototype._onPlayerStateChange=function(e){var t={0:_.ENDED,1:_.PLAY,2:_.PAUSE}[e.data];t&&this.eventActionMapping[t](S.IFRAME)},e.prototype._html5MediaTracker=function(){var e=this;setInterval((function(){e._started&&e.recordEvent(S.VIDEO,_.TIME_WATCHED)}),3e3),this._mediaElement.addEventListener(w.PLAY,(function(){e.eventActionMapping[_.PLAY](S.VIDEO)}),!1),this._mediaElement.addEventListener(w.PAUSE,(function(){e.eventActionMapping[_.PAUSE](S.VIDEO)}),!1),this._mediaElement.addEventListener(w.ENDED,(function(){e.eventActionMapping[_.ENDED](S.VIDEO)}),!1)},e.prototype.playEventAction=function(e){this._started=!0,this.recordEvent(e,_.PLAY)},e.prototype.pauseEventAction=function(e){this._started=!1,this.recordEvent(e,_.PAUSE)},e.prototype.endedEventAction=function(e){this._started=!1,this.recordEvent(e,_.ENDED)},e.prototype.recordEvent=function(e,t){var n=Object.assign({},this._params),r=n.eventData;r.eventType=t,e===S.VIDEO?(r.properties.timestamp=this._mediaElement.currentTime,r.properties.duration=this._mediaElement.duration):(r.properties.timestamp=this._financial(this._iframePlayer.getCurrentTime()),r.properties.duration=this._financial(this._iframePlayer.getDuration()));var i=parseFloat(r.properties.timestamp)/parseFloat(r.properties.duration);r.properties.eventValue=Number(i.toFixed(4)),delete r.properties.domElementId,this._provider.putToBuffer(n)},e.prototype._financial=function(e){return Number.parseFloat(e).toFixed(4)},e}(),de=n(27361),ve=n.n(de),ge=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ye=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},me=new r.k("AmazonPersonalizeProvider"),be=function(){function e(e){this._buffer=[],this._config=e||{},this._config.flushSize=this._config.flushSize>0&&this._config.flushSize<=10?this._config.flushSize:5,this._config.flushInterval=this._config.flushInterval||5e3,this._sessionManager=new pe,oe()(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._isBrowser=i.JS.browserOrNode().isBrowser,this._setupTimer()}return e.prototype._setupTimer=function(){this._timer&&clearInterval(this._timer);var e=this._config.flushInterval,t=this;this._timer=setInterval((function(){t._sendFromBuffer()}),e)},e.prototype.record=function(e){return ge(this,void 0,void 0,(function(){var t,n,r,i,o;return ye(this,(function(s){switch(s.label){case 0:return[4,this._getCredentials()];case 1:return(t=s.sent())?(Object.assign(e,{config:this._config,credentials:t,sentAt:new Date}),n=e.event,r=n.eventType,i=n.properties,"Identify"===r?(this._sessionManager.updateSessionInfo(i&&i.userId?i.userId:"",this._sessionInfo),[2]):(oe()(e.event.userId)||this._sessionManager.updateSessionInfo(e.event.userId,this._sessionInfo),o=this.generateRequestParams(e,this._sessionInfo),"MediaAutoTrack"!==r?[3,7]:this._isBrowser?oe()(ve()(o,"eventData.properties.domElementId",null))?[3,3]:[4,this.isElementFullyLoaded(this.loadElement,o.eventData.properties.domElementId,500,5)]:[3,5])):[2,Promise.resolve(!1)];case 2:return s.sent()?new he(o,this):me.debug("Cannot find the media element."),[3,4];case 3:me.debug("Missing domElementId field in 'properties' for MediaAutoTrack event type."),s.label=4;case 4:return[3,6];case 5:me.debug("MediaAutoTrack only for browser"),s.label=6;case 6:return[2];case 7:return[2,this.putToBuffer(o)]}}))}))},e.prototype.loadElement=function(e){return new Promise((function(t,n){return document.getElementById(e)&&document.getElementById(e).clientHeight?t(!0):n(!0)}))},e.prototype.isElementFullyLoaded=function(e,t,n,r){var i=this;return new Promise((function(o,s){return e(t).then(o).catch((function(a){return r-1>0?(u=n,new Promise((function(e){return setTimeout(e,u)}))).then(i.isElementFullyLoaded.bind(null,e,t,n,r-1)).then(o).catch(s):s(a);var u}))}))},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AmazonPersonalize"},e.prototype.configure=function(e){me.debug("configure Analytics",e);var t=e||{};return this._config=Object.assign({},this._config,t),oe()(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._setupTimer(),this._config},e.prototype.generateRequestParams=function(e,t){var n={},r=e.event,i=r.eventType,o=r.properties;return n.eventData={eventType:i,properties:o},n.sessionInfo=t,n.sentAt=e.sentAt,n.credentials=e.credentials,n.config=e.config,n},e.prototype._sendEvents=function(e){var t=e.length;if(0!==t){var n=e[0],r=n.config,i=n.credentials,o=n.sessionInfo;if(!this._init(r,i))return!1;if(t>0){for(var s=[],a=0;a<t;a+=1){var u=e.shift(),c=this._generateSingleRecordPayload(u,o);s.push(c)}var f={};f.trackingId=o.trackingId,f.sessionId=o.sessionId,f.userId=o.userId,f.eventList=[],s.forEach((function(e){f.eventList.push(e)}));var l=new N(f);this._personalize.send(l,(function(e){e?me.debug("Failed to call putEvents in Personalize",e):me.debug("Put events")}))}}else me.debug("events array is empty, directly return")},e.prototype.putToBuffer=function(e){return this._buffer.length<this._config.flushSize?this._buffer.push(e):(this._buffer.push(e),this._sendFromBuffer()),Promise.resolve(!0)},e.prototype._sendFromBuffer=function(){var e=this,t=this._buffer.length;if(!(t<=0)){for(var n=[],r=null,i=[],o=0;o<t;o+=1){var s=this._buffer.shift(),a=s.credentials,u=s.sessionInfo;0===o?(i.push(s),r=a):ae()(u,this._sessionInfo)&&a.sessionToken===r.sessionToken&&a.identityId===r.identityId?(me.debug("no change for cred, put event in the same group"),i.push(s)):(n.push(i),(i=[]).push(s),r=a,this._sessionInfo=u)}n.push(i),n.map((function(t){e._sendEvents(t)}))}},e.prototype._generateSingleRecordPayload=function(e,t){var n=e.eventData,r=e.sentAt,i={};return i.sentAt=r,i.properties=n.properties&&JSON.stringify(n.properties),i.eventId=this._sessionManager.getTimerKey()+t.sessionId,i.eventType=n.eventType,i},e.prototype._init=function(e,t){if(me.debug("init clients"),this._personalize&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return me.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return me.debug("initialize personalize with credentials",t),this._personalize=new re({region:n,credentials:t,customUserAgent:(0,o.Zm)()}),!0},e.prototype._getCredentials=function(){var e=this;return s.cN.get().then((function(t){return t?(me.debug("set credentials for analytics",e._config.credentials),s.cN.shear(t)):null})).catch((function(e){return me.debug("ensure credentials error",e),null}))},e}()},32437:function(e,t,n){var r=n(30879),i=n(65077),o=i;o.v1=r,o.v4=i,e.exports=o},60097:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},54833:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},30879:function(e,t,n){var r,i,o=n(54833),s=n(60097),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,f=t||[],l=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==p){var h=o();null==l&&(l=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=i=16383&(h[6]<<8|h[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,g=d-a+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||d>a)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,u=v,i=p;var y=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;f[c++]=y>>>24&255,f[c++]=y>>>16&255,f[c++]=y>>>8&255,f[c++]=255&y;var m=d/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=p>>>8|128,f[c++]=255&p;for(var b=0;b<6;++b)f[c+b]=l[b];return t||s(f)}},65077:function(e,t,n){var r=n(54833),i=n(60097);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},56244:function(e,t,n){"use strict";n.d(t,{xC:function(){return he},wT:function(){return pe}});var r=n(69750);function i(e,t,n){return new r._("Syntax Error: ".concat(n),void 0,e,[t])}var o=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function a(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,s&&(e.prototype[s]=t)}var u=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();a(u);var c=function(){function e(e,t,n,r,i,o,s){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function f(e){return null!=e&&"string"==typeof e.kind}a(c);var l=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),p=n(88593);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e){return v(e,[])}function v(e,t){switch(h(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(s)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:v(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(v(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";var r=n.map((function(n){return n+": "+v(e[n],t)}));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function g(e,t){if(!Boolean(e))throw new Error(t)}var y=function(e,t){return e instanceof t};function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||g(0,"Body must be a string. Received: ".concat(d(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||g(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||g(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,r;return t=e,(n=[{key:p.YF,get:function(){return"Source"}}])&&m(t.prototype,n),r&&m(t,r),e}();var w=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function S(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&_(t[i]);)++i;for(var o=t.length;o>i&&_(t[o-1]);)--o;return t.slice(i,o).join("\n")}function _(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var E=function(){function e(e){var t=new c(l.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==l.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=C(this,e)}while(e.kind===l.COMMENT);return e},e}();function A(e){return isNaN(e)?l.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function C(e,t){for(var n=e.source,r=n.body,o=r.length,s=t.end;s<o;){var a=r.charCodeAt(s),u=e.line,f=1+s-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++e.line,e.lineStart=s;continue;case 13:10===r.charCodeAt(s+1)?s+=2:++s,++e.line,e.lineStart=s;continue;case 33:return new c(l.BANG,s,s+1,u,f,t);case 35:return T(n,s,u,f,t);case 36:return new c(l.DOLLAR,s,s+1,u,f,t);case 38:return new c(l.AMP,s,s+1,u,f,t);case 40:return new c(l.PAREN_L,s,s+1,u,f,t);case 41:return new c(l.PAREN_R,s,s+1,u,f,t);case 46:if(46===r.charCodeAt(s+1)&&46===r.charCodeAt(s+2))return new c(l.SPREAD,s,s+3,u,f,t);break;case 58:return new c(l.COLON,s,s+1,u,f,t);case 61:return new c(l.EQUALS,s,s+1,u,f,t);case 64:return new c(l.AT,s,s+1,u,f,t);case 91:return new c(l.BRACKET_L,s,s+1,u,f,t);case 93:return new c(l.BRACKET_R,s,s+1,u,f,t);case 123:return new c(l.BRACE_L,s,s+1,u,f,t);case 124:return new c(l.PIPE,s,s+1,u,f,t);case 125:return new c(l.BRACE_R,s,s+1,u,f,t);case 34:return 34===r.charCodeAt(s+1)&&34===r.charCodeAt(s+2)?D(n,s,u,f,t,e):x(n,s,u,f,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return O(n,s,a,u,f,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return L(n,s,u,f,t)}throw i(n,s,I(a))}var p=e.line,h=1+s-e.lineStart;return new c(l.EOF,o,o,p,h,t)}function I(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(A(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(A(e),".")}function T(e,t,n,r,i){var o,s=e.body,a=t;do{o=s.charCodeAt(++a)}while(!isNaN(o)&&(o>31||9===o));return new c(l.COMMENT,t,a,n,r,i,s.slice(t+1,a))}function O(e,t,n,r,o,s){var a=e.body,u=n,f=t,p=!1;if(45===u&&(u=a.charCodeAt(++f)),48===u){if((u=a.charCodeAt(++f))>=48&&u<=57)throw i(e,f,"Invalid number, unexpected digit after 0: ".concat(A(u),"."))}else f=P(e,f,u),u=a.charCodeAt(f);if(46===u&&(p=!0,u=a.charCodeAt(++f),f=P(e,f,u),u=a.charCodeAt(f)),69!==u&&101!==u||(p=!0,43!==(u=a.charCodeAt(++f))&&45!==u||(u=a.charCodeAt(++f)),f=P(e,f,u),u=a.charCodeAt(f)),46===u||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(u))throw i(e,f,"Invalid number, expected digit but got: ".concat(A(u),"."));return new c(p?l.FLOAT:l.INT,t,f,r,o,s,a.slice(t,f))}function P(e,t,n){var r=e.body,o=t,s=n;if(s>=48&&s<=57){do{s=r.charCodeAt(++o)}while(s>=48&&s<=57);return o}throw i(e,o,"Invalid number, expected digit but got: ".concat(A(s),"."))}function x(e,t,n,r,o){for(var s,a,u,f,p=e.body,h=t+1,d=h,v=0,g="";h<p.length&&!isNaN(v=p.charCodeAt(h))&&10!==v&&13!==v;){if(34===v)return g+=p.slice(d,h),new c(l.STRING,t,h+1,n,r,o,g);if(v<32&&9!==v)throw i(e,h,"Invalid character within String: ".concat(A(v),"."));if(++h,92===v){switch(g+=p.slice(d,h-1),v=p.charCodeAt(h)){case 34:g+='"';break;case 47:g+="/";break;case 92:g+="\\";break;case 98:g+="\b";break;case 102:g+="\f";break;case 110:g+="\n";break;case 114:g+="\r";break;case 116:g+="\t";break;case 117:var y=(s=p.charCodeAt(h+1),a=p.charCodeAt(h+2),u=p.charCodeAt(h+3),f=p.charCodeAt(h+4),k(s)<<12|k(a)<<8|k(u)<<4|k(f));if(y<0){var m=p.slice(h+1,h+5);throw i(e,h,"Invalid character escape sequence: \\u".concat(m,"."))}g+=String.fromCharCode(y),h+=4;break;default:throw i(e,h,"Invalid character escape sequence: \\".concat(String.fromCharCode(v),"."))}d=++h}}throw i(e,h,"Unterminated string.")}function D(e,t,n,r,o,s){for(var a=e.body,u=t+3,f=u,p=0,h="";u<a.length&&!isNaN(p=a.charCodeAt(u));){if(34===p&&34===a.charCodeAt(u+1)&&34===a.charCodeAt(u+2))return h+=a.slice(f,u),new c(l.BLOCK_STRING,t,u+3,n,r,o,S(h));if(p<32&&9!==p&&10!==p&&13!==p)throw i(e,u,"Invalid character within String: ".concat(A(p),"."));10===p?(++u,++s.line,s.lineStart=u):13===p?(10===a.charCodeAt(u+1)?u+=2:++u,++s.line,s.lineStart=u):92===p&&34===a.charCodeAt(u+1)&&34===a.charCodeAt(u+2)&&34===a.charCodeAt(u+3)?(h+=a.slice(f,u)+'"""',f=u+=4):++u}throw i(e,u,"Unterminated string.")}function k(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function L(e,t,n,r,i){for(var o=e.body,s=o.length,a=t+1,u=0;a!==s&&!isNaN(u=o.charCodeAt(a))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++a;return new c(l.NAME,t,a,n,r,i,o.slice(t,a))}function N(e,t){return new R(e,t).parseDocument()}var R=function(){function e(e,t){var n=function(e){return y(e,b)}(e)?e:new b(e);this._lexer=new E(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(l.NAME);return{kind:o.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:o.DOCUMENT,definitions:this.many(l.SOF,this.parseDefinition,l.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(l.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(l.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(l.BRACE_L))return{kind:o.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(l.NAME)&&(t=this.parseName()),{kind:o.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(l.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(l.PAREN_L,this.parseVariableDefinition,l.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:o.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(l.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(l.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(l.DOLLAR),{kind:o.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:o.SELECTION_SET,selections:this.many(l.BRACE_L,this.parseSelection,l.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(l.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(l.COLON)?(e=r,t=this.parseName()):t=r,{kind:o.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(l.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(l.PAREN_L,t,l.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(l.COLON),{kind:o.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:o.ARGUMENT,name:this.parseName(),value:(this.expectToken(l.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(l.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(l.NAME)?{kind:o.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:o.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:o.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:o.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case l.BRACKET_L:return this.parseList(e);case l.BRACE_L:return this.parseObject(e);case l.INT:return this._lexer.advance(),{kind:o.INT,value:t.value,loc:this.loc(t)};case l.FLOAT:return this._lexer.advance(),{kind:o.FLOAT,value:t.value,loc:this.loc(t)};case l.STRING:case l.BLOCK_STRING:return this.parseStringLiteral();case l.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:o.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:o.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:o.NULL,loc:this.loc(t)};default:return{kind:o.ENUM,value:t.value,loc:this.loc(t)}}case l.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:o.STRING,value:e.value,block:e.kind===l.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:o.LIST,values:this.any(l.BRACKET_L,(function(){return t.parseValueLiteral(e)}),l.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:o.OBJECT,fields:this.any(l.BRACE_L,(function(){return t.parseObjectField(e)}),l.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(l.COLON),{kind:o.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(l.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(l.AT),{kind:o.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(l.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(l.BRACKET_R),e={kind:o.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(l.BANG)?{kind:o.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:o.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===l.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(l.STRING)||this.peek(l.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(l.BRACE_L,this.parseOperationTypeDefinition,l.BRACE_R);return{kind:o.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(l.COLON);var n=this.parseNamedType();return{kind:o.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:o.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),s=this.parseFieldsDefinition();return{kind:o.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:s,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(l.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(l.AMP)||this.peek(l.NAME));return t}return this.delimitedMany(l.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(l.BRACE_L)&&this._lexer.lookahead().kind===l.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(l.BRACE_L,this.parseFieldDefinition,l.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(l.COLON);var i=this.parseTypeReference(),s=this.parseDirectives(!0);return{kind:o.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:s,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(l.PAREN_L,this.parseInputValueDef,l.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(l.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(l.EQUALS)&&(r=this.parseValueLiteral(!0));var s=this.parseDirectives(!0);return{kind:o.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:s,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),s=this.parseFieldsDefinition();return{kind:o.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:s,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:o.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(l.EQUALS)?this.delimitedMany(l.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:o.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(l.BRACE_L,this.parseEnumValueDefinition,l.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:o.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:o.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(l.BRACE_L,this.parseInputValueDef,l.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===l.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(l.BRACE_L,this.parseOperationTypeDefinition,l.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:o.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:o.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:o.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:o.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:o.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:o.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:o.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(l.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var s=this.parseDirectiveLocations();return{kind:o.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:s,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(l.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==w[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new u(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw i(this._lexer.source,t.start,"Expected ".concat(U(e),", found ").concat(M(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==l.NAME||t.value!==e)throw i(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(M(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===l.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return i(this._lexer.source,t.start,"Unexpected ".concat(M(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function M(e){var t=e.value;return U(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function U(e){return function(e){return e===l.BANG||e===l.DOLLAR||e===l.AMP||e===l.PAREN_L||e===l.PAREN_R||e===l.SPREAD||e===l.COLON||e===l.EQUALS||e===l.AT||e===l.BRACKET_L||e===l.BRACKET_R||e===l.BRACE_L||e===l.PIPE||e===l.BRACE_R}(e)?'"'.concat(e,'"'):e}var F={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},j=Object.freeze({});function B(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}function z(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F,r=void 0,i=Array.isArray(e),o=[e],s=-1,a=[],u=void 0,c=void 0,l=void 0,p=[],h=[],v=e;do{var g=++s===o.length,y=g&&0!==a.length;if(g){if(c=0===h.length?void 0:p[p.length-1],u=l,l=h.pop(),y){if(i)u=u.slice();else{for(var m={},b=0,w=Object.keys(u);b<w.length;b++){var S=w[b];m[S]=u[S]}u=m}for(var _=0,E=0;E<a.length;E++){var A=a[E][0],C=a[E][1];i&&(A-=_),i&&null===C?(u.splice(A,1),_++):u[A]=C}}s=r.index,o=r.keys,a=r.edits,i=r.inArray,r=r.prev}else{if(c=l?i?s:o[s]:void 0,null==(u=l?l[c]:v))continue;l&&p.push(c)}var I,T=void 0;if(!Array.isArray(u)){if(!f(u))throw new Error("Invalid AST Node: ".concat(d(u),"."));var O=B(t,u.kind,g);if(O){if((T=O.call(t,u,c,l,p,h))===j)break;if(!1===T){if(!g){p.pop();continue}}else if(void 0!==T&&(a.push([c,T]),!g)){if(!f(T)){p.pop();continue}u=T}}}void 0===T&&y&&a.push([c,u]),g?p.pop():(r={inArray:i,index:s,keys:o,edits:a,prev:r},o=(i=Array.isArray(u))?u:null!==(I=n[u.kind])&&void 0!==I?I:[],s=-1,a=[],l&&h.push(l),l=u)}while(void 0!==r);return 0!==a.length&&(v=a[a.length-1][1]),v}(e,{leave:q})}var q={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return K(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=H("(",K(e.variableDefinitions,", "),")"),i=K(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?K([t,K([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+H(" = ",r)+H(" ",K(i," "))},SelectionSet:function(e){return V(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,s=H("",t,": ")+n,a=s+H("(",K(r,", "),")");return a.length>80&&(a=s+H("(\n",W(K(r,"\n")),"\n)")),K([a,K(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+H(" ",K(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return K(["...",H("on ",t),K(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(H("(",K(r,", "),")")," ")+"on ".concat(n," ").concat(H("",K(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],s="\\"===e[e.length-1],a=!r||o||s||n,u="";return!a||r&&i||(u+="\n"+t),u+=t?e.replace(/\n/g,"\n"+t):e,a&&(u+="\n"),'"""'+u.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+K(e.values,", ")+"]"},ObjectValue:function(e){return"{"+K(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+H("(",K(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:G((function(e){var t=e.directives,n=e.operationTypes;return K(["schema",K(t," "),V(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:G((function(e){return K(["scalar",e.name,K(e.directives," ")]," ")})),ObjectTypeDefinition:G((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return K(["type",t,H("implements ",K(n," & ")),K(r," "),V(i)]," ")})),FieldDefinition:G((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(J(n)?H("(\n",W(K(n,"\n")),"\n)"):H("(",K(n,", "),")"))+": "+r+H(" ",K(i," "))})),InputValueDefinition:G((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return K([t+": "+n,H("= ",r),K(i," ")]," ")})),InterfaceTypeDefinition:G((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return K(["interface",t,H("implements ",K(n," & ")),K(r," "),V(i)]," ")})),UnionTypeDefinition:G((function(e){var t=e.name,n=e.directives,r=e.types;return K(["union",t,K(n," "),r&&0!==r.length?"= "+K(r," | "):""]," ")})),EnumTypeDefinition:G((function(e){var t=e.name,n=e.directives,r=e.values;return K(["enum",t,K(n," "),V(r)]," ")})),EnumValueDefinition:G((function(e){return K([e.name,K(e.directives," ")]," ")})),InputObjectTypeDefinition:G((function(e){var t=e.name,n=e.directives,r=e.fields;return K(["input",t,K(n," "),V(r)]," ")})),DirectiveDefinition:G((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(J(n)?H("(\n",W(K(n,"\n")),"\n)"):H("(",K(n,", "),")"))+(r?" repeatable":"")+" on "+K(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return K(["extend schema",K(t," "),V(n)]," ")},ScalarTypeExtension:function(e){return K(["extend scalar",e.name,K(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return K(["extend type",t,H("implements ",K(n," & ")),K(r," "),V(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return K(["extend interface",t,H("implements ",K(n," & ")),K(r," "),V(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return K(["extend union",t,K(n," "),r&&0!==r.length?"= "+K(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return K(["extend enum",t,K(n," "),V(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return K(["extend input",t,K(n," "),V(r)]," ")}};function G(e){return function(t){return K([t.description,e(t)],"\n")}}function K(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function V(e){return H("{\n",W(K(e,"\n")),"\n}")}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function W(e){return H("  ",e.replace(/\n/g,"\n  "))}function Y(e){return-1!==e.indexOf("\n")}function J(e){return null!=e&&e.some(Y)}var Z=n(43698),Q=n(55218),$=n(17672),X=n(19797),ee=n(75557),te=n(79548),ne=n(21371),re=n(56805),ie=n(4805),oe=n(40332),se=function(){return se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},se.apply(this,arguments)},ae=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ue=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},fe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},le=new Q.k("GraphQLAPI"),pe=function(e,t,n){return void 0===t&&(t={}),{query:e,variables:t,authToken:n}},he=function(){function e(e){this._api=null,this.Auth=ne.ZP,this.Cache=re.ZP,this.Credentials=$.cN,this._options=e,le.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=ce(t,["API"]),o=se(se({},i),r);return le.debug("configure GraphQL API",{opt:o}),o.aws_project_region&&(o=Object.assign({},o,{region:o.aws_project_region,header:{}})),void 0!==o.graphql_headers&&"function"!=typeof o.graphql_headers&&(le.warn("graphql_headers should be a function"),o.graphql_headers=void 0),this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return le.debug("create Rest instance"),this._options?(this._api=new oe.H(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e,t){return void 0===t&&(t={}),ae(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return ue(this,(function(f){switch(f.label){case 0:switch(n=this._options,r=n.aws_appsync_authenticationType,i=n.aws_appsync_apiKey,o={},e||r||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!i)throw new Error(ie.j.NO_API_KEY);return o={Authorization:null,"X-Api-Key":i},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(!f.sent())throw new Error(ie.j.NO_CREDENTIALS);return[3,17];case 4:return f.trys.push([4,9,,10]),s=void 0,[4,re.ZP.getItem("federatedInfo")];case 5:return(a=f.sent())?(s=a.token,[3,8]):[3,6];case 6:return[4,ne.ZP.currentAuthenticatedUser()];case 7:(u=f.sent())&&(s=u.token),f.label=8;case 8:if(!s)throw new Error(ie.j.NO_FEDERATED_JWT);return o={Authorization:s},[3,10];case 9:throw f.sent(),new Error(ie.j.NO_CURRENT_USER);case 10:return[3,17];case 11:return f.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return c=f.sent(),o={Authorization:c.getAccessToken().getJwtToken()},[3,14];case 13:throw f.sent(),new Error(ie.j.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!t.Authorization)throw new Error(ie.j.NO_AUTH_TOKEN);return o={Authorization:t.Authorization},[3,17];case 16:return o={Authorization:null},[3,17];case 17:return[2,o]}}))}))},e.prototype.getGraphqlOperationType=function(e){var t=N(e).definitions;return fe(t,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,i=void 0===r?{}:r,o=e.authMode,s=e.authToken,a=N("string"==typeof n?n:z(n)),u=fe(a.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],c=(void 0===u?{}:u).operation,f=t||{};switch(s&&(f.Authorization=s),c){case"query":case"mutation":var l=this._api.getCancellableToken(),p={cancellableToken:l},h=this._graphql({query:a,variables:i,authMode:o},f,p);return this._api.updateRequestToBeCancellable(h,l),h;case"subscription":return this._graphqlSubscribe({query:a,variables:i,authMode:o},f);default:throw new Error("invalid operation type: "+c)}},e.prototype._graphql=function(e,t,n){var i=e.query,o=e.variables,s=e.authMode;return void 0===t&&(t={}),void 0===n&&(n={}),ae(this,void 0,void 0,(function(){var e,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I;return ue(this,(function(T){switch(T.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:T.sent(),T.label=2;case 2:return e=this._options,a=e.aws_appsync_region,u=e.aws_appsync_graphqlEndpoint,c=e.graphql_headers,f=void 0===c?function(){return{}}:c,l=e.graphql_endpoint,p=e.graphql_endpoint_iam_region,d=[{}],(v=!l)?[4,this._headerBasedAuth(s,t)]:[3,4];case 3:v=T.sent(),T.label=4;case 4:return g=[se.apply(void 0,d.concat([v]))],(y=l)?p?[4,this._headerBasedAuth(s,t)]:[3,6]:[3,8];case 5:return m=T.sent(),[3,7];case 6:m={Authorization:null},T.label=7;case 7:y=m,T.label=8;case 8:return b=[se.apply(void 0,g.concat([y]))],[4,f({query:i,variables:o})];case 9:if(h=se.apply(void 0,[se.apply(void 0,[se.apply(void 0,b.concat([T.sent()])),t]),!l&&(I={},I["x-amz-user-agent"]=Z.gT.userAgent,I)]),w={query:z(i),variables:o},S=Object.assign({headers:h,body:w,signerServiceInfo:{service:l?"execute-api":"appsync",region:l?p:a}},n),!(_=l||u))throw{data:{},errors:[new r._("No graphql endpoint provided.")]};T.label=10;case 10:return T.trys.push([10,12,,13]),[4,this._api.post(_,S)];case 11:return E=T.sent(),[3,13];case 12:if(A=T.sent(),this._api.isCancel(A))throw A;return E={data:{},errors:[new r._(A.message,null,null,null,null,A)]},[3,13];case 13:if((C=E.errors)&&C.length)throw E;return[2,E]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,i=e.authMode,o=e.authToken;void 0===t&&(t={});var s=this._options,a=s.aws_appsync_region,u=s.aws_appsync_graphqlEndpoint,c=s.aws_appsync_authenticationType,f=s.aws_appsync_apiKey,l=s.graphql_headers,p=void 0===l?function(){return{}}:l,h=i||c||"AWS_IAM";if(te.ZP&&"function"==typeof te.ZP.subscribe)return te.ZP.subscribe("",{provider:X.om,appSyncGraphqlEndpoint:u,authenticationType:h,apiKey:f,query:z(n),region:a,variables:r,graphql_headers:p,additionalHeaders:t,authToken:o});throw le.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return le.debug("set credentials for api",n),!0})).catch((function(e){return le.warn("ensure credentials error",e),!1}))},e}(),de=new he(null);ee.dQ.register(de)},4805:function(e,t,n){"use strict";var r;n.d(t,{j:function(){return r}}),function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(r||(r={}))},40332:function(e,t,n){"use strict";n.d(t,{H:function(){return g}});var r=n(55218),i=n(17672),o=n(1648),s=n(24484),a=n(62579),u=n(65301),c=n.n(u),f=n(1480),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},v=new r.k("RestClient"),g=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=i.cN,this._options=e,v.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return p(this,void 0,void 0,(function(){var r,i,a,u,c,p,g,y,m,b,w,S,_,E,A=this;return h(this,(function(h){switch(h.label){case 0:return v.debug(t,e),a="us-east-1",u="execute-api",c=void 0,"string"==typeof e?(r=this._parseUrl(e),i=e):(i=e.endpoint,c=e.custom_header,a=e.region,u=e.service,r=this._parseUrl(e.endpoint)),p={method:t,url:i,host:r.host,path:r.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},g={},o.t4.isReactNative&&(y=o.t4.userAgent||"aws-amplify/0.1.x",g={"User-Agent":y}),m=Object.assign({},n),b=m.response,m.body&&("function"==typeof FormData&&m.body instanceof FormData?(g["Content-Type"]="multipart/form-data",p.data=m.body):(g["Content-Type"]="application/json; charset=UTF-8",p.data=JSON.stringify(m.body))),m.responseType&&(p.responseType=m.responseType),m.withCredentials&&(p.withCredentials=m.withCredentials),m.timeout&&(p.timeout=m.timeout),m.cancellableToken&&(p.cancelToken=m.cancellableToken.token),p.signerServiceInfo=m.signerServiceInfo,"function"!=typeof c?[3,2]:[4,c()];case 1:return S=h.sent(),[3,3];case 2:S=void 0,h.label=3;case 3:return w=S,p.headers=l(l(l({},g),w),m.headers),_=(0,f.Qc)(i,!0,!0),_.search,E=d(_,["search"]),p.url=(0,f.WU)(l(l({},E),{query:l(l({},E.query),m.queryStringParameters||{})})),void 0!==p.headers.Authorization?(p.headers=Object.keys(p.headers).reduce((function(e,t){return p.headers[t]&&(e[t]=p.headers[t]),e}),{}),[2,this._request(p,b)]):[2,this.Credentials.get().then((function(r){return A._signed(l({},p),r,b,{region:a,service:u}).catch((function(r){if(s.E.isClockSkewError(r)){var i=r.response.headers,o=i&&(i.date||i.Date),a=new Date(o),u=s.E.getDateFromHeaderString(p.headers["x-amz-date"]);if(s.E.isClockSkewed(a))return s.E.setClockOffset(a.getTime()-u.getTime()),A.ajax(e,t,n)}throw r}))}),(function(e){return v.debug("No credentials available, the request will be unsigned"),A._request(p,b)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return n&&n.cancel(t),!0},e.prototype.isCancel=function(e){return c().isCancel(e)},e.prototype.getCancellableToken=function(){return c().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n,r){var i=r.service,o=r.region,s=e.signerServiceInfo,u=d(e,["signerServiceInfo"]),f=o||this._region||this._options.region,l=i||this._service||this._options.service,p={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},h={region:f,service:l},g=Object.assign(h,s),y=a.E.sign(u,p,g);return y.data&&(y.body=y.data),v.debug("Signed Request: ",y),delete y.headers.host,c()(y).then((function(e){return n?e:e.data})).catch((function(e){throw v.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),c()(e).then((function(e){return t?e:e.data})).catch((function(e){throw v.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}()},65301:function(e,t,n){e.exports=n(50730)},45110:function(e,t,n){"use strict";var r=n(30956),i=n(13558),o=n(52677),s=n(25421),a=n(89238),u=n(17173),c=n(99415),f=n(70430);e.exports=function(e){return new Promise((function(t,n){var l=e.data,p=e.headers,h=e.responseType;r.isFormData(l)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(v+":"+g)}var y=a(e.baseURL,e.url);function m(){if(d){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:h&&"text"!==h&&"json"!==h?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,n,o),d=null}}if(d.open(e.method.toUpperCase(),s(y,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(m)},d.onabort=function(){d&&(n(f("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(f("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(f(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||c(y))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(p[e.xsrfHeaderName]=b)}"setRequestHeader"in d&&r.forEach(p,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),h&&"json"!==h&&(d.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),l||(l=null),d.send(l)}))}},50730:function(e,t,n){"use strict";var r=n(30956),i=n(53575),o=n(55e3),s=n(84527);function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=a(n(11269));u.Axios=o,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=n(65793),u.CancelToken=n(52645),u.isCancel=n(68993),u.all=function(e){return Promise.all(e)},u.spread=n(41683),u.isAxiosError=n(3866),e.exports=u,e.exports.default=u},65793:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},52645:function(e,t,n){"use strict";var r=n(65793);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},68993:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},55e3:function(e,t,n){"use strict";var r=n(30956),i=n(25421),o=n(655),s=n(11645),a=n(84527),u=n(19352),c=u.validators;function f(e){this.defaults=e,this.interceptors={request:new o,response:new o}}f.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var f=[s,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(o),i=Promise.resolve(e);f.length;)i=i.then(f.shift(),f.shift());return i}for(var l=e;n.length;){var p=n.shift(),h=n.shift();try{l=p(l)}catch(d){h(d);break}}try{i=s(l)}catch(d){return Promise.reject(d)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},f.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){f.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=f},655:function(e,t,n){"use strict";var r=n(30956);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},89238:function(e,t,n){"use strict";var r=n(96394),i=n(56636);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},70430:function(e,t,n){"use strict";var r=n(91723);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},11645:function(e,t,n){"use strict";var r=n(30956),i=n(53276),o=n(68993),s=n(11269);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},91723:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},84527:function(e,t,n){"use strict";var r=n(30956);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,c),r.forEach(s,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(a,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var f=i.concat(o).concat(s).concat(a),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===f.indexOf(e)}));return r.forEach(l,c),n}},13558:function(e,t,n){"use strict";var r=n(70430);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},53276:function(e,t,n){"use strict";var r=n(30956),i=n(11269);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},11269:function(e,t,n){"use strict";var r=n(30956),i=n(74529),o=n(91723),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(45110)),u),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(s){if("SyntaxError"===a.name)throw o(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(s)})),e.exports=c},53575:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},25421:function(e,t,n){"use strict";var r=n(30956);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},56636:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},52677:function(e,t,n){"use strict";var r=n(30956);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},96394:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},3866:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},99415:function(e,t,n){"use strict";var r=n(30956);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},74529:function(e,t,n){"use strict";var r=n(30956);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},17173:function(e,t,n){"use strict";var r=n(30956),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},41683:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},19352:function(e,t,n){"use strict";var r=n(66118),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},s=r.version.split(".");function a(e,t){for(var n=t?t.split("."):s,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&a(t);function s(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(s(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},30956:function(e,t,n){"use strict";var r=n(53575),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:u,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:f,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},84324:function(e,t,n){"use strict";n.d(t,{b:function(){return _},Y:function(){return S}});var r=n(31253),i=n(56805),o=n(40332),s=n(55218),a=n(17672),u=n(75557),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},h=new s.k("RestAPI"),d=function(){function e(e){this._api=null,this.Credentials=a.cN,this._options=e,h.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=p(t,["API"]),o=c(c({},i),r);if(h.debug("configure Rest API",{opt:o}),o.aws_project_region){if(o.aws_cloud_logic_custom){var s=o.aws_cloud_logic_custom;o.endpoints="string"==typeof s?JSON.parse(s):s}o=Object.assign({},o,{region:o.aws_project_region,header:{}})}return Array.isArray(o.endpoints)?o.endpoints.forEach((function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(h.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?o.endpoints=this._options.endpoints:o.endpoints=[],this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return h.debug("create Rest API instance"),this._api=new o.H(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.get(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.post(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.put(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.patch(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.del(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.head(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.endpoint=function(e){return f(this,void 0,void 0,(function(){return l(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API "+e+" does not exist");var i={endpoint:r.endpoint+t};return"string"==typeof r.region?i.region=r.region:"string"==typeof this._options.region&&(i.region=this._options.region),"string"==typeof r.service?i.service=r.service||"execute-api":i.service="execute-api","function"==typeof r.custom_header?i.custom_header=r.custom_header:i.custom_header=void 0,i},e}(),v=new d(null);u.dQ.register(v);var g=n(56244),y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},y.apply(this,arguments)},m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},w=new s.k("API"),S=function(){function e(e){this.Auth=r.g,this.Cache=i.ZP,this.Credentials=a.cN,this._options=e,this._restApi=new d(e),this._graphqlApi=new g.xC(e),w.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return y(y({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.cancel(e,t)},e.prototype.endpoint=function(e){return m(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}(),_=new S(null);u.dQ.register(_)},67256:function(e,t,n){"use strict";var r=n(84324);t.ZP=r.b},31253:function(e,t,n){"use strict";n.d(t,{g:function(){return G}});var r=n(19144);var i,o=n(55218),s=n(60643),a=n(17672),u=n(23719),c=n(71451),f=n(96032),l=n(20617),p=n(75557),h=n(77534),d=n(1480),v=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},g=n(41526),y=n.n(g),m=n(81810),b=n.n(m),w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},w.apply(this,arguments)},S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},E=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},A="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",C=function(e,t,n){s.Xb.dispatch("auth",{event:e,data:t,message:n},"Auth",A)},I=new o.k("OAuth"),T=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||v,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,i,o,s){void 0===e&&(e="code"),void 0===o&&(o=r.JG.Cognito);var a=this._generateState(32),u=s?a+"-"+s.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(u);var c,f=this._generateRandom(128);c=f,window.sessionStorage.setItem("ouath_pkce_key",c);var l=this._generateChallenge(f),p=this._scopes.join(" "),h="https://"+t+"/oauth2/authorize?"+Object.entries(w(w({redirect_uri:n,response_type:e,client_id:i,identity_provider:o,scope:p,state:u},"code"===e?{code_challenge:l}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=E(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&");I.debug("Redirecting to "+h),this._urlOpener(h,n)},e.prototype._handleCodeFlow=function(e){return S(this,void 0,void 0,(function(){var t,n,i,o,s,a,u,c,f,l,p,h,v,g;return _(this,(function(y){switch(y.label){case 0:return t=((0,d.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=E(t,2),i=r[0],o=r[1];return w(w({},e),((n={})[i]=o,n))}),{code:void 0}).code,n=(0,d.Qc)(e).pathname||"/",i=(0,d.Qc)(this._config.redirectSignIn).pathname||"/",t&&n===i?(o="https://"+this._config.domain+"/oauth2/token",C("codeFlow",{},"Retrieving tokens from "+o),s=(0,r.ic)(this._config)?this._cognitoClientId:this._config.clientID,a=(0,r.ic)(this._config)?this._config.redirectSignIn:this._config.redirectUri,m=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),c=w({grant_type:"authorization_code",code:t,client_id:s,redirect_uri:a},(u=m)?{code_verifier:u}:{}),I.debug("Calling token endpoint: "+o+" with",c),f=Object.entries(c).map((function(e){var t=E(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:f})]):[2];case 1:return[4,y.sent().json()];case 2:if(l=y.sent(),p=l.access_token,h=l.refresh_token,v=l.id_token,g=l.error)throw new Error(g);return[2,{accessToken:p,refreshToken:h,idToken:v}]}var m}))}))},e.prototype._handleImplicitFlow=function(e){return S(this,void 0,void 0,(function(){var t,n,r;return _(this,(function(i){return t=((0,d.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=E(t,2),i=r[0],o=r[1];return w(w({},e),((n={})[i]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,C("implicitFlow",{},"Got tokens from "+e),I.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return S(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return _(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?w(w({},((0,d.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=E(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),((0,d.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=E(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),I.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,w.apply(void 0,[w.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return s=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,w.apply(void 0,[w.apply(void 0,s.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw a=u.sent(),I.error("Error handling auth response.",a),a;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return S(this,void 0,void 0,(function(){var e,t,n;return _(this,(function(i){return e="https://"+this._config.domain+"/logout?",t=(0,r.ic)(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=(0,r.ic)(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=E(e,2);return t[0]+"="+t[1]})).join("&"),C("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),I.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(y()(e))},e.prototype._base64URL=function(e){return e.toString(b()).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join("")},e}();!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool"}(i||(i={}));var O,P=(O=function(e,t){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},O(e,t)},function(e,t){function n(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),x=new o.k("AuthError"),D=function(e){function t(n){var r=this,i=L[n],o=i.message,s=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=s||o,x.error(r.log),r}return P(t,e),t}(Error),k=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return P(t,e),t}(D),L={noConfig:{message:i.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:i.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:i.EMPTY_USERNAME},invalidUsername:{message:i.INVALID_USERNAME},emptyPassword:{message:i.EMPTY_PASSWORD},emptyCode:{message:i.EMPTY_CODE},signUpError:{message:i.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:i.NO_MFA},invalidMFA:{message:i.INVALID_MFA},emptyChallengeResponse:{message:i.EMPTY_CHALLENGE},noUserSession:{message:i.NO_USER_SESSION},deviceConfig:{message:i.DEVICE_CONFIG},networkError:{message:i.NETWORK_ERROR},default:{message:i.DEFAULT_MSG}},N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},N.apply(this,arguments)},R=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},M=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},U=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},F=new o.k("AuthClass"),j="aws.cognito.signin.user.admin",B="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",z=function(e,t,n){s.Xb.dispatch("auth",{event:e,data:t,message:n},"Auth",B)},q=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=a.cN,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?z("tokenRefresh",void 0,"New token retrieved"):z("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),s.Xb.listen("auth",(function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};F.debug("configure Auth");var n=Object.assign({},this._config,u._b.parseMobilehubConfig(e).Auth,e);this._config=n;var i=this._config,o=i.userPoolId,s=i.userPoolWebClientId,a=i.cookieStorage,p=i.oauth,d=i.region,v=i.identityPoolId,g=i.mandatorySignIn,y=i.refreshHandlers,m=i.identityPoolRegion,b=i.clientMetadata,w=i.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw F.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=a?new h.eR(a):e.ssr?new c.N:(new f.c4).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),o){var S={UserPoolId:o,ClientId:s,endpoint:w};S.Storage=this._storage,this.userPool=new h.AM(S,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:g,region:m||d,userPoolId:o,identityPoolId:v,refreshHandlers:y,storage:this._storage});var _=p?(0,r.ic)(this._config.oauth)?p:p.awsCognito:void 0;if(_){var E=Object.assign({cognitoClientId:s,UserPoolId:o,domain:_.domain,scopes:_.scope,redirectSignIn:_.redirectSignIn,redirectSignOut:_.redirectSignOut,responseType:_.responseType,Storage:this._storage,urlOpener:_.urlOpener,clientMetadata:b},_.options);this._oAuthHandler=new T({scopes:E.scopes,config:E,cognitoClientId:E.cognitoClientId});var A={};!function(e){if(l.JS.browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(!l.JS.browserOrNode().isNode)throw new Error("Not supported")}((function(e){var n=e.url;A[n]||(A[n]=!0,t._handleAuthResponse(n))}))}return z("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this.userPool)return this.rejectNoUserPool();var o,s=null,a=null,u=[],c=null;if(e&&"string"==typeof e){s=e,a=n?n[0]:null;var f=n?n[1]:null,l=n?n[2]:null;f&&u.push(new h.KC({Name:"email",Value:f})),l&&u.push(new h.KC({Name:"phone_number",Value:l}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(r.Qg.SignUpError);s=e.username,a=e.password,e&&e.clientMetadata?o=e.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata);var p=e.attributes;p&&Object.keys(p).map((function(e){u.push(new h.KC({Name:e,Value:p[e]}))}));var d=e.validationData;d&&(c=[],Object.keys(d).map((function(e){c.push(new h.KC({Name:e,Value:d[e]}))})))}return s?a?(F.debug("signUp attrs:",u),F.debug("signUp validation data:",c),new Promise((function(e,n){t.userPool.signUp(s,a,u,c,(function(t,r){t?(z("signUp_failure",t,s+" failed to signup"),n(t)):(z("signUp",r,s+" has signed up successfully"),e(r))}),o)}))):this.rejectAuthError(r.Qg.EmptyPassword):this.rejectAuthError(r.Qg.EmptyUsername)},e.prototype.confirmSignUp=function(e,t,n){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.Qg.EmptyUsername);if(!t)return this.rejectAuthError(r.Qg.EmptyCode);var i,o=this.createCognitoUser(e),s=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?i=n.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata),new Promise((function(e,n){o.confirmRegistration(t,s,(function(t,r){t?n(t):e(r)}),i)}))},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.Qg.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var i=null,o=null,s={};if("string"==typeof e)i=e,o=t;else{if(!(0,r.lg)(e))return this.rejectAuthError(r.Qg.InvalidUsername);void 0!==t&&F.warn("The password should be defined under the first parameter object!"),i=e.username,o=e.password,s=e.validationData}if(!i)return this.rejectAuthError(r.Qg.EmptyUsername);var a=new h.sD({Username:i,Password:o,ValidationData:s,ClientMetadata:n});return o?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return R(r,void 0,void 0,(function(){var r,s,a,u;return M(this,(function(c){switch(c.label){case 0:F.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=c.sent(),F.debug("succeed to get cognito credentials",r),[3,9];case 4:return s=c.sent(),F.debug("cannot get cognito credentials",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=c.sent(),i.user=a,z("signIn",a,"A user "+e.getUsername()+" has been signed in"),t(a),[3,8];case 7:return u=c.sent(),F.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){F.debug("signIn failure",t),z("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){F.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){F.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){F.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){F.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){F.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){F.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,i){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,i(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return F.debug("get MFA Options failed",e),void n(e);F.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(i,o){var s=n._config.clientMetadata,a=!!t&&t.bypassCache;e.getUserData((function(t,s){return R(n,void 0,void 0,(function(){var n,a;return M(this,(function(u){switch(u.label){case 0:if(!t)return[3,5];if(F.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:return(a=r._getMfaTypeFromUserData(s))?(i(a),[2]):(o("invalid MFA Type"),[2])}}))}))}),{bypassCache:a,clientMetadata:s})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":F.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,i){e.getUserData((function(t,o){return R(n,void 0,void 0,(function(){var n;return M(this,(function(s){switch(s.label){case 0:if(!t)return[3,5];if(F.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return n=s.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:r(o),s.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return R(this,void 0,void 0,(function(){var n,i,o,s,a,u,c=this;return M(this,(function(f){switch(f.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(i=f.sent(),o=null,s=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return s={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=i.UserMFASettingList,[4,this._getMfaTypeFromUserData(i)];case 5:if("NOMFA"===(u=f.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===u)o={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==u)return[2,this.rejectAuthError(r.Qg.InvalidMFA)];s={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?o={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(s={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return F.debug("no validmfa method provided"),[2,this.rejectAuthError(r.Qg.NoMFA)];case 7:return this,[2,new Promise((function(t,r){e.setUserMfaPreference(o,s,(function(i,o){if(i)return F.debug("Set user mfa preference error",i),r(i);F.debug("Set user mfa success",o),F.debug("Caching the latest user data into local"),e.getUserData((function(n,i){return R(c,void 0,void 0,(function(){var i;return M(this,(function(s){switch(s.label){case 0:if(!n)return[3,5];if(F.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(o)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return F.debug("disable mfa failed",e),void n(e);F.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return F.debug("enable mfa failed",e),void n(e);F.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){F.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){F.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return F.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){F.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){z("signIn",e,"A user "+e.getUsername()+" has been signed in"),F.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,i){var o=this;if(void 0===i&&(i=this._config.clientMetadata),!t)return this.rejectAuthError(r.Qg.EmptyCode);var s=this;return new Promise((function(r,a){e.sendMFACode(t,{onSuccess:function(t){return R(o,void 0,void 0,(function(){var n,i;return M(this,(function(o){switch(o.label){case 0:F.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),F.debug("succeed to get cognito credentials",n),[3,6];case 4:return i=o.sent(),F.debug("cannot get cognito credentials",i),[3,6];case 5:return s.user=e,z("signIn",e,"A user "+e.getUsername()+" has been signed in"),r(e),[7];case 6:return[2]}}))}))},onFailure:function(e){F.debug("confirm signIn failure",e),a(e)}},n,i)}))},e.prototype.completeNewPassword=function(e,t,n,i){var o=this;if(void 0===n&&(n={}),void 0===i&&(i=this._config.clientMetadata),!t)return this.rejectAuthError(r.Qg.EmptyPassword);var s=this;return new Promise((function(r,a){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return R(o,void 0,void 0,(function(){var n,i;return M(this,(function(o){switch(o.label){case 0:F.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),F.debug("succeed to get cognito credentials",n),[3,6];case 4:return i=o.sent(),F.debug("cannot get cognito credentials",i),[3,6];case 5:return s.user=e,z("signIn",e,"A user "+e.getUsername()+" has been signed in"),r(e),[7];case 6:return[2]}}))}))},onFailure:function(e){F.debug("completeNewPassword failure",e),z("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),a(e)},mfaRequired:function(t,n){F.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,r(e)},mfaSetup:function(t,n){F.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,r(e)},totpRequired:function(t,n){F.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,r(e)}},i)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var i=this;if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(r.Qg.EmptyChallengeResponse);return new Promise((function(r,o){e.sendCustomChallengeAnswer(t,i.authCallbacks(e,r,o),n)}))},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,i){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?i(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return R(this,void 0,void 0,(function(){var e,t,n=this;return M(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),F.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return R(n,void 0,void 0,(function(){var n,i=this;return M(this,(function(o){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return F.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(o,s){return R(i,void 0,void 0,(function(){var i,s=this;return M(this,(function(a){switch(a.label){case 0:if(!o)return[3,5];if(F.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),r(new Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(o)];case 5:n.deleteUser((function(i,o){if(i)r(i);else{z("userDeleted",o,"The authenticated user has been deleted."),n.signOut(),s.user=null;try{s.cleanCachedItems()}catch(a){F.debug("failed to clear cached items")}t?s.oAuthSignOutRedirect(e,r):(z("signOut",s.user,"A user has been signed out"),e(o))}})),a.label=6;case 6:return[2]}}))}))}))}else F.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],i=this;return new Promise((function(o,s){i.userSession(e).then((function(i){for(var a in t)if("sub"!==a&&a.indexOf("_verified")<0){var u={Name:a,Value:t[a]};r.push(u)}e.updateAttributes(r,(function(e,t){return e?s(e):o(t)}),n)}))}))},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return R(this,void 0,void 0,(function(){var t=this;return M(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),F.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(z("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return R(t,void 0,void 0,(function(){var t,i,o=this;return M(this,(function(a){switch(a.label){case 0:return this.isOAuthInProgress()?(F.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){F.debug("OAuth signIn in progress timeout"),s.Xb.remove("auth",n),e()}),1e4);function n(r){var i=r.payload.event;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(F.debug("OAuth signIn resolved: "+i),clearTimeout(t),s.Xb.remove("auth",n),e())}s.Xb.listen("auth",n)}))]):[3,2];case 1:a.sent(),a.label=2;case 2:return(t=this.userPool.getCurrentUser())?(i=this._config.clientMetadata,t.getSession((function(i,s){return R(o,void 0,void 0,(function(){var o,a,u,c,f=this;return M(this,(function(l){switch(l.label){case 0:if(!i)return[3,5];if(F.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return l.sent(),[3,4];case 3:return o=l.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(i),[2];case 5:return(a=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,7];case 6:l.sent(),l.label=7;case 7:return u=this._config.clientMetadata,c=s.getAccessToken().decodePayload().scope,(void 0===c?"":c).split(" ").includes(j)?(t.getUserData((function(e,i){return R(f,void 0,void 0,(function(){var o,s,a,u,c,f,l;return M(this,(function(p){switch(p.label){case 0:if(!e)return[3,7];if(F.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return p.sent(),[3,4];case 3:return o=p.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(e),[3,6];case 5:n(t),p.label=6;case 6:return[2];case 7:for(s=i.PreferredMfaSetting||"NOMFA",a=[],u=0;u<i.UserAttributes.length;u++)c={Name:i.UserAttributes[u].Name,Value:i.UserAttributes[u].Value},f=new h.KC(c),a.push(f);return l=this.attributesToObject(a),Object.assign(t,{attributes:l,preferredMFA:s}),[2,n(t)]}}))}))}),{bypassCache:a,clientMetadata:u}),[2]):(F.debug("Unable to get the user data because the "+j+" is not in the scopes of the access token"),[2,n(t)])}}))}))}),{clientMetadata:i}),[2]):(F.debug("Failed to get user from user pool"),r("No current user"),[2])}}))}))})).catch((function(e){return F.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return R(this,void 0,void 0,(function(){var t,n,r,i,o;return M(this,(function(s){switch(s.label){case 0:F.debug("getting current authenticated user"),t=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),F.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=N(N({},r.user),{token:r.token}))}catch(a){F.debug("cannot load federated user from auth storage")}return t?(this.user=t,F.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:F.debug("get current authenticated userpool user"),i=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=s.sent(),[3,9];case 8:return"No userPool"===(o=s.sent())&&F.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),F.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return F.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){F.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){F.debug("Failed to get the current user",e),n(e)}))})):this.rejectNoUserPool()},e.prototype.userSession=function(e){var t=this;if(!e)return F.debug("the user is null"),this.rejectAuthError(r.Qg.NoUserSession);var n=this._config.clientMetadata;return new Promise((function(r,i){F.debug("Getting the session from this user:",e),e.getSession((function(n,o){return R(t,void 0,void 0,(function(){var t;return M(this,(function(s){switch(s.label){case 0:if(!n)return[3,5];if(F.debug("Failed to get the session from user",e),!this.isSessionInvalid(n))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return t=s.sent(),i(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+t.message)),[2];case 4:return i(n),[2];case 5:return F.debug("Succeed to get the user session",o),r(o),[2]}}))}))}),{clientMetadata:n})}))},e.prototype.currentUserCredentials=function(){return R(this,void 0,void 0,(function(){var e,t,n=this;return M(this,(function(r){switch(r.label){case 0:F.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),F.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(i){F.debug("failed to get or parse item aws-amplify-federatedInfo",i)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return F.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return F.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return F.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return i(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})})):this.rejectAuthError(r.Qg.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return R(this,void 0,void 0,(function(){var n,r,i=this;return M(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),F.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,o){if(e&&e.global){F.debug("user global sign out",t);var s=i._config.clientMetadata;t.getSession((function(e,s){return R(i,void 0,void 0,(function(){var i,s=this;return M(this,(function(a){switch(a.label){case 0:if(!e)return[3,5];if(F.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),o(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,o(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(F.debug("global sign out success"),!r)return n();s.oAuthSignOutRedirect(n,o)},onFailure:function(e){return F.debug("global sign out failed",e),o(e)}}),[2]}}))}))}),{clientMetadata:s})}else F.debug("user sign out",t),t.signOut((function(){if(!r)return n();i.oAuthSignOutRedirect(n,o)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){l.JS.browserOrNode().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return R(this,void 0,void 0,(function(){var t;return M(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),F.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:F.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:F.debug("no Cognito User pool"),n.label=8;case 8:return z("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return R(this,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(o,s){i.userSession(e).then((function(i){e.changePassword(t,n,(function(e,t){return e?(F.debug("change password failure",e),s(e)):o(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.Qg.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){F.debug("forgot password failure",t),z("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){z("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,i){if(void 0===i&&(i=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.Qg.EmptyUsername);if(!t)return this.rejectAuthError(r.Qg.EmptyCode);if(!n)return this.rejectAuthError(r.Qg.EmptyPassword);var o=this.createCognitoUser(e);return new Promise((function(r,s){o.confirmPassword(t,n,{onSuccess:function(t){z("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),r(t)},onFailure:function(t){z("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),s(t)}},i)}))},e.prototype.currentUserInfo=function(){return R(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return M(this,(function(a){switch(a.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return F.error(e)}))];case 1:if(!(s=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(s)];case 3:t=a.sent(),n=this.attributesToObject(t),r=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=a.sent(),[3,7];case 6:return i=a.sent(),F.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:s.getUsername(),attributes:n}];case 8:return o=a.sent(),F.error("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(s=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return R(this,void 0,void 0,(function(){var i,o,s,a,u,c,f,l,p,h,d;return M(this,(function(v){switch(v.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return(0,r.SU)(e)||(0,r.zB)(e)||(0,r.Ay)(e)||void 0===e?(i=e||{provider:r.JG.Cognito},u=(0,r.SU)(i)?i.provider:i.customProvider,(0,r.SU)(i),o=i.customState,this._config.userPoolId&&(s=(0,r.ic)(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=(0,r.ic)(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,s,u,o)),[3,4]):[3,1];case 1:u=e;try{(c=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&F.warn("There is already a signed in user: "+c+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(g){}return f=t.token,l=t.identity_id,p=t.expires_at,[4,this.Credentials.set({provider:u,token:f,identity_id:l,user:n,expires_at:p},"federation")];case 2:return h=v.sent(),[4,this.currentAuthenticatedUser()];case 3:return d=v.sent(),z("signIn",d,"A user "+d.username+" has been signed in"),F.debug("federated sign in credentials",h),[2,h];case 4:return[2]}}))}))},e.prototype._handleAuthResponse=function(e){return R(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,f,p,v,g,y;return M(this,(function(m){switch(m.label){case 0:if(this.oAuthFlowInProgress)return F.debug("Skipping URL "+e+" current flow in progress"),[2];m.label=1;case 1:if(m.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(z("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(l.JS.browserOrNode().isBrowser?window.location.href:""),n=!!((0,d.Qc)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=U(e,1)[0];return"code"===t||"error"===t})),r=!!((0,d.Qc)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=U(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),m.label=2;case 2:return m.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=m.sent(),o=i.accessToken,s=i.idToken,a=i.refreshToken,u=i.state,c=new h.MZ({IdToken:new h.xk({IdToken:s}),RefreshToken:new h.bR({RefreshToken:a}),AccessToken:new h.ZA({AccessToken:o})}),f=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:f=m.sent(),F.debug("AWS credentials",f),m.label=5;case 5:return p=/-/.test(u),(v=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),z("signIn",v,"A user "+v.getUsername()+" has been signed in"),z("cognitoHostedUI",v,"A user "+v.getUsername()+" has been signed in via Cognito Hosted UI"),p&&(g=u.split("-").splice(1).join("-"),z("customOAuthState",g.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+v.getUsername())),[2,f];case 6:return y=m.sent(),F.debug("Error in cognito hosted auth response",y),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),z("signIn_failure",y,"The OAuth response flow failed"),z("cognitoHostedUI_failure",y,"A failure occurred when returning to the Cognito Hosted UI"),z("customState_failure",y,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new h.ws(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?r.Qg.NoConfig:r.Qg.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new D(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new k(e))},e.prototype.rememberDevice=function(){return R(this,void 0,void 0,(function(){var e,t;return M(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),F.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new D(r.Qg.DeviceConfig)):"NetworkError"===e.code?n(new D(r.Qg.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return R(this,void 0,void 0,(function(){var e,t;return M(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),F.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new D(r.Qg.DeviceConfig)):"NetworkError"===e.code?n(new D(r.Qg.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return R(this,void 0,void 0,(function(){var e,t;return M(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),F.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var i={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new D(r.Qg.DeviceConfig)):"NetworkError"===e.code?n(new D(r.Qg.NetworkError)):n(e)}};e.listDevices(60,null,i)}))]}}))}))},e}(),G=new q(null);p.dQ.register(G)},21371:function(e,t,n){"use strict";var r=n(31253);n(77534);t.ZP=r.g},19144:function(e,t,n){"use strict";var r,i,o;function s(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function a(e){return e&&!!["customProvider"].find((function(t){return e.hasOwnProperty(t)}))}function u(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}function c(e){return void 0!==e.redirectSignIn}function f(e){return!!e.username}n.d(t,{JG:function(){return r},SU:function(){return s},zB:function(){return a},Ay:function(){return u},ic:function(){return c},Qg:function(){return i},lg:function(){return f},si:function(){return o}}),function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(r||(r={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError"}(i||(i={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(o||(o={}))},56805:function(e,t,n){"use strict";n.d(t,{ZP:function(){return g}});var r=n(75557),i={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new(n(96032).c4)).getStorage()};function o(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function s(){return(new Date).getTime()}function a(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var u,c={},f=(function(){function e(){}e.clear=function(){c={}},e.getItem=function(e){return c[e]||null},e.setItem=function(e,t){c[e]=t},e.removeItem=function(e){delete c[e]}}(),n(55218)),l=new f.k("StorageCache"),p=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){a(this.config.capacityInBytes)||(l.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=i.capacityInBytes),a(this.config.itemMaxSize)||(l.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=i.itemMaxSize),a(this.config.defaultTTL)||(l.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=i.defaultTTL),a(this.config.defaultPriority)||(l.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=i.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(l.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=i.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(l.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=i.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(l.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=i.warningThreshold);this.config.capacityInBytes>5242880&&(l.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=i.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:s(),visitedTime:s(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=o(JSON.stringify(r)),r.byteSize=o(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&l.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),h=(u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},u(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=new f.k("Cache"),v=new(function(e){function t(t){var n=this,r=t?Object.assign({},i,t):i;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return h(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=s(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return s()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(n){this._decreaseCurSizeInBytes(t.byteSize),d.error("Failed to set item "+n)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var s=JSON.parse(o);n.push(s)}}n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}));for(i=0;i<n.length;i+=1)if(this._removeItem(n[i].key,n[i].byteSize),(r-=n[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){d.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+s()};if(i.priority<1||i.priority>5)d.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var o=this.fillCacheItem(r,t,i);if(o.byteSize>this.config.itemMaxSize)d.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var a=this.config.storage.getItem(r);if(a&&this._removeItem(r,JSON.parse(a).byteSize),this._isCacheFull(o.byteSize)){var u=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var c=this._sizeToPop(o.byteSize);this._popOutItems(u,c)}}this._setItem(r,o)}catch(f){d.warn("setItem failed! "+f)}}}else d.warn("The value of item should not be undefined!");else d.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){d.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return d.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var i=JSON.parse(n);return(i=this._refreshItem(i,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(s){return d.warn("getItem failed! "+s),null}},t.prototype.removeItem=function(e){d.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(r){d.warn("removeItem failed! "+r)}},t.prototype.clear=function(){d.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(r){d.warn("clear failed! "+r)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==i.keyPrefix||(d.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=s.toString()),new t(e)},t}(p)),g=v;r.dQ.register(v)},44141:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=new(n(55218).k)("ClientDevice_Browser");function i(){return"undefined"==typeof window?{}:function(){if("undefined"==typeof window)return r.warn("No window object available to get browser client info"),{};var e=window.navigator;if(!e)return r.warn("No navigator object available to get browser client info"),{};var t=e.platform,n=e.product,i=e.vendor,o=e.userAgent,s=e.language,a=function(e){var t=/.+(Opera[\s[A-Z]*|OPR[\sA-Z]*)\/([0-9\.]+).*/i.exec(e);if(t)return{type:t[1],version:t[2]};var n=/.+(Trident|Edge)\/([0-9\.]+).*/i.exec(e);if(n)return{type:n[1],version:n[2]};var r=/.+(Chrome|Firefox|FxiOS)\/([0-9\.]+).*/i.exec(e);if(r)return{type:r[1],version:r[2]};var i=/.+(Safari)\/([0-9\.]+).*/i.exec(e);if(i)return{type:i[1],version:i[2]};var o=/.+(AppleWebKit)\/([0-9\.]+).*/i.exec(e);if(o)return{type:o[1],version:o[2]};var s=/.*([A-Z]+)\/([0-9\.]+).*/i.exec(e);if(s)return{type:s[1],version:s[2]};return{type:"",version:""}}(o),u=(c=/\(([A-Za-z\s].*)\)/.exec((new Date).toString()),c&&c[1]||"");var c;return{platform:t,make:n||i,model:a.type,version:a.version,appVersion:[a.type,a.version].join("/"),language:s,timezone:u}}()}var o=function(){function e(){}return e.clientInfo=function(){return i()},e.dimension=function(){return"undefined"==typeof window?(r.warn("No window object available to get browser client info"),{width:320,height:320}):{width:window.innerWidth,height:window.innerHeight}},e}()},17672:function(e,t,n){"use strict";n.d(t,{cN:function(){return lt}});var r,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I,T,O,P,x,D,k,L,N,R,M,U,F,j,B,z,q,G,K,V,H,W,Y,J,Z,Q,$,X,ee,te,ne,re,ie,oe,se=n(55218),ae=n(96032),ue=n(20617),ce=n(4071),fe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},le=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},pe=new se.k("CognitoCredentials"),he=new Promise((function(e,t){return(0,ue.lC)().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(pe.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(pe.debug("not in the browser, directly resolved"),e())})),de=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return fe(this,void 0,void 0,(function(){return le(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(pe.debug("need to wait for the Google SDK loaded"),[4,he]);case 1:e.sent(),this.initialized=!0,pe.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return(0,ue.lC)().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(pe.debug("google Auth undefined"),n(new ce.V2("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(pe.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new ce.V2("Failed to reload google auth response"))}))):n(new ce.V2("User is not signed in with Google"))})).catch((function(e){pe.debug("Failed to refresh google token",e),n(new ce.V2("Failed to refresh google token"))}))})):(pe.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),ve=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ge=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ye=new se.k("CognitoCredentials"),me=new Promise((function(e,t){return(0,ue.lC)().isBrowser?window.FB?(ye.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(ye.debug("not in the browser, directly resolved"),e())})),be=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return ve(this,void 0,void 0,(function(){return ge(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(ye.debug("need to wait for the Facebook SDK loaded"),[4,me]);case 1:e.sent(),this.initialized=!0,ye.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if((0,ue.lC)().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return ye.debug(t),Promise.reject(new ce.V2(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();if(!i){s="the jwtToken is undefined";ye.debug(s),n(new ce.V2(s))}t({token:i,expires_at:o})}else{var s="no response from facebook when refreshing the jwt token";ye.debug(s),n(new ce.V2(s))}}),{scope:"public_profile,email"})}))},e}(),we=new de,Se=new be,_e=n(1648),Ee=n(75557),Ae=n(38499),Ce=n(7094);!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(r||(r={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(i||(i={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(o||(o={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(s||(s={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(a||(a={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(u||(u={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(c||(c={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(f||(f={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(l||(l={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(h||(h={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(d||(d={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(b||(b={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(w||(w={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(E||(E={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(A||(A={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(C||(C={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(T||(T={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(O||(O={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(P||(P={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(x||(x={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(k||(k={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(F||(F={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(q||(q={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Ce.pi)({},e)}}(oe||(oe={}));var Ie=n(16716),Te=n(28064),Oe=n(4781),Pe=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ce.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,Te.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:E.filterSensitiveLog,outputFilterSensitiveLog:C.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Ie.Eb)(e,t)},t.prototype.deserialize=function(e,t){return(0,Ie.$M)(e,t)},t}(Oe.mY),xe=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return(0,Ae.__extends)(t,e),t}(Error);function De(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=(0,Ae.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}function ke(e){var t=this;return function(){return(0,Ae.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,f,l,p,h;return(0,Ae.__generator)(this,(function(d){switch(d.label){case 0:return f=(c=e.client).send,l=Pe.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,De(e.logins)]:[3,2];case 1:return p=d.sent(),[3,3];case 2:p=void 0,d.label=3;case 3:return[4,f.apply(c,[new(l.apply(Pe,[void 0,(h.Logins=p,h)]))])];case 4:return t=d.sent().Credentials,n=void 0===t?function(){throw new xe("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new xe("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,s=n.SecretKey,a=void 0===s?function(){throw new xe("Response from Amazon Cognito contained no secret key")}():s,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:a,sessionToken:u,expiration:o}]}}))}))}}var Le=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ce.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,Te.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:T.filterSensitiveLog,outputFilterSensitiveLog:O.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Ie.US)(e,t)},t.prototype.deserialize=function(e,t){return(0,Ie.BX)(e,t)},t}(Oe.mY),Ne="IdentityIds",Re=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(Ne,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(Ne,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(Ne)))})).catch((function(e){throw n.close(),e}))}))},e}(),Me=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());function Ue(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"==typeof self&&self.indexedDB?new Re:"object"==typeof window&&window.localStorage?window.localStorage:Me:r,o=e.client,s=e.customRoleArn,a=e.identityPoolId,u=e.logins,c=e.userIdentifier,f=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,l=f?"aws:cognito-identity-credentials:"+a+":"+f:void 0,p=function(){return(0,Ae.__awaiter)(t,void 0,void 0,(function(){var e,t,r,c,f,h,d,v,g;return(0,Ae.__generator)(this,(function(y){switch(y.label){case 0:return(t=l)?[4,i.getItem(l)]:[3,2];case 1:t=y.sent(),y.label=2;case 2:return(e=t)?[3,7]:(h=(f=o).send,d=Le.bind,g={AccountId:n,IdentityPoolId:a},u?[4,De(u)]:[3,4]);case 3:return v=y.sent(),[3,5];case 4:v=void 0,y.label=5;case 5:return[4,h.apply(f,[new(d.apply(Le,[void 0,(g.Logins=v,g)]))])];case 6:r=y.sent().IdentityId,c=void 0===r?function(){throw new xe("Response from Amazon Cognito contained no identity ID")}():r,e=c,l&&Promise.resolve(i.setItem(l,e)).catch((function(){})),y.label=7;case 7:return[2,(p=ke({client:o,customRoleArn:s,logins:u,identityId:e}))()]}}))}))};return function(){return p().catch((function(e){return(0,Ae.__awaiter)(t,void 0,void 0,(function(){return(0,Ae.__generator)(this,(function(t){throw l&&Promise.resolve(i.removeItem(l)).catch((function(){})),e}))}))}))}}var Fe=n(14552),je=n(4986),Be=n(3241),ze=n(41817),qe=n(34252),Ge=n(46105),Ke=n(5287),Ve=n(24177),He="cognito-identity.{region}.amazonaws.com",We=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Ye=new Set(["cn-north-1","cn-northwest-1"]),Je=new Set(["us-iso-east-1"]),Ze=new Set(["us-isob-east-1"]),Qe=new Set(["us-gov-east-1","us-gov-west-1"]),$e={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:We.has(e)&&(n={hostname:He.replace("{region}",e),partition:"aws"}),Ye.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Je.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Ze.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Qe.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:He.replace("{region}",e),partition:"aws"})}return Promise.resolve((0,Ce.pi)({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:n(61488).e},Xe=(0,Ce.pi)((0,Ce.pi)({},$e),{runtime:"browser",base64Decoder:qe.G,base64Encoder:qe.s,bodyLengthChecker:Ge.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,Ke.f)({serviceId:$e.serviceId,clientVersion:"3.6.1"}),maxAttempts:ze.J,region:(0,Be.n)("Region is missing"),requestHandler:new je.B,sha256:Fe.Sha256,streamCollector:je.C,utf8Decoder:Ve.fromUtf8,utf8Encoder:Ve.toUtf8}),et=n(25562),tt=n(99561),nt=n(47498),rt=n(7317),it=n(29960),ot=n(83512),st=function(e){function t(t){var n=this,r=(0,Ce.pi)((0,Ce.pi)({},Xe),t),i=(0,et.Xb)(r),o=(0,et.g4)(i),s=(0,it.A$)(o),a=(0,ze.BC)(s),u=(0,nt.S8)(a),c=(0,ot.er)(u);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use((0,ze.NQ)(n.config)),n.middlewareStack.use((0,tt.VG)(n.config)),n.middlewareStack.use((0,nt.G2)(n.config)),n.middlewareStack.use((0,rt.cV)(n.config)),n.middlewareStack.use((0,ot.XJ)(n.config)),n}return(0,Ce.ZT)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Oe.KU),at=function(){return at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},at.apply(this,arguments)},ut=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ct=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ft=new se.k("Credentials"),lt=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=we.refreshGoogleToken,this._refreshHandlers.facebook=Se.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=at(at({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new ae.c4).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return ft.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return ft.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?ft.debug("getting old cred promise"):(ft.debug("getting new cred promise"),this._gettingCredPromise=(0,ue.ML)(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return ut(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return ct(this,(function(a){switch(a.label){case 0:if(ft.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return ft.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(ft.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?Ee.dQ.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];ft.debug("ttl has passed but token is not yet expired"),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=a.sent(),[4,n.currentSession()];case 3:return i=a.sent(),o=i.refreshToken,[4,new Promise((function(e,t){r.refreshSession(o,(function(n,r){return n?t(n):e(r)}))}))];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),ft.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){ft.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;var s=this;return ft.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(ft.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):s._refreshHandlers[t]&&"function"==typeof s._refreshHandlers[t]?(ft.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:s._refreshHandlers[t],provider:t,user:n})):(ft.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return(0,ce.Xm)(n,[],1e4).then((function(e){return ft.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),ft.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return ft.debug("no credentials for expiration check"),!0;ft.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return ut(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u=this;return ct(this,(function(c){switch(c.label){case 0:return ft.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:t?n?(i=this,[4,this._getGuestIdentityId()]):(ft.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(ft.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return r=i._identityId=c.sent(),o=new st({region:n,customUserAgent:(0,_e.Zm)()}),s=void 0,r?s=ke({identityId:r,client:o})():(a=function(){return ut(u,void 0,void 0,(function(){var e;return ct(this,(function(n){switch(n.label){case 0:return[4,o.send(new Le({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,ke({client:o,identityId:e})()]}}))}))},s=a().catch((function(e){return ut(u,void 0,void 0,(function(){return ct(this,(function(t){throw e}))}))}))),[2,this._loadCredentials(s,"guest",!1,null).then((function(e){return e})).catch((function(e){return ut(u,void 0,void 0,(function(){var n,i=this;return ct(this,(function(a){switch(a.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+r+"' not found."?[3,2]:(ft.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return a.sent(),n=function(){return ut(i,void 0,void 0,(function(){var e;return ct(this,(function(n){switch(n.label){case 0:return[4,o.send(new Le({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,ke({client:o,identityId:e})()]}}))}))},s=n().catch((function(e){return ut(i,void 0,void 0,(function(){return ct(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var s=this._config,a=s.identityPoolId,u=s.region;if(!a)return ft.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return ft.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=new st({region:u,customUserAgent:(0,_e.Zm)()}),f=void 0;r?f=ke({identityId:r,logins:o,client:c})():f=Ue({logins:o,identityPoolId:a,client:c})();return this._loadCredentials(f,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;ft.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,s=r.identityPoolId;if(!s)return ft.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return ft.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var a={};a["cognito-idp."+i+".amazonaws.com/"+o]=n;var u=new st({region:i,customUserAgent:(0,_e.Zm)()}),c=ut(t,void 0,void 0,(function(){var e,t,n,r,i,o,c,f,l,p;return ct(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,u.send(new Le({IdentityPoolId:s,Logins:a}))];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,u.send(new Pe({IdentityId:e||t,Logins:a}))];case 4:return r=h.sent(),i=r.Credentials,o=i.AccessKeyId,c=i.Expiration,f=i.SecretKey,l=i.SessionToken,p=r.IdentityId,this._identityId=p,e?(ft.debug("The guest identity "+e+" has been successfully linked to the logins"),e===p&&ft.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:o,secretAccessKey:f,sessionToken:l,expiration:c,identityId:p}]}}))})).catch((function(e){return ut(t,void 0,void 0,(function(){return ct(this,(function(t){throw e}))}))}));return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this;return new Promise((function(s,a){e.then((function(e){return ut(i,void 0,void 0,(function(){var i,a,u,c,f;return ct(this,(function(l){switch(l.label){case 0:if(ft.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),a=r.provider,u=r.token,c=r.expires_at,f=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:a,token:u,user:i,expires_at:c,identity_id:f}))}catch(p){ft.debug("Failed to put federated info into auth storage",p)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:l.sent(),l.label=2;case 2:return s(o._credentials),[2]}}))}))})).catch((function(t){if(t)return ft.debug("Failed to load credentials",e),ft.debug("Error loading credentials",t),void a(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(ft.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return ut(this,void 0,void 0,(function(){return ct(this,(function(e){return this._credentials=null,this._credentials_source=null,ft.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return ut(this,void 0,void 0,(function(){var e,t;return ct(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),ft.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return ut(this,void 0,void 0,(function(){var t,n;return ct(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),ft.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return ut(this,void 0,void 0,(function(){var e;return ct(this,(function(t){return e=this._config.identityPoolId,ft.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);Ee.dQ.register(lt)},60643:function(e,t,n){"use strict";n.d(t,{Xb:function(){return c}});var r=n(55218),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},s=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},a=new r.k("Hub"),u="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var c=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void a.warn("No listeners for "+e);this.patterns=s(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void a.warn("No listeners for "+e);this.listeners[e]=s(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===u||a.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var o={channel:e,payload:i({},t),source:n,patternInfo:[]};try{this._toListeners(o)}catch(s){a.error(s)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))a.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){a.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(i){a.error(i)}})),this.patterns.length>0){if(!n.message)return void a.warn("Cannot perform pattern matching without a message key");var s=n.message;this.patterns.forEach((function(t){var n=s.match(t.pattern);if(n){var r=o(n).slice(1),u=i(i({},e),{patternInfo:r});try{t.callback(u)}catch(c){a.error(c)}}}))}},e}())("__default__")},42408:function(e,t,n){"use strict";n.d(t,{o:function(){return f}});var r=n(55218),i=new r.k("I18n"),o=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),i.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),s=n(75557),a=new r.k("I18n"),u=null,c=null,f=function(){function e(){}return e.configure=function(t){return a.debug("configure I18n"),t?(u=Object.assign({},u,t.I18n||t),e.createInstance(),u):u},e.getModuleName=function(){return"I18n"},e.createInstance=function(){a.debug("create I18n instance"),c||(c=new o(u))},e.setLanguage=function(t){return e.checkConfig(),c.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?c.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),c.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),c.putVocabularies(t)},e.checkConfig=function(){return c||(c=new o(u)),!0},e}();s.dQ.register(f)},20617:function(e,t,n){"use strict";n.d(t,{ML:function(){return f},n2:function(){return l},lC:function(){return p},JS:function(){return g}});var r=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],i=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},o=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var i=e[t],o=n[t];return void 0===o?void 0===i?0:1*r:void 0===i||i<o?-1*r:i>o?1*r:0})),!0},s=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},a=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),i=r.filter((function(e){return n.endsWith("."+e.ext)}));return i.length>0?i[0].type:t},u=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},c=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},f=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},l=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},p=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}},h=function e(t,n,r){if(void 0===n&&(n=[]),void 0===r&&(r=[]),!v(t))return t;var i={};for(var o in t){if(t.hasOwnProperty(o))i[n.includes(o)?o:o[0].toLowerCase()+o.slice(1)]=r.includes(o)?t[o]:e(t[o],n,r)}return i},d=function e(t,n,r){if(void 0===n&&(n=[]),void 0===r&&(r=[]),!v(t))return t;var i={};for(var o in t){if(t.hasOwnProperty(o))i[n.includes(o)?o:o[0].toUpperCase()+o.slice(1)]=r.includes(o)?t[o]:e(t[o],n,r)}return i},v=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)},g=function(){function e(){}return e.isEmpty=i,e.sortByField=o,e.objectLessAttributes=s,e.filenameToContentType=a,e.isTextFile=u,e.generateRandomString=c,e.makeQuerablePromise=f,e.isWebWorker=l,e.browserOrNode=p,e.transferKeyToLowerCase=h,e.transferKeyToUpperCase=d,e.isStrictObject=v,e}()},23719:function(e,t,n){"use strict";n.d(t,{gi:function(){return s},_b:function(){return a}});var r=n(55218),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=new r.k("Parser"),s=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=i(i({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),o.debug("parse config",e,"to amplifyconfig",n),n},a=function(){function e(){}return e.parseMobilehubConfig=s,e}()},1648:function(e,t,n){"use strict";n.d(t,{t4:function(){return i},Zm:function(){return o}});var r="aws-amplify/4.5.2",i={userAgent:r+" js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)if(i.product=navigator.product||"",i.navigator=navigator||null,"ReactNative"===navigator.product)i.userAgent=r+" react-native",i.isReactNative=!0;else i.userAgent=r+" js",i.isReactNative=!1;var o=function(){return i.userAgent}},10617:function(e,t,n){"use strict";n.d(t,{P:function(){return qt}});var r,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I,T,O,P,x,D,k,L,N,R,M,U,F,j,B,z,q,G,K,V,H,W,Y,J,Z,Q,$,X,ee,te,ne,re,ie,oe,se,ae,ue,ce,fe,le,pe,he,de,ve,ge,ye,me,be,we,Se,_e,Ee,Ae,Ce,Ie,Te,Oe,Pe,xe,De,ke,Le,Ne,Re,Me,Ue,Fe,je,Be,ze,qe,Ge,Ke,Ve,He,We,Ye,Je,Ze,Qe,$e,Xe=n(36675);!function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(r||(r={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(i||(i={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(o||(o={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(s||(s={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(a||(a={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(u||(u={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(c||(c={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(f||(f={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(l||(l={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(h||(h={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(d||(d={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(b||(b={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(w||(w={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(E||(E={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(A||(A={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(C||(C={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(T||(T={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(O||(O={})),function(e){e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.PENDING="PENDING",e.PENDING_CANCEL="PENDING_CANCEL",e.RUNNING="RUNNING"}(P||(P={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(x||(x={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(k||(k={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(U||(U={})),function(e){e.LastEventTime="LastEventTime",e.LogStreamName="LogStreamName"}(F||(F={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(q||(q={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(V||(V={})),function(e){e.Cancelled="Cancelled",e.Complete="Complete",e.Failed="Failed",e.Running="Running",e.Scheduled="Scheduled"}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(ne||(ne={})),function(e){e.ByLogStream="ByLogStream",e.Random="Random"}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(De||(De={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Be||(Be={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Je||(Je={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Ze||(Ze={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}(Qe||(Qe={})),function(e){e.filterSensitiveLog=function(e){return(0,Xe.pi)({},e)}}($e||($e={}));var et=n(14931),tt=n(28064),nt=n(4781),rt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Xe.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,tt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogGroupCommand",inputFilterSensitiveLog:d.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,et.vO)(e,t)},t.prototype.deserialize=function(e,t){return(0,et.hd)(e,t)},t}(nt.mY),it=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Xe.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,tt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogGroupsCommand",inputFilterSensitiveLog:R.filterSensitiveLog,outputFilterSensitiveLog:U.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,et.GX)(e,t)},t.prototype.deserialize=function(e,t){return(0,et.jc)(e,t)},t}(nt.mY),ot=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Xe.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,tt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogStreamCommand",inputFilterSensitiveLog:v.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,et.gw)(e,t)},t.prototype.deserialize=function(e,t){return(0,et.um)(e,t)},t}(nt.mY),st=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Xe.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,tt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogStreamsCommand",inputFilterSensitiveLog:j.filterSensitiveLog,outputFilterSensitiveLog:z.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,et.pe)(e,t)},t.prototype.deserialize=function(e,t){return(0,et.HQ)(e,t)},t}(nt.mY),at=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Xe.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,tt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogEventsCommand",inputFilterSensitiveLog:le.filterSensitiveLog,outputFilterSensitiveLog:he.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,et.$6)(e,t)},t.prototype.deserialize=function(e,t){return(0,et.X0)(e,t)},t}(nt.mY),ut=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Xe.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,tt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutLogEventsCommand",inputFilterSensitiveLog:xe.filterSensitiveLog,outputFilterSensitiveLog:ke.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,et.fY)(e,t)},t.prototype.deserialize=function(e,t){return(0,et.Vc)(e,t)},t}(nt.mY),ct=n(14552),ft=n(4986),lt=n(3241),pt=n(41817),ht=n(34252),dt=n(46105),vt=n(5287),gt=n(24177),yt="logs.{region}.amazonaws.com",mt=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),bt=new Set(["cn-north-1","cn-northwest-1"]),wt=new Set(["us-iso-east-1"]),St=new Set(["us-isob-east-1"]),_t=new Set(["us-gov-east-1","us-gov-west-1"]),Et={apiVersion:"2014-03-28",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"logs.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"logs.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"logs.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"logs.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"logs.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"logs.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"logs.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"logs.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"logs.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"logs.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"logs.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"logs.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"logs.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"logs.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"logs.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"logs.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"logs-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"logs-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"logs-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"logs-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"logs.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"logs.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"logs.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"logs.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"logs.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"logs.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"logs.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"logs.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"logs.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"logs.us-west-2.amazonaws.com",partition:"aws"};break;default:mt.has(e)&&(n={hostname:yt.replace("{region}",e),partition:"aws"}),bt.has(e)&&(n={hostname:"logs.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),wt.has(e)&&(n={hostname:"logs.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),St.has(e)&&(n={hostname:"logs.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),_t.has(e)&&(n={hostname:"logs.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:yt.replace("{region}",e),partition:"aws"})}return Promise.resolve((0,Xe.pi)({signingService:"logs"},n))},serviceId:"CloudWatch Logs",urlParser:n(61488).e},At=(0,Xe.pi)((0,Xe.pi)({},Et),{runtime:"browser",base64Decoder:ht.G,base64Encoder:ht.s,bodyLengthChecker:dt.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,vt.f)({serviceId:Et.serviceId,clientVersion:"3.6.1"}),maxAttempts:pt.J,region:(0,lt.n)("Region is missing"),requestHandler:new ft.B,sha256:ct.Sha256,streamCollector:ft.C,utf8Decoder:gt.fromUtf8,utf8Encoder:gt.toUtf8}),Ct=n(25562),It=n(99561),Tt=n(47498),Ot=n(7317),Pt=n(29960),xt=n(83512),Dt=function(e){function t(t){var n=this,r=(0,Xe.pi)((0,Xe.pi)({},At),t),i=(0,Ct.Xb)(r),o=(0,Ct.g4)(i),s=(0,Pt.A$)(o),a=(0,pt.BC)(s),u=(0,Tt.S8)(a),c=(0,xt.er)(u);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use((0,Pt.yt)(n.config)),n.middlewareStack.use((0,pt.NQ)(n.config)),n.middlewareStack.use((0,It.VG)(n.config)),n.middlewareStack.use((0,Tt.G2)(n.config)),n.middlewareStack.use((0,Ot.cV)(n.config)),n.middlewareStack.use((0,xt.XJ)(n.config)),n}return(0,Xe.ZT)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(nt.KU),kt=n(17672),Lt=n(55218),Nt=n(1648),Rt=n(23719),Mt=n(2729),Ut=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ft=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},jt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Bt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(jt(arguments[t]));return e},zt=new Lt.k("AWSCloudWatch"),qt=function(){function e(e){this.configure(e),this._dataTracker={eventUploadInProgress:!1,logEvents:[]},this._currentLogBatch=[],this._initiateLogPushInterval()}return e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.getCategoryName=function(){return e.CATEGORY},e.prototype.getLogQueue=function(){return this._dataTracker.logEvents},e.prototype.configure=function(e){if(!e)return this._config||{};var t=Object.assign({},this._config,(0,Rt.gi)(e).Logging,e);return this._config=t,this._config},e.prototype.createLogGroup=function(e){return Ut(this,void 0,void 0,(function(){var t,n;return Ft(this,(function(r){switch(r.label){case 0:zt.debug("creating new log group in CloudWatch - ",e.logGroupName),t=new rt(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(Mt.I6);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),zt.error("error creating log group - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogGroups=function(e){return Ut(this,void 0,void 0,(function(){var t,n;return Ft(this,(function(r){switch(r.label){case 0:zt.debug("getting list of log groups"),t=new it(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(Mt.I6);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),zt.error("error getting log group - "+n),n;case 5:return[2]}}))}))},e.prototype.createLogStream=function(e){return Ut(this,void 0,void 0,(function(){var t,n;return Ft(this,(function(r){switch(r.label){case 0:zt.debug("creating new log stream in CloudWatch - ",e.logStreamName),t=new ot(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(Mt.I6);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),zt.error("error creating log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogStreams=function(e){return Ut(this,void 0,void 0,(function(){var t,n;return Ft(this,(function(r){switch(r.label){case 0:zt.debug("getting list of log streams"),t=new st(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(Mt.I6);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),zt.error("error getting log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogEvents=function(e){return Ut(this,void 0,void 0,(function(){var t,n;return Ft(this,(function(r){switch(r.label){case 0:zt.debug("getting log events from stream - ",e.logStreamName),t=new at(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(Mt.I6);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),zt.error("error getting log events - "+n),n;case 5:return[2]}}))}))},e.prototype.pushLogs=function(e){zt.debug("pushing log events to Cloudwatch..."),this._dataTracker.logEvents=Bt(this._dataTracker.logEvents,e)},e.prototype._validateLogGroupExistsAndCreate=function(e){return Ut(this,void 0,void 0,(function(){var t,n,r,i;return Ft(this,(function(o){switch(o.label){case 0:if(this._dataTracker.verifiedLogGroup)return[2,this._dataTracker.verifiedLogGroup];o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this._ensureCredentials()];case 2:if(!o.sent())throw new Error(Mt.I6);return[4,this.getLogGroups({logGroupNamePrefix:e})];case 3:return"string"!=typeof(t=o.sent())&&t.logGroups&&(n=t.logGroups.filter((function(t){return t.logGroupName===e}))).length>0?(this._dataTracker.verifiedLogGroup=n[0],[2,n[0]]):[4,this.createLogGroup({logGroupName:e})];case 4:return o.sent(),[2,null];case 5:throw r=o.sent(),i="failure during log group search: "+r,zt.error(i),r;case 6:return[2]}}))}))},e.prototype._validateLogStreamExists=function(e,t){return Ut(this,void 0,void 0,(function(){var n,r,i,o;return Ft(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error(Mt.I6);return[4,this.getLogStreams({logGroupName:e,logStreamNamePrefix:t})];case 2:return(n=s.sent()).logStreams&&(r=n.logStreams.filter((function(e){return e.logStreamName===t}))).length>0?(this._nextSequenceToken=r[0].uploadSequenceToken,[2,r[0]]):[4,this.createLogStream({logGroupName:e,logStreamName:t})];case 3:return s.sent(),[2,null];case 4:throw i=s.sent(),o="failure during log stream search: "+i,zt.error(o),i;case 5:return[2]}}))}))},e.prototype._sendLogEvents=function(e){return Ut(this,void 0,void 0,(function(){var t,n,r;return Ft(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this._ensureCredentials()];case 1:if(!i.sent())throw new Error(Mt.I6);return zt.debug("sending log events to stream - ",e.logStreamName),t=new ut(e),[4,this._initCloudWatchLogs().send(t)];case 2:return[2,i.sent()];case 3:return n=i.sent(),r="failure during log push: "+n,zt.error(r),[3,4];case 4:return[2]}}))}))},e.prototype._initCloudWatchLogs=function(){return new Dt({region:this._config.region,credentials:this._config.credentials,customUserAgent:(0,Nt.Zm)(),endpoint:this._config.endpoint})},e.prototype._ensureCredentials=function(){return Ut(this,void 0,void 0,(function(){var e=this;return Ft(this,(function(t){switch(t.label){case 0:return[4,kt.cN.get().then((function(t){if(!t)return!1;var n=kt.cN.shear(t);return zt.debug("set credentials for logging",n),e._config.credentials=n,!0})).catch((function(e){return zt.warn("ensure credentials error",e),!1}))];case 1:return[2,t.sent()]}}))}))},e.prototype._getNextSequenceToken=function(){return Ut(this,void 0,void 0,(function(){var e,t;return Ft(this,(function(n){switch(n.label){case 0:if(this._nextSequenceToken&&this._nextSequenceToken.length>0)return[2,this._nextSequenceToken];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this._validateLogGroupExistsAndCreate(this._config.logGroupName)];case 2:return n.sent(),this._nextSequenceToken=void 0,[4,this._validateLogStreamExists(this._config.logGroupName,this._config.logStreamName)];case 3:return(e=n.sent())&&(this._nextSequenceToken=e.uploadSequenceToken),[2,this._nextSequenceToken];case 4:throw t=n.sent(),zt.error("failure while getting next sequence token: "+t),t;case 5:return[2]}}))}))},e.prototype._safeUploadLogEvents=function(){return Ut(this,void 0,void 0,(function(){var e,t,n,r,i;return Ft(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this._getNextSequenceToken()];case 1:return e=o.sent(),t=0===this._currentLogBatch.length?this._getBufferedBatchOfLogs():this._currentLogBatch,n={logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName,logEvents:t,sequenceToken:e},this._dataTracker.eventUploadInProgress=!0,[4,this._sendLogEvents(n)];case 2:return r=o.sent(),this._nextSequenceToken=r.nextSequenceToken,this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,r];case 3:if(i=o.sent(),zt.error("error during _safeUploadLogEvents: "+i),!Mt.PZ.includes(i.name))throw this._dataTracker.eventUploadInProgress=!1,i;return this._getNewSequenceTokenAndSubmit({logEvents:this._currentLogBatch,logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName}),[3,4];case 4:return[2]}}))}))},e.prototype._getBufferedBatchOfLogs=function(){for(var e=0,t=0;e<this._dataTracker.logEvents.length;){var n=this._dataTracker.logEvents[e],r=n?(new TextEncoder).encode(n.message).length+Mt.x7:0;if(r>Mt.HF){var i="Log entry exceeds maximum size for CloudWatch logs. Log size: "+r+". Truncating log message.";zt.warn(i),n.message=n.message.substring(0,r)}if(t+r>Mt.CO)break;t+=r,e++}return this._currentLogBatch=this._dataTracker.logEvents.splice(0,e),this._currentLogBatch},e.prototype._getNewSequenceTokenAndSubmit=function(e){return Ut(this,void 0,void 0,(function(){var t,n,r;return Ft(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this._nextSequenceToken=void 0,this._dataTracker.eventUploadInProgress=!0,[4,this._getNextSequenceToken()];case 1:return t=i.sent(),e.sequenceToken=t,[4,this._sendLogEvents(e)];case 2:return n=i.sent(),this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,n];case 3:throw r=i.sent(),zt.error("error when retrying log submission with new sequence token: "+r),this._dataTracker.eventUploadInProgress=!1,r;case 4:return[2]}}))}))},e.prototype._initiateLogPushInterval=function(){var e=this;this._timer&&clearInterval(this._timer),this._timer=setInterval((function(){return Ut(e,void 0,void 0,(function(){var e;return Ft(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this._getDocUploadPermissibility()?[4,this._safeUploadLogEvents()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),zt.error("error when calling _safeUploadLogEvents in the timer interval - "+e),[3,4];case 4:return[2]}}))}))}),2e3)},e.prototype._getDocUploadPermissibility=function(){return(0!==this._dataTracker.logEvents.length||0!==this._currentLogBatch.length)&&!this._dataTracker.eventUploadInProgress},e.PROVIDER_NAME=Mt.yB,e.CATEGORY=Mt.YG,e}()},36798:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var r=n(55218),i=n(20617),o=n(75557),s=function(){function e(){this._logger=new r.k("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering "+e),this._logger.debug("registering service worker with scope "+t),new Promise((function(r,i){if(!navigator||!("serviceWorker"in navigator))return i(new Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then((function(e){return e.installing?n._serviceWorker=e.installing:e.waiting?n._serviceWorker=e.waiting:e.active&&(n._serviceWorker=e.active),n._registration=e,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+e),r(e)})).catch((function(e){return n._logger.debug("Service Worker Registration Failed "+e),i(e)}))}))},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=e,new Promise((function(n,r){if(!(0,i.lC)().isBrowser)return r(new Error("Service Worker not available"));t._registration.pushManager.getSubscription().then((function(r){if(!r)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then((function(e){t._subscription=e,t._logger.debug("User subscribed: "+JSON.stringify(e)),n(e)})).catch((function(e){t._logger.error(e)}));t._subscription=r,t._logger.debug("User is subscribed to push: "+JSON.stringify(r)),n(r)}))}))},e.prototype._urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"==typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",(function(t){var n=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: "+n),o.dQ.Analytics&&"function"==typeof o.dQ.Analytics.record&&o.dQ.Analytics.record({name:"ServiceWorker",attributes:{state:n}})})),this._serviceWorker.addEventListener("message",(function(t){e._logger.debug("ServiceWorker message event: "+t)}))},e}()},62579:function(e,t,n){"use strict";n.d(t,{E:function(){return S}});var r=n(55218),i=n(34706),o=n(87922),s=n(1480),a=n(24484),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},f=new r.k("Signer"),l="AWS4-HMAC-SHA256",p=function(e,t){var n=new i.Sha256(e);return n.update(t),n.digestSync()},h=function(e){var t=e||"",n=new i.Sha256;return n.update(t),(0,o.N)(n.digestSync())},d=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},v=function(e){var t,n,r=(0,s.Qc)(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),d(e.headers),h(e.data)].join("\n")},g=function(e){var t=((0,s.Qc)(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},y=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},m=function(e,t,n,r){return[e,n,r,h(t)].join("\n")},b=function(e,t,n){f.debug(n);var r=p("AWS4"+e,t),i=p(r,n.region),o=p(i,n.service);return p(o,"aws4_request")},w=function(e,t){return(0,o.N)(p(e,t))},S=function(){function e(){}return e.sign=function(e,t,n){void 0===n&&(n=null),e.headers=e.headers||{};var r=a.E.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),i=r.substr(0,8),o=(0,s.Qc)(e.url);e.headers.host=o.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var u=v(e);f.debug(u);var c=n||g(e),p=y(i,c.region,c.service),h=m(l,u,r,p),S=b(t.secret_key,i,c),_=w(S,h),E=function(e,t,n,r,i){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+i].join(", ")}(l,t.access_key,p,d(e.headers),_);return e.headers.Authorization=E,e},e.signUrl=function(e,t,n,r){var i="object"==typeof e?e.url:e,o="object"==typeof e?e.method:"GET",f="object"==typeof e?e.body:void 0,p=a.E.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),h=p.substr(0,8),d=(0,s.Qc)(i,!0,!0),S=(d.search,c(d,["search"])),_={host:S.host},E=n||g({url:(0,s.WU)(S)}),A=E.region,C=E.service,I=y(h,A,C),T=t.session_token&&"iotdevicegateway"!==C,O=u(u(u({"X-Amz-Algorithm":l,"X-Amz-Credential":[t.access_key,I].join("/"),"X-Amz-Date":p.substr(0,16)},T?{"X-Amz-Security-Token":""+t.session_token}:{}),r?{"X-Amz-Expires":""+r}:{}),{"X-Amz-SignedHeaders":Object.keys(_).join(",")}),P=v({method:o,url:(0,s.WU)(u(u({},S),{query:u(u({},S.query),O)})),headers:_,data:f}),x=m(l,P,p,I),D=b(t.secret_key,h,{region:A,service:C}),k=w(D,x),L=u({"X-Amz-Signature":k},t.session_token&&{"X-Amz-Security-Token":t.session_token});return(0,s.WU)({protocol:S.protocol,slashes:!0,hostname:S.hostname,port:S.port,pathname:S.pathname,query:u(u(u({},S.query),O),L)})},e}()},96032:function(e,t,n){"use strict";n.d(t,{c4:function(){return o}});var r={},i=function(){function e(){}return e.setItem=function(e,t){return r[e]=t,r[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},e.removeItem=function(e){return delete r[e]},e.clear=function(){return r={}},e}(),o=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=i}}return e.prototype.getStorage=function(){return this.storageWindow},e}()},71451:function(e,t,n){"use strict";n.d(t,{N:function(){return u}});var r=n(23930);function i(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(r){}return e}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?r.Q(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=r.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),i(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=i(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var i;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=o(o({},this.cookies),((i={})[e]=t,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=o(o({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=o({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),a=(0,n(20617).lC)().isBrowser,u=function(){function e(e){void 0===e&&(e={}),this.cookies=new s,this.store=a?window.localStorage:Object.create(null),this.cookies=e.req?new s(e.req.headers.cookie):new s,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":a?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}()},24484:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},i={clockOffset:0,getDateWithClockOffset:function(){return i.clockOffset?new Date((new Date).getTime()+i.clockOffset):new Date},getClockOffset:function(){return i.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=i.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=r(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=t[6];return new Date(Date.UTC(Number(n),Number(i)-1,Number(o),Number(s),Number(a),Number(u)))},isClockSkewed:function(e){return Math.abs(e.getTime()-i.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){i.clockOffset=e}}},4071:function(e,t,n){"use strict";n.d(t,{V2:function(){return l},XD:function(){return p},kD:function(){return d},Xm:function(){return v}});var r,i=n(55218),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},c=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e},f=new i.k("Util"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return o(t,e),t}(Error);function p(e,t,n,r){return void 0===r&&(r=1),s(this,void 0,void 0,(function(){var i,o;return a(this,(function(s){switch(s.label){case 0:if("function"!=typeof e)throw Error("functionToRetry must be a function");f.debug(e.name+" attempt #"+r+" with this vars: "+JSON.stringify(t)),s.label=1;case 1:return s.trys.push([1,3,,8]),[4,e.apply(void 0,c(t))];case 2:return[2,s.sent()];case 3:if(i=s.sent(),f.debug("error on "+e.name,i),(a=i)&&a.nonRetryable)throw f.debug(e.name+" non retryable error",i),i;return o=n(r,t,i),f.debug(e.name+" retrying in "+o+" ms"),!1===o?[3,6]:[4,new Promise((function(e){return setTimeout(e,o)}))];case 4:return s.sent(),[4,p(e,t,n,r+1)];case 5:return[2,s.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}var a}))}))}var h=3e5;function d(e){void 0===e&&(e=h);return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var v=function(e,t,n){return void 0===n&&(n=h),p(e,t,d(n))}},19797:function(e,t,n){"use strict";n.d(t,{yL:function(){return i},om:function(){return o},Mt:function(){return s}});var r="undefined"!=typeof Symbol&&"function"==typeof Symbol.for,i=r?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",o=r?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",s="x-amz-user-agent"},43698:function(e,t,n){"use strict";n.d(t,{gT:function(){return i}});var r=n(1648),i=(n(42408),n(17672),{userAgent:r.t4.userAgent})},55580:function(e,t,n){"use strict";n.d(t,{KT:function(){return qr}});var r=n(55218),i=n(20617),o=n(60643),s=n(75557);function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function u(e){return!!e&&!!e[Q]}function c(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===$}(e)||Array.isArray(e)||!!e[Z]||!!e.constructor[Z]||g(e)||y(e))}function f(e,t,n){void 0===n&&(n=!1),0===l(e)?(n?Object.keys:X)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function l(e){var t=e[Q];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:g(e)?2:y(e)?3:0}function p(e,t){return 2===l(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){return 2===l(e)?e.get(t):e[t]}function d(e,t,n){var r=l(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function v(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function g(e){return H&&e instanceof Map}function y(e){return W&&e instanceof Set}function m(e){return e.o||e.t}function b(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ee(e);delete t[Q];for(var n=X(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function w(e,t){return void 0===t&&(t=!1),_(e)||u(e)||!c(e)||(l(e)>1&&(e.set=e.add=e.clear=e.delete=S),Object.freeze(e),t&&f(e,(function(e,t){return w(t,!0)}),!0)),e}function S(){a(2)}function _(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function E(e){var t=te[e];return t||a(18,e),t}function A(e,t){te[e]||(te[e]=t)}function C(){return K}function I(e,t){t&&(E("Patches"),e.u=[],e.s=[],e.v=t)}function T(e){O(e),e.p.forEach(x),e.p=null}function O(e){e===K&&(K=e.l)}function P(e){return K={p:[],l:K,h:e,m:!0,_:0}}function x(e){var t=e[Q];0===t.i||1===t.i?t.j():t.O=!0}function D(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||E("ES5").S(t,e,r),r?(n[Q].P&&(T(t),a(4)),c(e)&&(e=k(t,e),t.l||N(t,e)),t.u&&E("Patches").M(n[Q],e,t.u,t.s)):e=k(t,n,[]),T(t),t.u&&t.v(t.u,t.s),e!==J?e:void 0}function k(e,t,n){if(_(t))return t;var r=t[Q];if(!r)return f(t,(function(i,o){return L(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return N(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=b(r.k):r.o;f(3===r.i?new Set(i):i,(function(t,o){return L(e,r,i,t,o,n)})),N(e,i,!1),n&&e.u&&E("Patches").R(r,n,e.u,e.s)}return r.o}function L(e,t,n,r,i,o){if(u(i)){var s=k(e,i,o&&t&&3!==t.i&&!p(t.D,r)?o.concat(r):void 0);if(d(n,r,s),!u(s))return;e.m=!1}if(c(i)&&!_(i)){if(!e.h.F&&e._<1)return;k(e,i),t&&t.A.l||N(e,i)}}function N(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&w(t,n)}function R(e,t){var n=e[Q];return(n?m(n):e)[t]}function M(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function U(e){e.P||(e.P=!0,e.l&&U(e.l))}function F(e){e.o||(e.o=b(e.t))}function j(e,t,n){var r=g(t)?E("MapSet").N(t,n):y(t)?E("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:C(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=ne;n&&(i=[r],o=re);var s=Proxy.revocable(i,o),a=s.revoke,u=s.proxy;return r.k=u,r.j=a,u}(t,n):E("ES5").J(t,n);return(n?n.A:C()).p.push(r),r}function B(e){return u(e)||a(22,e),function e(t){if(!c(t))return t;var n,r=t[Q],i=l(t);if(r){if(!r.P&&(r.i<4||!E("ES5").K(r)))return r.t;r.I=!0,n=z(t,i),r.I=!1}else n=z(t,i);return f(n,(function(t,i){r&&h(r.t,t)===i||d(n,t,e(i))})),3===i?new Set(n):n}(e)}function z(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return b(e)}function q(){function e(t){if(!c(t))return t;if(Array.isArray(t))return t.map(e);if(g(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(y(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return p(t,Z)&&(n[Z]=t[Z]),n}function t(t){return u(t)?e(t):t}var n="add";A("Patches",{$:function(t,r){return r.forEach((function(r){for(var i=r.path,o=r.op,s=t,u=0;u<i.length-1;u++){var c=l(s),f=""+i[u];0!==c&&1!==c||"__proto__"!==f&&"constructor"!==f||a(24),"function"==typeof s&&"prototype"===f&&a(24),"object"!=typeof(s=h(s,f))&&a(15,i.join("/"))}var p=l(s),d=e(r.value),v=i[i.length-1];switch(o){case"replace":switch(p){case 2:return s.set(v,d);case 3:a(16);default:return s[v]=d}case n:switch(p){case 1:return s.splice(v,0,d);case 2:return s.set(v,d);case 3:return s.add(d);default:return s[v]=d}case"remove":switch(p){case 1:return s.splice(v,1);case 2:return s.delete(v);case 3:return s.delete(r.value);default:return delete s[v]}default:a(17,o)}})),t},R:function(e,r,i,o){switch(e.i){case 0:case 4:case 2:return function(e,r,i,o){var s=e.t,a=e.o;f(e.D,(function(e,u){var c=h(s,e),f=h(a,e),l=u?p(s,e)?"replace":n:"remove";if(c!==f||"replace"!==l){var d=r.concat(e);i.push("remove"===l?{op:l,path:d}:{op:l,path:d,value:f}),o.push(l===n?{op:"remove",path:d}:"remove"===l?{op:n,path:d,value:t(c)}:{op:"replace",path:d,value:t(c)})}}))}(e,r,i,o);case 5:case 1:return function(e,r,i,o){var s=e.t,a=e.D,u=e.o;if(u.length<s.length){var c=[u,s];s=c[0],u=c[1];var f=[o,i];i=f[0],o=f[1]}for(var l=0;l<s.length;l++)if(a[l]&&u[l]!==s[l]){var p=r.concat([l]);i.push({op:"replace",path:p,value:t(u[l])}),o.push({op:"replace",path:p,value:t(s[l])})}for(var h=s.length;h<u.length;h++){var d=r.concat([h]);i.push({op:n,path:d,value:t(u[h])})}s.length<u.length&&o.push({op:"replace",path:r.concat(["length"]),value:s.length})}(e,r,i,o);case 3:return function(e,t,r,i){var o=e.t,s=e.o,a=0;o.forEach((function(e){if(!s.has(e)){var o=t.concat([a]);r.push({op:"remove",path:o,value:e}),i.unshift({op:n,path:o,value:e})}a++})),a=0,s.forEach((function(e){if(!o.has(e)){var s=t.concat([a]);r.push({op:n,path:s,value:e}),i.unshift({op:"remove",path:s,value:e})}a++}))}(e,r,i,o)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===J?void 0:t}),r.push({op:"replace",path:[],value:e.t})}})}var G,K,V="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),H="undefined"!=typeof Map,W="undefined"!=typeof Set,Y="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,J=V?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),Z=V?Symbol.for("immer-draftable"):"__$immer_draftable",Q=V?Symbol.for("immer-state"):"__$immer_state",$=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),X="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ee=Object.getOwnPropertyDescriptors||function(e){var t={};return X(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},te={},ne={get:function(e,t){if(t===Q)return e;var n=m(e);if(!p(n,t))return function(e,t,n){var r,i=M(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!c(r)?r:r===R(e.t,t)?(F(e),e.o[t]=j(e.A.h,r,e)):r},has:function(e,t){return t in m(e)},ownKeys:function(e){return Reflect.ownKeys(m(e))},set:function(e,t,n){var r=M(m(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=R(m(e),t),o=null==i?void 0:i[Q];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(v(n,i)&&(void 0!==n||p(e.t,t)))return!0;F(e),U(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==R(e.t,t)||t in e.t?(e.D[t]=!1,F(e),U(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=m(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){a(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){a(12)}},re={};f(ne,(function(e,t){re[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),re.deleteProperty=function(e,t){return ne.deleteProperty.call(this,e[0],t)},re.set=function(e,t,n){return ne.set.call(this,e[0],t,n,e[0])};var ie=function(){function e(e){var t=this;this.g=Y,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&a(6),void 0!==r&&"function"!=typeof r&&a(7),c(e)){var u=P(t),f=j(t,e,void 0),l=!0;try{s=n(f),l=!1}finally{l?T(u):O(u)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return I(u,r),D(e,u)}),(function(e){throw T(u),e})):(I(u,r),D(s,u))}if(!e||"object"!=typeof e){if((s=n(e))===J)return;return void 0===s&&(s=e),t.F&&w(s,!0),s}a(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){c(e)||a(8),u(e)&&(e=B(e));var t=P(this),n=j(this,e,void 0);return n[Q].C=!0,O(t),n},t.finishDraft=function(e,t){var n=(e&&e[Q]).A;return I(n,t),D(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Y&&a(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=E("Patches").$;return u(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),oe=new ie,se=(oe.produce,oe.produceWithPatches.bind(oe),oe.setAutoFreeze.bind(oe)),ae=(oe.setUseProxies.bind(oe),oe.applyPatches.bind(oe),oe.createDraft.bind(oe),oe.finishDraft.bind(oe),n(87904),n(44213)),ue=n(21371),ce=n(19144),fe=n(21504),le=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},pe=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},he=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},de=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(he(arguments[t]));return e};function ve(e){return"private"!==e.allow||e.provider?"public"!==e.allow||e.provider?e.provider:fe.j6.API_KEY:fe.j6.USER_POOLS}function ge(e){var t=e.rules,n=e.currentUser,r=new Set;return t.forEach((function(e){switch(e.allow){case fe.Yq.CUSTOM:e.provider&&e.provider!==fe.j6.FUNCTION||r.add(ce.si.AWS_LAMBDA);break;case fe.Yq.GROUPS:case fe.Yq.OWNER:n&&(e.provider===fe.j6.USER_POOLS?r.add(ce.si.AMAZON_COGNITO_USER_POOLS):e.provider===fe.j6.OIDC&&r.add(ce.si.OPENID_CONNECT));break;case fe.Yq.PRIVATE:n&&(e.provider&&e.provider!==fe.j6.USER_POOLS?e.provider===fe.j6.IAM&&r.add(ce.si.AWS_IAM):r.add(ce.si.AMAZON_COGNITO_USER_POOLS));break;case fe.Yq.PUBLIC:e.provider===fe.j6.IAM?r.add(ce.si.AWS_IAM):e.provider&&e.provider!==fe.j6.API_KEY||r.add(ce.si.API_KEY)}})),Array.from(r)}var ye,me,be=function(e){var t=e.schema,n=e.modelName;return le(void 0,void 0,void 0,(function(){var e,r,i,o;return pe(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,ue.ZP.currentAuthenticatedUser()];case 1:return e=s.sent(),[3,3];case 2:return s.sent(),[3,3];case 3:return(r=t.namespaces.user.models[n].attributes)&&(i=r.find((function(e){return"auth"===e.type}))).properties&&i.properties.rules?(a=i.properties.rules,u=[fe.Yq.CUSTOM,fe.Yq.OWNER,fe.Yq.GROUPS,fe.Yq.PRIVATE,fe.Yq.PUBLIC],c=[fe.j6.FUNCTION,fe.j6.USER_POOLS,fe.j6.OIDC,fe.j6.IAM,fe.j6.API_KEY],o=de(a).sort((function(e,t){return e.allow===t.allow?c.indexOf(ve(e))-c.indexOf(ve(t)):u.indexOf(e.allow)-u.indexOf(t.allow)})),[2,ge({currentUser:e,rules:o})]):[2,[]]}var a,u,c}))}))},we=function(){return[]},Se=function(){function e(){}return e.createPredicateBuilder=function(t){var n=t.name,r=new Set(Object.keys(t.fields)),i=new Proxy({},{get:function(t,i,o){var s=i;if(!r.has(s))throw new Error("Invalid field for model. field: "+s+", model: "+n);return function(t){return e.sortPredicateGroupsMap.get(o).push({field:s,sortDirection:t}),o}}});return e.sortPredicateGroupsMap.set(i,[]),i},e.isValidPredicate=function(t){return e.sortPredicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.sortPredicateGroupsMap.get(t)},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.sortPredicateGroupsMap=new WeakMap,e}(),_e=n(98423),Ee=function(){function e(){this._queue=[],this._pending=!1}return e.prototype.isLocked=function(){return this._pending},e.prototype.acquire=function(){var e=this,t=new Promise((function(t){return e._queue.push(t)}));return this._pending||this._dispatchNext(),t},e.prototype.runExclusive=function(e){return this.acquire().then((function(t){var n;try{n=e()}catch(r){throw t(),r}return Promise.resolve(n).then((function(e){return t(),e}),(function(e){throw t(),e}))}))},e.prototype._dispatchNext=function(){this._queue.length>0?(this._pending=!0,this._queue.shift()(this._dispatchNext.bind(this))):this._pending=!1},e}(),Ae=Ee,Ce=n(18061),Ie=n.n(Ce),Te=n(64808),Oe=n(4942),Pe=n(15861),xe=n(87757),De=n.n(xe);var ke=new WeakMap,Le=new WeakMap,Ne=new WeakMap,Re=new WeakMap,Me=new WeakMap;var Ue={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Le.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ne.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Be(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Fe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ze(this),n),Be(ke.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Be(e.apply(ze(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[ze(this),t].concat(r));return Ne.set(o,t.sort?t.sort():[t]),Be(o)}}function je(e){return"function"==typeof e?Fe(e):(e instanceof IDBTransaction&&function(e){if(!Le.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Le.set(e,t)}}(e),t=e,(ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ue):e);var t}function Be(e){if(e instanceof IDBRequest)return t=e,(n=new Promise((function(e,n){var r=function(){t.removeEventListener("success",i),t.removeEventListener("error",o)},i=function(){e(Be(t.result)),r()},o=function(){n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}))).then((function(e){e instanceof IDBCursor&&ke.set(e,t)})).catch((function(){})),Me.set(n,t),n;var t,n;if(Re.has(e))return Re.get(e);var r=je(e);return r!==e&&(Re.set(e,r),Me.set(r,e)),r}var ze=function(e){return Me.get(e)};function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,Oe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,s=n.terminated,a=indexedDB.open(e,t),u=Be(a);return i&&a.addEventListener("upgradeneeded",(function(e){i(Be(a.result),e.oldVersion,e.newVersion,Be(a.transaction))})),r&&a.addEventListener("blocked",(function(){return r()})),u.then((function(e){s&&e.addEventListener("close",(function(){return s()})),o&&e.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),u}function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.blocked,r=indexedDB.deleteDatabase(e);return n&&r.addEventListener("blocked",(function(){return n()})),Be(r).then((function(){}))}var He=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],Ye=new Map;function Je(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(Ye.get(t))return Ye.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=We.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||He.includes(n))){var o=function(){var e=(0,Pe.Z)(De().mark((function e(t){var o,s,a,u,c,f,l,p=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,i?"readwrite":"readonly"),a=s.store,u=p.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=p[f];return r&&(a=a.index(c.shift())),e.next=6,(o=a)[n].apply(o,c);case 6:if(l=e.sent,!i){e.next=10;break}return e.next=10,s.done;case 10:return e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ye.set(t,o),o}}}Ue=function(e){return Ge(Ge({},e),{},{get:function(t,n,r){return Je(t,n)||e.get(t,n,r)},has:function(t,n){return!!Je(t,n)||e.has(t,n)}})}(Ue);var Ze=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Qe=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},$e=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof Xe?Xe(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}},Xe=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},et=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},tt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(et(arguments[t]));return e},nt=new r.k("DataStore"),rt="amplify-datastore",it=function(){function e(){this.dbName=rt}return e.prototype.checkPrivate=function(){return Ze(this,void 0,void 0,(function(){return Qe(this,(function(e){switch(e.label){case 0:return[4,(0,Te.D0)().then((function(e){return e}))];case 1:return e.sent()?(nt.error("IndexedDB not supported in this browser's private mode"),[2,Promise.reject("IndexedDB not supported in this browser's private mode")]):[2,Promise.resolve()]}}))}))},e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return this.getStorename(t,n)},e.prototype.getStorename=function(e,t){return e+"_"+t},e.prototype.setUp=function(e,t,n,r,i){return Ze(this,void 0,void 0,(function(){var o,s,a=this;return Qe(this,(function(u){switch(u.label){case 0:return[4,this.checkPrivate()];case 1:return u.sent(),this.initPromise?[3,2]:(this.initPromise=new Promise((function(e,t){a.resolve=e,a.reject=t})),[3,4]);case 2:return[4,this.initPromise];case 3:u.sent(),u.label=4;case 4:i&&(this.dbName=rt+"-"+i),this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,u.label=5;case 5:return u.trys.push([5,8,,9]),this.db?[3,7]:(2,o=this,[4,Ke(this.dbName,2,{upgrade:function(t,n,r,i){return Ze(a,void 0,void 0,(function(){var o,s,a,u,c,f,l,p,h,d,v,g,y=this;return Qe(this,(function(m){switch(m.label){case 0:if(0===n)return Object.keys(e.namespaces).forEach((function(n){var r=e.namespaces[n];Object.keys(r.models).forEach((function(e){var r=y.getStorename(n,e);y.createObjectStoreForModel(t,n,r,e)}))})),[2];if(1!==n||2!==r)return[3,16];m.label=1;case 1:m.trys.push([1,14,,15]),m.label=2;case 2:m.trys.push([2,11,12,13]),o=Xe(i.objectStoreNames),s=o.next(),m.label=3;case 3:return s.done?[3,10]:(a=s.value,u=i.objectStore(a),c="tmp_"+a,u.name=c,(f=t.createObjectStore(a,{keyPath:void 0,autoIncrement:!0})).createIndex("byId","id",{unique:!0}),[4,u.openCursor()]);case 4:l=m.sent(),p=0,m.label=5;case 5:return l&&l.value?[4,f.put(l.value)]:[3,8];case 6:return m.sent(),[4,l.continue()];case 7:return l=m.sent(),p++,[3,5];case 8:t.deleteObjectStore(c),nt.debug(p+" "+a+" records migrated"),m.label=9;case 9:return s=o.next(),[3,3];case 10:return[3,13];case 11:return h=m.sent(),v={error:h},[3,13];case 12:try{s&&!s.done&&(g=o.return)&&g.call(o)}finally{if(v)throw v.error}return[7];case 13:return Object.keys(e.namespaces).forEach((function(n){var r=e.namespaces[n],o=new Set(i.objectStoreNames);Object.keys(r.models).map((function(e){return[e,y.getStorename(n,e)]})).filter((function(e){var t=et(e,2)[1];return!o.has(t)})).forEach((function(e){var r=et(e,2),i=r[0],o=r[1];y.createObjectStoreForModel(t,n,o,i)}))})),[3,15];case 14:throw d=m.sent(),nt.error("Error migrating IndexedDB data",d),i.abort(),d;case 15:case 16:return[2]}}))}))}})]);case 6:o.db=u.sent(),this.resolve(),u.label=7;case 7:return[3,9];case 8:return s=u.sent(),this.reject(s),[3,9];case 9:return[2]}}))}))},e.prototype._get=function(e,t){return Ze(this,void 0,void 0,(function(){var n,r;return Qe(this,(function(i){switch(i.label){case 0:return"string"==typeof e?(r=e,n=this.db.transaction(r,"readonly").store.index("byId")):n=e.index("byId"),[4,n.get(t)];case 1:return[2,i.sent()]}}))}))},e.prototype.save=function(e,t){var n,r;return Ze(this,void 0,void 0,(function(){var i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I,T,O,P,x=this;return Qe(this,(function(D){switch(D.label){case 0:return[4,this.checkPrivate()];case 1:return D.sent(),i=Object.getPrototypeOf(e).constructor,o=this.getStorenameForModel(i),s=(0,Te.jl)(i.name,e,this.schema.namespaces[this.namespaceResolver(i)],this.modelInstanceCreator,this.getModelConstructorByModelName),a=this.namespaceResolver(i),u=new Set,c=Object.values(s).map((function(e){var t=e.modelName,n=e.item,r=e.instance,i=x.getStorename(a,t);return u.add(i),{storeName:i,item:n,instance:r}})),f=this.db.transaction(tt([o],Array.from(u.values())),"readwrite"),l=f.objectStore(o),[4,this._get(l,e.id)];case 2:if(p=D.sent(),t&&p&&(h=_e.OY.getPredicates(t),d=h.predicates,v=h.type,!(0,Te.u8)(p,v,d)))throw g="Conditional update failed",nt.error(g,{model:p,condition:d}),new Error(g);y=[],D.label=3;case 3:D.trys.push([3,11,12,17]),m=$e(c),D.label=4;case 4:return[4,m.next()];case 5:return(b=D.sent()).done?[3,10]:(w=b.value,S=w.storeName,_=w.item,E=w.instance,A=f.objectStore(S),C=_.id,[4,this._get(A,C)]);case 6:return I=D.sent(),T=void 0===I?fe.HP.INSERT:fe.HP.UPDATE,C!==e.id&&T!==fe.HP.INSERT?[3,9]:[4,A.index("byId").getKey(_.id)];case 7:return O=D.sent(),[4,A.put(_,O)];case 8:D.sent(),y.push([E,T]),D.label=9;case 9:return[3,4];case 10:return[3,17];case 11:return P=D.sent(),n={error:P},[3,17];case 12:return D.trys.push([12,,15,16]),b&&!b.done&&(r=m.return)?[4,r.call(m)]:[3,14];case 13:D.sent(),D.label=14;case 14:return[3,16];case 15:if(n)throw n.error;return[7];case 16:return[7];case 17:return[4,f.done];case 18:return D.sent(),[2,y]}}))}))},e.prototype.load=function(e,t,n){var r,i,o,s,a,u,c,f,l,p;return Ze(this,void 0,void 0,(function(){var h,d,v,g,y,m,b,w,S,_,E,A,C,I,T,O,P,x,D,k,L=this;return Qe(this,(function(N){switch(N.label){case 0:if(h=this.schema.namespaces[e],d=h.relationships[t].relationTypes,v=d.map((function(t){var n=t.modelName;return L.getStorename(e,n)})),g=this.getModelConstructorByModelName(e,t),0===v.length)return[2,n.map((function(e){return L.modelInstanceCreator(g,e)}))];y=this.db.transaction(tt(v),"readonly"),N.label=1;case 1:N.trys.push([1,34,35,40]),m=$e(d),N.label=2;case 2:return[4,m.next()];case 3:if((b=N.sent()).done)return[3,33];switch(w=b.value,S=w.fieldName,_=w.modelName,E=w.targetName,A=this.getStorename(e,_),C=y.objectStore(A),I=this.getModelConstructorByModelName(e,_),w.relationType){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:N.trys.push([4,10,11,16]),r=$e(n),N.label=5;case 5:return[4,r.next()];case 6:return(i=N.sent()).done?[3,9]:(P=i.value,T=P[E]?E:S,P[T]?[4,this._get(C,P[T])]:[3,9]);case 7:x=N.sent(),P[S]=x&&this.modelInstanceCreator(I,x),N.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return O=N.sent(),c={error:O},[3,16];case 11:return N.trys.push([11,,14,15]),i&&!i.done&&(f=r.return)?[4,f.call(r)]:[3,13];case 12:N.sent(),N.label=13;case 13:return[3,15];case 14:if(c)throw c.error;return[7];case 15:return[7];case 16:return[3,32];case 17:N.trys.push([17,23,24,29]),o=$e(n),N.label=18;case 18:return[4,o.next()];case 19:return(s=N.sent()).done?[3,22]:(P=s.value)[E]?[4,this._get(C,P[E])]:[3,21];case 20:x=N.sent(),P[S]=x&&this.modelInstanceCreator(I,x),delete P[E],N.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return D=N.sent(),l={error:D},[3,29];case 24:return N.trys.push([24,,27,28]),s&&!s.done&&(p=o.return)?[4,p.call(o)]:[3,26];case 25:N.sent(),N.label=26;case 26:return[3,28];case 27:if(l)throw l.error;return[7];case 28:return[7];case 29:case 30:return[3,32];case 31:return(0,Te.y0)(w.relationType),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return k=N.sent(),a={error:k},[3,40];case 35:return N.trys.push([35,,38,39]),b&&!b.done&&(u=m.return)?[4,u.call(m)]:[3,37];case 36:N.sent(),N.label=37;case 37:return[3,39];case 38:if(a)throw a.error;return[7];case 39:return[7];case 40:return[2,n.map((function(e){return L.modelInstanceCreator(g,e)}))]}}))}))},e.prototype.query=function(e,t,n){return Ze(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,f=this;return Qe(this,(function(l){switch(l.label){case 0:return[4,this.checkPrivate()];case 1:return l.sent(),r=this.getStorenameForModel(e),i=this.namespaceResolver(e),o=t&&_e.OY.getPredicates(t),s=o&&this.idFromPredicate(o),a=n&&n.sort,u=n&&n.limit,[4,Ze(f,void 0,void 0,(function(){var e,t,i;return Qe(this,(function(c){switch(c.label){case 0:return s?[4,this.getById(r,s)]:[3,2];case 1:return[2,(e=c.sent())?[e]:[]];case 2:return o?[4,this.filterOnPredicate(r,o)]:[3,4];case 3:return t=c.sent(),[2,this.inMemoryPagination(t,n)];case 4:return a?[4,this.getAll(r)]:[3,6];case 5:return i=c.sent(),[2,this.inMemoryPagination(i,n)];case 6:return u?[2,this.enginePagination(r,n)]:[2,this.getAll(r)]}}))}))];case 2:return c=l.sent(),[4,this.load(i,e.name,c)];case 3:return[2,l.sent()]}}))}))},e.prototype.getById=function(e,t){return Ze(this,void 0,void 0,(function(){return Qe(this,(function(n){switch(n.label){case 0:return[4,this._get(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return Ze(this,void 0,void 0,(function(){return Qe(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.idFromPredicate=function(e){var t=e.predicates,n=1===t.length&&t.find((function(e){return(0,fe.w5)(e)&&"id"===e.field&&"eq"===e.operator}));return n&&n.operand},e.prototype.filterOnPredicate=function(e,t){return Ze(this,void 0,void 0,(function(){var n,r,i,o;return Qe(this,(function(s){switch(s.label){case 0:return n=t.predicates,r=t.type,[4,this.getAll(e)];case 1:return i=s.sent(),o=n?i.filter((function(e){return(0,Te.u8)(e,r,n)})):i,[2,o]}}))}))},e.prototype.inMemoryPagination=function(e,t){if(t&&e.length>1){if(t.sort){var n=Se.getPredicates(t.sort);if(n.length){var r=(0,Te.z8)(n);e.sort(r)}}var i=t.page,o=void 0===i?0:i,s=t.limit,a=void 0===s?0:s,u=Math.max(0,o*a)||0,c=a>0?u+a:e.length;return e.slice(u,c)}return e},e.prototype.enginePagination=function(e,t){return Ze(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f;return Qe(this,(function(l){switch(l.label){case 0:return t?(r=t.page,i=void 0===r?0:r,o=t.limit,s=void 0===o?0:o,a=Math.max(0,i*s)||0,[4,this.db.transaction(e).objectStore(e).openCursor()]):[3,7];case 1:return(u=l.sent())&&a>0?[4,u.advance(a)]:[3,3];case 2:l.sent(),l.label=3;case 3:c=[],f="number"==typeof s&&s>0,l.label=4;case 4:return u&&u.value?(c.push(u.value),f&&c.length===s?[3,6]:[4,u.continue()]):[3,6];case 5:return u=l.sent(),[3,4];case 6:return n=c,[3,9];case 7:return[4,this.db.getAll(e)];case 8:n=l.sent(),l.label=9;case 9:return[2,n]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=fe.fI.FIRST),Ze(this,void 0,void 0,(function(){var n,r,i;return Qe(this,(function(o){switch(o.label){case 0:return[4,this.checkPrivate()];case 1:return o.sent(),n=this.getStorenameForModel(e),[4,this.db.transaction([n],"readonly").objectStore(n).openCursor(void 0,t===fe.fI.FIRST?"next":"prev")];case 2:return r=o.sent(),[2,(i=r?r.value:void 0)&&this.modelInstanceCreator(e,i)]}}))}))},e.prototype.delete=function(e,t){return Ze(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,p,h,d,v,g;return Qe(this,(function(y){switch(y.label){case 0:return[4,this.checkPrivate()];case 1:return y.sent(),n=[],(0,Te.hK)(e)?(o=e,s=this.namespaceResolver(o),a=this.getStorenameForModel(o),[4,this.query(o,t)]):[3,9];case 2:return r=y.sent(),v=this.schema.namespaces[s].relationships[o.name].relationTypes,void 0===t?[3,5]:[4,this.deleteTraverse(v,r,o.name,s,n)];case 3:return y.sent(),[4,this.deleteItem(n)];case 4:return y.sent(),g=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,g]];case 5:return[4,this.deleteTraverse(v,r,o.name,s,n)];case 6:return y.sent(),[4,this.db.transaction([a],"readwrite").objectStore(a).clear()];case 7:return y.sent(),g=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,g]];case 8:return[3,17];case 9:return i=e,o=Object.getPrototypeOf(i).constructor,s=this.namespaceResolver(o),a=this.getStorenameForModel(o),t?(u=this.db.transaction([a],"readwrite"),c=u.objectStore(a),[4,this._get(c,i.id)]):[3,13];case 10:if(void 0===(f=y.sent()))return d="Model instance not found in storage",nt.warn(d,{model:i}),[2,[[i],[]]];if(l=_e.OY.getPredicates(t),p=l.predicates,h=l.type,!(0,Te.u8)(f,h,p))throw d="Conditional update failed",nt.error(d,{model:f,condition:p}),new Error(d);return[4,u.done];case 11:return y.sent(),v=this.schema.namespaces[s].relationships[o.name].relationTypes,[4,this.deleteTraverse(v,[i],o.name,s,n)];case 12:return y.sent(),[3,15];case 13:return v=this.schema.namespaces[s].relationships[o.name].relationTypes,[4,this.deleteTraverse(v,[i],o.name,s,n)];case 14:y.sent(),y.label=15;case 15:return[4,this.deleteItem(n)];case 16:return y.sent(),g=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[i],g]];case 17:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,i,o,s;return Ze(this,void 0,void 0,(function(){var a,u,c,f,l,p,h,d,v,g,y,m;return Qe(this,(function(b){switch(b.label){case 0:a=e.map((function(e){return e.storeName})),u=this.db.transaction(tt(a),"readwrite"),b.label=1;case 1:b.trys.push([1,22,23,28]),t=$e(e),b.label=2;case 2:return[4,t.next()];case 3:if((n=b.sent()).done)return[3,21];c=n.value,f=c.storeName,l=c.items,p=u.objectStore(f),b.label=4;case 4:b.trys.push([4,14,15,20]),h=$e(l),b.label=5;case 5:return[4,h.next()];case 6:return(d=b.sent()).done?[3,13]:(v=d.value)?(g=void 0,"object"!=typeof v?[3,8]:[4,p.index("byId").getKey(v.id)]):[3,12];case 7:return g=b.sent(),[3,10];case 8:return[4,p.index("byId").getKey(v.toString())];case 9:g=b.sent(),b.label=10;case 10:return void 0===g?[3,12]:[4,p.delete(g)];case 11:b.sent(),b.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return y=b.sent(),o={error:y},[3,20];case 15:return b.trys.push([15,,18,19]),d&&!d.done&&(s=h.return)?[4,s.call(h)]:[3,17];case 16:b.sent(),b.label=17;case 17:return[3,19];case 18:if(o)throw o.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return m=b.sent(),r={error:m},[3,28];case 23:return b.trys.push([23,,26,27]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,25];case 24:b.sent(),b.label=25;case 25:return[3,27];case 26:if(r)throw r.error;return[7];case 27:return[7];case 28:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,i){var o,s,a,u,c,f,l,p,h,d,v,g;return Ze(this,void 0,void 0,(function(){var y,m,b,w,S,_,E,A,C,I,T,O,P,x,D=this;return Qe(this,(function(k){switch(k.label){case 0:k.trys.push([0,35,36,41]),o=$e(e),k.label=1;case 1:return[4,o.next()];case 2:if((s=k.sent()).done)return[3,34];switch(y=s.value,m=y.relationType,y.fieldName,b=y.modelName,w=y.targetName,S=this.getStorename(r,b),_=(0,Te.rw)(this.schema.namespaces[r].relationships[b].relationTypes,n)||(0,Te.NA)(this.schema.namespaces[r].relationships[b].indexes,y.associatedWith),m){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:k.trys.push([3,10,11,16]),a=$e(t),k.label=4;case 4:return[4,a.next()];case 5:return(u=k.sent()).done?[3,9]:(T=u.value,E=_||"byId",(A=w in T?T[w]:T.id)?[4,this.db.transaction(S,"readwrite").objectStore(S).index(E).get(A)]:[3,9]);case 6:return C=k.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,C?[C]:[],b,r,i)];case 7:k.sent(),k.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return I=k.sent(),h={error:I},[3,16];case 11:return k.trys.push([11,,14,15]),u&&!u.done&&(d=a.return)?[4,d.call(a)]:[3,13];case 12:k.sent(),k.label=13;case 13:return[3,15];case 14:if(h)throw h.error;return[7];case 15:return[7];case 16:return[3,33];case 17:k.trys.push([17,24,25,30]),c=$e(t),k.label=18;case 18:return[4,c.next()];case 19:return(f=k.sent()).done?[3,23]:(T=f.value,[4,this.db.transaction(S,"readwrite").objectStore(S).index(_).getAll(T.id)]);case 20:return O=k.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,O,b,r,i)];case 21:k.sent(),k.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return P=k.sent(),v={error:P},[3,30];case 25:return k.trys.push([25,,28,29]),f&&!f.done&&(g=c.return)?[4,g.call(c)]:[3,27];case 26:k.sent(),k.label=27;case 27:return[3,29];case 28:if(v)throw v.error;return[7];case 29:return[7];case 30:case 31:return[3,33];case 32:return(0,Te.y0)(m),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return x=k.sent(),l={error:x},[3,41];case 36:return k.trys.push([36,,39,40]),s&&!s.done&&(p=o.return)?[4,p.call(o)]:[3,38];case 37:k.sent(),k.label=38;case 38:return[3,40];case 39:if(l)throw l.error;return[7];case 40:return[7];case 41:return i.push({storeName:this.getStorename(r,n),items:t.map((function(e){return D.modelInstanceCreator(D.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){return Ze(this,void 0,void 0,(function(){return Qe(this,(function(e){switch(e.label){case 0:return[4,this.checkPrivate()];case 1:return e.sent(),this.db.close(),[4,Ve(this.dbName)];case 2:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return Ze(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,p,h;return Qe(this,(function(d){switch(d.label){case 0:return 0===t.length?[2,[]]:[4,this.checkPrivate()];case 1:d.sent(),n=[],r=this.getStorenameForModel(e),i=this.db.transaction(r,"readwrite"),o=i.store,s=function(t){var r,i,s,u,c;return Qe(this,(function(f){switch(f.label){case 0:return r=(0,Te.jl)(e.name,a.modelInstanceCreator(e,t),a.schema.namespaces[a.namespaceResolver(e)],a.modelInstanceCreator,a.getModelConstructorByModelName),i=t.id,s=t._deleted,[4,o.index("byId").getKey(i)];case 1:return u=f.sent(),s?[3,3]:(c=r.find((function(e){return e.instance.id===i})).instance,n.push([c,u?fe.HP.UPDATE:fe.HP.INSERT]),[4,o.put(c,u)]);case 2:return f.sent(),[3,5];case 3:return n.push([t,fe.HP.DELETE]),u?[4,o.delete(u)]:[3,5];case 4:f.sent(),f.label=5;case 5:return[2]}}))},a=this,d.label=2;case 2:d.trys.push([2,7,8,9]),u=Xe(t),c=u.next(),d.label=3;case 3:return c.done?[3,6]:(f=c.value,[5,s(f)]);case 4:d.sent(),d.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return l=d.sent(),p={error:l},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(p)throw p.error}return[7];case 9:return[4,i.done];case 10:return d.sent(),[2,n]}}))}))},e.prototype.createObjectStoreForModel=function(e,t,n,r){return Ze(this,void 0,void 0,(function(){var i;return Qe(this,(function(o){return i=e.createObjectStore(n,{autoIncrement:!0}),this.schema.namespaces[t].relationships[r].indexes.forEach((function(e){return i.createIndex(e,e)})),i.createIndex("byId","id",{unique:!0}),[2]}))}))},e}(),ot=new it,st=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},at=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ut=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},ct=function(){var e=this;this.db=new Map,this.getAllKeys=function(){return st(e,void 0,void 0,(function(){return at(this,(function(e){return[2,Array.from(this.db.keys())]}))}))},this.multiGet=function(t){return st(e,void 0,void 0,(function(){var e=this;return at(this,(function(n){return[2,t.reduce((function(t,n){return t.push([n,e.db.get(n)]),t}),[])]}))}))},this.multiRemove=function(t,n){return st(e,void 0,void 0,(function(){var e=this;return at(this,(function(r){return t.forEach((function(t){return e.db.delete(t)})),n(),[2]}))}))},this.multiSet=function(t,n){return st(e,void 0,void 0,(function(){var e=this;return at(this,(function(r){return t.forEach((function(t){var n=ut(t,2),r=n[0],i=n[1];e.setItem(r,i)})),n(),[2]}))}))},this.setItem=function(t,n){return st(e,void 0,void 0,(function(){return at(this,(function(e){return[2,this.db.set(t,n)]}))}))},this.removeItem=function(t){return st(e,void 0,void 0,(function(){return at(this,(function(e){return[2,this.db.delete(t)]}))}))},this.getItem=function(t){return st(e,void 0,void 0,(function(){return at(this,(function(e){return[2,this.db.get(t)]}))}))}};var ft,lt,pt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ht=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},dt=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},gt="@AmplifyDatastore",yt="Data",mt=new Map,bt=function(){function e(){this._collectionInMemoryIndex=new Map,this.storage=new ct}return e.prototype.getCollectionIndex=function(e){return this._collectionInMemoryIndex.has(e)||this._collectionInMemoryIndex.set(e,new Map),this._collectionInMemoryIndex.get(e)},e.prototype.getMonotonicFactory=function(e){return mt.has(e)||mt.set(e,(0,Te.c6)()),mt.get(e)},e.prototype.init=function(){return pt(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b;return ht(this,(function(w){switch(w.label){case 0:return this._collectionInMemoryIndex.clear(),[4,this.storage.getAllKeys()];case 1:e=w.sent(),t=[],w.label=2;case 2:w.trys.push([2,12,13,14]),n=dt(e),r=n.next(),w.label=3;case 3:return r.done?[3,11]:(i=r.value,o=vt(i.split("::"),5),s=o[0],a=o[1],u=o[2],c=o[3],f=o[4],s!==gt?[3,10]:u!==yt?[3,9]:(l=void 0,void 0!==f?[3,7]:(p=c,h=this.getMonotonicFactory(a)(),d=this.getLegacyKeyForItem(a,p),v=this.getKeyForItem(a,p,h),[4,this.storage.getItem(d)])));case 4:return g=w.sent(),[4,this.storage.setItem(v,g)];case 5:return w.sent(),[4,this.storage.removeItem(d)];case 6:return w.sent(),l=h,[3,8];case 7:l=c,w.label=8;case 8:return this.getCollectionIndex(a).set(f,l),[3,10];case 9:"Collection"===u&&t.push(i),w.label=10;case 10:return r=n.next(),[3,3];case 11:return[3,14];case 12:return y=w.sent(),m={error:y},[3,14];case 13:try{r&&!r.done&&(b=n.return)&&b.call(n)}finally{if(m)throw m.error}return[7];case 14:return t.length>0?[4,this.storage.multiRemove(t)]:[3,16];case 15:w.sent(),w.label=16;case 16:return[2]}}))}))},e.prototype.save=function(e,t){return pt(this,void 0,void 0,(function(){var n,r;return ht(this,(function(i){switch(i.label){case 0:return n=this.getCollectionIndex(t).get(e.id)||this.getMonotonicFactory(t)(),r=this.getKeyForItem(t,e.id,n),this.getCollectionIndex(t).set(e.id,n),[4,this.storage.setItem(r,JSON.stringify(e))];case 1:return i.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return pt(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E=this;return ht(this,(function(A){switch(A.label){case 0:if(0===t.length)return[2,[]];n=[],r=this.getCollectionIndex(e),i=new Set,o=new Set,s=[],a={};try{for(u=dt(t),c=u.next();!c.done;c=u.next())f=c.value,l=f.id,p=f._deleted,h=r.get(l)||this.getMonotonicFactory(e)(),m=this.getKeyForItem(e,l,h),s.push(m),a[m]={ulid:h,model:f},p?i.add(m):o.add(m)}catch(C){b={error:C}}finally{try{c&&!c.done&&(w=u.return)&&w.call(u)}finally{if(b)throw b.error}}return[4,this.storage.multiGet(s)];case 1:return d=A.sent(),v=d.filter((function(e){return!!vt(e,2)[1]})).reduce((function(e,t){var n=vt(t,1)[0];return e.add(n)}),new Set),[4,new Promise((function(e,t){if(0!==i.size){var n=Array.from(i);n.forEach((function(e){return r.delete(a[e].model.id)})),E.storage.multiRemove(n,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 2:return A.sent(),[4,new Promise((function(e,t){if(0!==o.size){var n=Array.from(o).map((function(e){return[e,JSON.stringify(a[e].model)]}));o.forEach((function(e){var t=a[e],n=t.model.id,i=t.ulid;r.set(n,i)})),E.storage.multiSet(n,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 3:A.sent();try{for(g=dt(s),y=g.next();!y.done;y=g.next())m=y.value,i.has(m)&&v.has(m)?n.push([a[m].model,fe.HP.DELETE]):o.has(m)&&n.push([a[m].model,v.has(m)?fe.HP.UPDATE:fe.HP.INSERT])}catch(I){S={error:I}}finally{try{y&&!y.done&&(_=g.return)&&_.call(g)}finally{if(S)throw S.error}}return[2,n]}}))}))},e.prototype.get=function(e,t){return pt(this,void 0,void 0,(function(){var n,r,i;return ht(this,(function(o){switch(o.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),[4,this.storage.getItem(r)];case 1:return i=o.sent(),[2,i&&JSON.parse(i)]}}))}))},e.prototype.getOne=function(e,t){return pt(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return ht(this,(function(c){switch(c.label){case 0:return n=this.getCollectionIndex(t),r=vt(e===fe.fI.FIRST?function(){var e,t,r,i,o;try{for(var s=dt(n),a=s.next();!a.done;a=s.next()){i=(r=vt(a.value,2))[0],o=r[1];break}}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return[i,o]}():function(){var e,t,r,i,o;try{for(var s=dt(n),a=s.next();!a.done;a=s.next())i=(r=vt(a.value,2))[0],o=r[1]}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return[i,o]}(),2),i=r[0],o=r[1],s=this.getKeyForItem(t,i,o),(u=s)?[4,this.storage.getItem(s)]:[3,2];case 1:u=c.sent(),c.label=2;case 2:return[2,(a=u)&&JSON.parse(a)||void 0]}}))}))},e.prototype.getAll=function(e,t){return pt(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w;return ht(this,(function(S){switch(S.label){case 0:n=this.getCollectionIndex(e),i=(r=t||{}).page,o=void 0===i?0:i,s=r.limit,a=void 0===s?0:s,u=Math.max(0,o*a)||0,c=a>0?u+a:void 0,f=[],l=0;try{for(p=dt(n),h=p.next();!h.done&&(d=vt(h.value,2),v=d[0],g=d[1],++l<=u||(f.push(this.getKeyForItem(e,v,g)),l!==c));h=p.next());}catch(_){b={error:_}}finally{try{h&&!h.done&&(w=p.return)&&w.call(p)}finally{if(b)throw b.error}}return[4,this.storage.multiGet(f)];case 1:return y=S.sent(),m=y.filter((function(e){return vt(e,2)[1]})).map((function(e){var t=vt(e,2)[1];return JSON.parse(t)})),[2,m]}}))}))},e.prototype.delete=function(e,t){return pt(this,void 0,void 0,(function(){var n,r;return ht(this,(function(i){switch(i.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),this.getCollectionIndex(t).delete(e),[4,this.storage.removeItem(r)];case 1:return i.sent(),[2]}}))}))},e.prototype.clear=function(){return pt(this,void 0,void 0,(function(){var e,t;return ht(this,(function(n){switch(n.label){case 0:return[4,this.storage.getAllKeys()];case 1:return e=n.sent(),t=e.filter((function(e){return e.startsWith(gt)})),[4,this.storage.multiRemove(t)];case 2:return n.sent(),this._collectionInMemoryIndex.clear(),[2]}}))}))},e.prototype.getKeyForItem=function(e,t,n){return this.getKeyPrefixForStoreItems(e)+"::"+n+"::"+t},e.prototype.getLegacyKeyForItem=function(e,t){return this.getKeyPrefixForStoreItems(e)+"::"+t},e.prototype.getKeyPrefixForStoreItems=function(e){return"@AmplifyDatastore::"+e+"::"+yt},e}(),wt=bt,St=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},_t=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Et=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof At?At(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}},At=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ct=new r.k("DataStore"),It=function(){function e(){}return e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return this.getStorename(t,n)},e.prototype.getStorename=function(e,t){return e+"_"+t},e.prototype.setUp=function(e,t,n,r){return St(this,void 0,void 0,(function(){var i,o=this;return _t(this,(function(s){switch(s.label){case 0:return this.initPromise?[3,1]:(this.initPromise=new Promise((function(e,t){o.resolve=e,o.reject=t})),[3,3]);case 1:return[4,this.initPromise];case 2:return s.sent(),[2];case 3:this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,s.label=4;case 4:return s.trys.push([4,7,,8]),this.db?[3,6]:(this.db=new wt,[4,this.db.init()]);case 5:s.sent(),this.resolve(),s.label=6;case 6:return[3,8];case 7:return i=s.sent(),this.reject(i),[3,8];case 8:return[2]}}))}))},e.prototype.save=function(e,t){var n,r;return St(this,void 0,void 0,(function(){var i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I=this;return _t(this,(function(T){switch(T.label){case 0:return i=Object.getPrototypeOf(e).constructor,o=this.getStorenameForModel(i),s=(0,Te.jl)(i.name,e,this.schema.namespaces[this.namespaceResolver(i)],this.modelInstanceCreator,this.getModelConstructorByModelName),a=this.namespaceResolver(i),u=new Set,c=Object.values(s).map((function(e){var t=e.modelName,n=e.item,r=e.instance,i=I.getStorename(a,t);return u.add(i),{storeName:i,item:n,instance:r}})),[4,this.db.get(e.id,o)];case 1:if(f=T.sent(),t&&f&&(l=_e.OY.getPredicates(t),p=l.predicates,h=l.type,!(0,Te.u8)(f,h,p)))throw d="Conditional update failed",Ct.error(d,{model:f,condition:p}),new Error(d);v=[],T.label=2;case 2:T.trys.push([2,9,10,15]),g=Et(c),T.label=3;case 3:return[4,g.next()];case 4:return(y=T.sent()).done?[3,8]:(m=y.value,b=m.storeName,w=m.item,S=m.instance,_=w.id,[4,this.db.get(_,b)]);case 5:return E=T.sent(),A=E?fe.HP.UPDATE:fe.HP.INSERT,_!==e.id&&A!==fe.HP.INSERT?[3,7]:[4,this.db.save(w,b)];case 6:T.sent(),v.push([S,A]),T.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return C=T.sent(),n={error:C},[3,15];case 10:return T.trys.push([10,,13,14]),y&&!y.done&&(r=g.return)?[4,r.call(g)]:[3,12];case 11:T.sent(),T.label=12;case 12:return[3,14];case 13:if(n)throw n.error;return[7];case 14:return[7];case 15:return[2,v]}}))}))},e.prototype.load=function(e,t,n){var r,i,o,s,a,u,c,f,l,p;return St(this,void 0,void 0,(function(){var h,d,v,g,y,m,b,w,S,_,E,A,C,I,T,O,P,x,D,k=this;return _t(this,(function(L){switch(L.label){case 0:if(h=this.schema.namespaces[e],d=h.relationships[t].relationTypes,v=d.map((function(t){var n=t.modelName;return k.getStorename(e,n)})),g=this.getModelConstructorByModelName(e,t),0===v.length)return[2,n.map((function(e){return k.modelInstanceCreator(g,e)}))];L.label=1;case 1:L.trys.push([1,34,35,40]),y=Et(d),L.label=2;case 2:return[4,y.next()];case 3:if((m=L.sent()).done)return[3,33];switch(b=m.value,w=b.fieldName,S=b.modelName,_=b.targetName,E=b.relationType,A=this.getStorename(e,S),C=this.getModelConstructorByModelName(e,S),E){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:L.trys.push([4,10,11,16]),r=Et(n),L.label=5;case 5:return[4,r.next()];case 6:return(i=L.sent()).done?[3,9]:(O=i.value,I=O[_]?_:w,O[I]?[4,this.db.get(O[I],A)]:[3,9]);case 7:P=L.sent(),O[w]=P&&this.modelInstanceCreator(C,P),L.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return T=L.sent(),c={error:T},[3,16];case 11:return L.trys.push([11,,14,15]),i&&!i.done&&(f=r.return)?[4,f.call(r)]:[3,13];case 12:L.sent(),L.label=13;case 13:return[3,15];case 14:if(c)throw c.error;return[7];case 15:return[7];case 16:return[3,32];case 17:L.trys.push([17,23,24,29]),o=Et(n),L.label=18;case 18:return[4,o.next()];case 19:return(s=L.sent()).done?[3,22]:(O=s.value)[_]?[4,this.db.get(O[_],A)]:[3,21];case 20:P=L.sent(),O[w]=P&&this.modelInstanceCreator(C,P),delete O[_],L.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return x=L.sent(),l={error:x},[3,29];case 24:return L.trys.push([24,,27,28]),s&&!s.done&&(p=o.return)?[4,p.call(o)]:[3,26];case 25:L.sent(),L.label=26;case 26:return[3,28];case 27:if(l)throw l.error;return[7];case 28:return[7];case 29:case 30:return[3,32];case 31:return(0,Te.y0)(E),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return D=L.sent(),a={error:D},[3,40];case 35:return L.trys.push([35,,38,39]),m&&!m.done&&(u=y.return)?[4,u.call(y)]:[3,37];case 36:L.sent(),L.label=37;case 37:return[3,39];case 38:if(a)throw a.error;return[7];case 39:return[7];case 40:return[2,n.map((function(e){return k.modelInstanceCreator(g,e)}))]}}))}))},e.prototype.query=function(e,t,n){return St(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,f=this;return _t(this,(function(l){switch(l.label){case 0:return r=this.getStorenameForModel(e),i=this.namespaceResolver(e),o=t&&_e.OY.getPredicates(t),s=o&&this.idFromPredicate(o),a=n&&n.sort,u=n&&n.limit,[4,St(f,void 0,void 0,(function(){var e,t,i;return _t(this,(function(c){switch(c.label){case 0:return s?[4,this.getById(r,s)]:[3,2];case 1:return[2,(e=c.sent())?[e]:[]];case 2:return o?[4,this.filterOnPredicate(r,o)]:[3,4];case 3:return t=c.sent(),[2,this.inMemoryPagination(t,n)];case 4:return a||u?[4,this.getAll(r)]:[3,6];case 5:return i=c.sent(),[2,this.inMemoryPagination(i,n)];case 6:return[2,this.getAll(r)]}}))}))];case 1:return c=l.sent(),[4,this.load(i,e.name,c)];case 2:return[2,l.sent()]}}))}))},e.prototype.getById=function(e,t){return St(this,void 0,void 0,(function(){return _t(this,(function(n){switch(n.label){case 0:return[4,this.db.get(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return St(this,void 0,void 0,(function(){return _t(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.idFromPredicate=function(e){var t=e.predicates,n=1===t.length&&t.find((function(e){return(0,fe.w5)(e)&&"id"===e.field&&"eq"===e.operator}));return n&&n.operand},e.prototype.filterOnPredicate=function(e,t){return St(this,void 0,void 0,(function(){var n,r,i,o;return _t(this,(function(s){switch(s.label){case 0:return n=t.predicates,r=t.type,[4,this.getAll(e)];case 1:return i=s.sent(),o=n?i.filter((function(e){return(0,Te.u8)(e,r,n)})):i,[2,o]}}))}))},e.prototype.inMemoryPagination=function(e,t){if(t&&e.length>1){if(t.sort){var n=Se.getPredicates(t.sort);if(n.length){var r=(0,Te.z8)(n);e.sort(r)}}var i=t.page,o=void 0===i?0:i,s=t.limit,a=void 0===s?0:s,u=Math.max(0,o*a)||0,c=a>0?u+a:e.length;return e.slice(u,c)}return e},e.prototype.queryOne=function(e,t){return void 0===t&&(t=fe.fI.FIRST),St(this,void 0,void 0,(function(){var n,r;return _t(this,(function(i){switch(i.label){case 0:return n=this.getStorenameForModel(e),[4,this.db.getOne(t,n)];case 1:return[2,(r=i.sent())&&this.modelInstanceCreator(e,r)]}}))}))},e.prototype.delete=function(e,t){return St(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,p,h,d;return _t(this,(function(v){switch(v.label){case 0:return n=[],(0,Te.hK)(e)?(o=e,s=this.namespaceResolver(o),[4,this.query(o,t)]):[3,8];case 1:return r=v.sent(),h=this.schema.namespaces[s].relationships[o.name].relationTypes,void 0===t?[3,4]:[4,this.deleteTraverse(h,r,o.name,s,n)];case 2:return v.sent(),[4,this.deleteItem(n)];case 3:return v.sent(),d=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,d]];case 4:return[4,this.deleteTraverse(h,r,o.name,s,n)];case 5:return v.sent(),[4,this.deleteItem(n)];case 6:return v.sent(),d=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,d]];case 7:return[3,15];case 8:return i=e,o=Object.getPrototypeOf(i).constructor,s=this.namespaceResolver(o),a=this.getStorenameForModel(o),t?[4,this.db.get(i.id,a)]:[3,11];case 9:if(void 0===(u=v.sent()))return p="Model instance not found in storage",Ct.warn(p,{model:i}),[2,[[i],[]]];if(c=_e.OY.getPredicates(t),f=c.predicates,l=c.type,!(0,Te.u8)(u,l,f))throw p="Conditional update failed",Ct.error(p,{model:u,condition:f}),new Error(p);return h=this.schema.namespaces[s].relationships[o.name].relationTypes,[4,this.deleteTraverse(h,[i],o.name,s,n)];case 10:return v.sent(),[3,13];case 11:return h=this.schema.namespaces[s].relationships[o.name].relationTypes,[4,this.deleteTraverse(h,[i],o.name,s,n)];case 12:v.sent(),v.label=13;case 13:return[4,this.deleteItem(n)];case 14:return v.sent(),d=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[i],d]];case 15:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,i,o,s;return St(this,void 0,void 0,(function(){var a,u,c,f,l,p,h,d,v;return _t(this,(function(g){switch(g.label){case 0:g.trys.push([0,17,18,23]),t=Et(e),g.label=1;case 1:return[4,t.next()];case 2:if((n=g.sent()).done)return[3,16];a=n.value,u=a.storeName,c=a.items,g.label=3;case 3:g.trys.push([3,9,10,15]),f=Et(c),g.label=4;case 4:return[4,f.next()];case 5:return(l=g.sent()).done?[3,8]:(p=l.value)?"object"!=typeof p?[3,7]:(h=p.id,[4,this.db.delete(h,u)]):[3,7];case 6:g.sent(),g.label=7;case 7:return[3,4];case 8:return[3,15];case 9:return d=g.sent(),o={error:d},[3,15];case 10:return g.trys.push([10,,13,14]),l&&!l.done&&(s=f.return)?[4,s.call(f)]:[3,12];case 11:g.sent(),g.label=12;case 12:return[3,14];case 13:if(o)throw o.error;return[7];case 14:return[7];case 15:return[3,1];case 16:return[3,23];case 17:return v=g.sent(),r={error:v},[3,23];case 18:return g.trys.push([18,,21,22]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,20];case 19:g.sent(),g.label=20;case 20:return[3,22];case 21:if(r)throw r.error;return[7];case 22:return[7];case 23:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,i){var o,s,a,u,c,f,l,p,h,d,v,g;return St(this,void 0,void 0,(function(){var y,m,b,w,S,_,E,A,C,I,T,O,P,x,D,k=this;return _t(this,(function(L){switch(L.label){case 0:L.trys.push([0,35,36,41]),o=Et(e),L.label=1;case 1:return[4,o.next()];case 2:if((s=L.sent()).done)return[3,34];switch(y=s.value,m=y.relationType,b=y.modelName,w=y.targetName,S=this.getStorename(r,b),_=(0,Te.rw)(this.schema.namespaces[r].relationships[b].relationTypes,n)||(0,Te.NA)(this.schema.namespaces[r].relationships[b].indexes,y.associatedWith),m){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:L.trys.push([3,10,11,16]),a=Et(t),L.label=4;case 4:return[4,a.next()];case 5:return(u=L.sent()).done?[3,9]:(T=u.value,E=_||"byId",(A=w in T?T[w]:T.id)?[4,this.db.getAll(S)]:[3,9]);case 6:return O=L.sent(),C=O.filter((function(e){return e[E]===A})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,C,b,r,i)];case 7:L.sent(),L.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return I=L.sent(),h={error:I},[3,16];case 11:return L.trys.push([11,,14,15]),u&&!u.done&&(d=a.return)?[4,d.call(a)]:[3,13];case 12:L.sent(),L.label=13;case 13:return[3,15];case 14:if(h)throw h.error;return[7];case 15:return[7];case 16:return[3,33];case 17:L.trys.push([17,24,25,30]),c=Et(t),L.label=18;case 18:return[4,c.next()];case 19:return(f=L.sent()).done?[3,23]:(T=f.value,[4,this.db.getAll(S)]);case 20:return O=L.sent(),P=O.filter((function(e){return e[_]===T.id})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,P,b,r,i)];case 21:L.sent(),L.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return x=L.sent(),v={error:x},[3,30];case 25:return L.trys.push([25,,28,29]),f&&!f.done&&(g=c.return)?[4,g.call(c)]:[3,27];case 26:L.sent(),L.label=27;case 27:return[3,29];case 28:if(v)throw v.error;return[7];case 29:return[7];case 30:case 31:return[3,33];case 32:return(0,Te.y0)(m),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return D=L.sent(),l={error:D},[3,41];case 36:return L.trys.push([36,,39,40]),s&&!s.done&&(p=o.return)?[4,p.call(o)]:[3,38];case 37:L.sent(),L.label=38;case 38:return[3,40];case 39:if(l)throw l.error;return[7];case 40:return[7];case 41:return i.push({storeName:this.getStorename(r,n),items:t.map((function(e){return k.modelInstanceCreator(k.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){return St(this,void 0,void 0,(function(){return _t(this,(function(e){switch(e.label){case 0:return[4,this.db.clear()];case 1:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return St(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,p;return _t(this,(function(h){switch(h.label){case 0:n=e.name,r=this.namespaceResolver(e),i=this.getStorename(r,n),o=[],s=function(t){var n=t.id,r=(0,Te.jl)(e.name,a.modelInstanceCreator(e,t),a.schema.namespaces[a.namespaceResolver(e)],a.modelInstanceCreator,a.getModelConstructorByModelName).find((function(e){return e.instance.id===n})).instance;o.push(r)},a=this;try{for(u=At(t),c=u.next();!c.done;c=u.next())f=c.value,s(f)}catch(d){l={error:d}}finally{try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(l)throw l.error}}return[4,this.db.batchSave(i,o)];case 1:return[2,h.sent()]}}))}))},e}(),Tt=new It,Ot=function(){return(0,i.lC)().isBrowser&&window.indexedDB||(0,i.n2)()&&self.indexedDB?ot:Tt},Pt=function(){return Pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pt.apply(this,arguments)},xt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Dt=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},kt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Lt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Nt=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rt=new r.k("DataStore"),Mt=function(){function e(e,t,n,r,i,o){this.schema=e,this.namespaceResolver=t,this.getModelConstructorByModelName=n,this.modelInstanceCreator=r,this.adapter=i,this.sessionId=o,this.adapter=this.adapter||Ot(),this.pushStream=new(Ie())}return e.getNamespace=function(){return{name:Te.P_,relationships:{},enums:{},models:{},nonModels:{}}},e.prototype.init=function(){return xt(this,void 0,void 0,(function(){var e,t;return Dt(this,(function(n){switch(n.label){case 0:return void 0===this.initialized?[3,2]:[4,this.initialized];case 1:case 3:return n.sent(),[2];case 2:return Rt.debug("Starting Storage"),this.initialized=new Promise((function(n,r){e=n,t=r})),this.adapter.setUp(this.schema,this.namespaceResolver,this.modelInstanceCreator,this.getModelConstructorByModelName,this.sessionId).then(e,t),[4,this.initialized]}}))}))},e.prototype.save=function(e,t,n,r){return xt(this,void 0,void 0,(function(){var i,o=this;return Dt(this,(function(s){switch(s.label){case 0:return[4,this.init()];case 1:return s.sent(),[4,this.adapter.save(e,t)];case 2:return(i=s.sent()).forEach((function(s){var a,u=Lt(s,2),c=u[0],f=u[1],l=!!n;if(f===fe.HP.UPDATE&&!l&&null===(a=o.getUpdateMutationInput(e,c,r)))return i;var p=a||c,h=Object.getPrototypeOf(c).constructor;o.pushStream.next({model:h,opType:f,element:p,mutator:n,condition:_e.OY.getPredicates(t,!1),savedElement:c})})),[2,i]}}))}))},e.prototype.delete=function(e,t,n){return xt(this,void 0,void 0,(function(){var r,i,o,s,a=this;return Dt(this,(function(u){switch(u.label){case 0:return[4,this.init()];case 1:return u.sent(),[4,this.adapter.delete(e,t)];case 2:return s=Lt.apply(void 0,[u.sent(),2]),i=s[0],r=s[1],o=new Set(i.map((function(e){return e.id}))),(0,Te.hK)(e)||Array.isArray(r)||(r=[r]),r.forEach((function(r){var i,s=Object.getPrototypeOf(r).constructor;(0,Te.hK)(e)||(i=o.has(r.id)?_e.OY.getPredicates(t,!1):void 0),a.pushStream.next({model:s,opType:fe.HP.DELETE,element:r,mutator:n,condition:i})})),[2,[i,r]]}}))}))},e.prototype.query=function(e,t,n){return xt(this,void 0,void 0,(function(){return Dt(this,(function(r){switch(r.label){case 0:return[4,this.init()];case 1:return r.sent(),[4,this.adapter.query(e,t,n)];case 2:return[2,r.sent()]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=fe.fI.FIRST),xt(this,void 0,void 0,(function(){return Dt(this,(function(n){switch(n.label){case 0:return[4,this.init()];case 1:return n.sent(),[4,this.adapter.queryOne(e,t)];case 2:return[2,n.sent()]}}))}))},e.prototype.observe=function(e,t,n){var r=!e,i=_e.OY.getPredicates(t,!1)||{},o=i.predicates,s=i.type,a=!!o,u=this.pushStream.observable.filter((function(e){var t=e.mutator;return!n||t!==n})).map((function(e){e.mutator;return kt(e,["mutator"])}));return r||(u=u.filter((function(t){var n=t.model,r=t.element;return e===n&&(!a||(0,Te.u8)(r,s,o))}))),u},e.prototype.clear=function(e){return void 0===e&&(e=!0),xt(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return this.initialized=void 0,[4,this.adapter.clear()];case 1:return t.sent(),e&&this.pushStream.complete(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return xt(this,void 0,void 0,(function(){var r,i=this;return Dt(this,(function(o){switch(o.label){case 0:return[4,this.init()];case 1:return o.sent(),[4,this.adapter.batchSave(e,t)];case 2:return(r=o.sent()).forEach((function(t){var r=Lt(t,2),o=r[0],s=r[1];i.pushStream.next({model:e,opType:s,element:o,mutator:n,condition:void 0})})),[2,r]}}))}))},e.prototype.getUpdateMutationInput=function(e,t,n){var r,i;if(!(n&&n.length))return null;var o=Lt(n,2),s=o[0],a=o[1],u={},c=s.map((function(e){return e.path&&e.path[0]})),f=Object.getPrototypeOf(e).constructor,l=this.namespaceResolver(f),p=this.schema.namespaces[l].models[f.name].fields,h=this.schema.namespaces[l].keys[f.name],d=h.primaryKey,v=h.compositeKeys,g=void 0===v?[]:v;if(c.forEach((function(e){var n,r,i,o,s,c=(0,fe.Fr)(null===(s=p[e])||void 0===s?void 0:s.association)||e;if(!(0,Te.Vg)(a[c],t[c])){u[c]=void 0===t[c]?null:t[c];try{for(var f=Nt(g),l=f.next();!l.done;l=f.next()){var h=l.value;if(h.has(c))try{for(var d=(i=void 0,Nt(h)),v=d.next();!v.done;v=d.next()){var y=v.value;u[y]=t[y]}}catch(m){i={error:m}}finally{try{v&&!v.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{l&&!l.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}})),d&&d.length)try{for(var y=Nt(d),m=y.next();!m.done;m=y.next()){var b=m.value;u[b]=t[b]}}catch(A){r={error:A}}finally{try{m&&!m.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}if(0===Object.keys(u).length)return null;var w=t.id,S=t._version,_=t._lastChangedAt,E=t._deleted;return Pt(Pt({},u),{id:w,_version:S,_lastChangedAt:_,_deleted:E})},e}(),Ut=function(){function e(e,t,n,r,i,o){this.mutex=new Ae,this.storage=new Mt(e,t,n,r,i,o)}return e.prototype.runExclusive=function(e){return this.mutex.runExclusive(e.bind(this,this.storage))},e.prototype.save=function(e,t,n,r){return xt(this,void 0,void 0,(function(){return Dt(this,(function(i){return[2,this.runExclusive((function(i){return i.save(e,t,n,r)}))]}))}))},e.prototype.delete=function(e,t,n){return xt(this,void 0,void 0,(function(){return Dt(this,(function(r){return[2,this.runExclusive((function(r){if((0,Te.hK)(e)){var i=e;return r.delete(i,t,n)}var o=e;return r.delete(o,t,n)}))]}))}))},e.prototype.query=function(e,t,n){return xt(this,void 0,void 0,(function(){return Dt(this,(function(r){return[2,this.runExclusive((function(r){return r.query(e,t,n)}))]}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=fe.fI.FIRST),xt(this,void 0,void 0,(function(){return Dt(this,(function(n){return[2,this.runExclusive((function(n){return n.queryOne(e,t)}))]}))}))},e.getNamespace=function(){return Mt.getNamespace()},e.prototype.observe=function(e,t,n){return this.storage.observe(e,t,n)},e.prototype.clear=function(){return xt(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return[4,this.storage.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return this.storage.batchSave(e,t)},e.prototype.init=function(){return xt(this,void 0,void 0,(function(){return Dt(this,(function(e){return[2,this.storage.init()]}))}))},e}(),Ft=n(79548),jt=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bt=(new(function(){function e(){}return e.prototype.networkMonitor=function(t){if((0,i.lC)().isNode)return ae.Z.from([{online:!0}]);var n=(0,i.n2)()?self:window;return new ae.Z((function(t){t.next({online:n.navigator.onLine});var r=function(){return t.next({online:!0})},i=function(){return t.next({online:!1})};return n.addEventListener("online",r),n.addEventListener("offline",i),e._observers.push(t),function(){n.removeEventListener("online",r),n.removeEventListener("offline",i),e._observers=e._observers.filter((function(e){return e!==t}))}}))},e._observerOverride=function(t){var n,r,i=function(n){if(n.closed)return e._observers=e._observers.filter((function(e){return e!==n})),"continue";n.next(t)};try{for(var o=jt(e._observers),s=o.next();!s.done;s=o.next()){i(s.value)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e._observers=[],e}())).networkMonitor(),zt=function(){return zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zt.apply(this,arguments)},qt=(new r.k("DataStore"),function(){function e(){this.connectionStatus={online:!1}}return e.prototype.status=function(){var e=this;if(this.observer)throw new Error("Subscriber already exists");return new ae.Z((function(t){return e.observer=t,e.subscription=Bt.subscribe((function(n){var r=n.online;e.connectionStatus.online=r;var i=zt({},e.connectionStatus);t.next(i)})),function(){clearTimeout(e.timeout),e.unsubscribe()}}))},e.prototype.unsubscribe=function(){this.subscription&&(clearTimeout(this.timeout),this.subscription.unsubscribe())},e.prototype.socketDisconnected=function(){var e=this;this.observer&&"function"==typeof this.observer.next&&(this.observer.next({online:!1}),this.timeout=setTimeout((function(){var t=zt({},e.connectionStatus);e.observer.next(t)}),5e3))},e}()),Gt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Kt=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Vt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Ht=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vt(arguments[t]));return e},Yt=function(){function e(e,t){this.outbox=e,this.ownSymbol=t}return e.prototype.merge=function(e,t){return Gt(this,void 0,void 0,(function(){var n,r,i,o,s;return Kt(this,(function(a){switch(a.label){case 0:return[4,this.outbox.getForModel(e,t)];case 1:return r=a.sent(),i=t._deleted,0!==r.length?[3,5]:i?(n=fe.HP.DELETE,[4,e.delete(t,void 0,this.ownSymbol)]):[3,3];case 2:return a.sent(),[3,5];case 3:return[4,e.save(t,void 0,this.ownSymbol)];case 4:o=Vt.apply(void 0,[a.sent(),1]),s=Vt(o[0],2),n=s[1],a.label=5;case 5:return[2,n]}}))}))},e.prototype.mergePage=function(e,t,n){return Gt(this,void 0,void 0,(function(){var r,i,o,s,a,u,c;return Kt(this,(function(f){switch(f.label){case 0:r=new Map;try{for(i=Ht(n),o=i.next();!o.done;o=i.next())s=o.value,r.set(s.id,s)}catch(l){u={error:l}}finally{try{o&&!o.done&&(c=i.return)&&c.call(i)}finally{if(u)throw u.error}}return a=Wt(r.values()),[4,e.batchSave(t,a,this.ownSymbol)];case 1:return[2,f.sent()]}}))}))},e}(),Jt=n(4805),Zt=function(){return Zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zt.apply(this,arguments)},Qt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},$t=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Xt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},en=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xt(arguments[t]));return e},tn=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nn=new r.k("DataStore");function rn(e,t){var n,r,i=en(Object.keys(e));try{for(var o=tn(i),s=o.next();!s.done;s=o.next()){var a=s.value;if((0,e[a])(t))return a}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return"Unknown"}!function(e){e.LIST="query",e.CREATE="mutation",e.UPDATE="mutation",e.DELETE="mutation",e.GET="query"}(ft||(ft={})),function(e){e.CREATE="Create",e.UPDATE="Update",e.DELETE="Delete",e.GET="Get"}(lt||(lt={}));var on={_version:void 0,_lastChangedAt:void 0,_deleted:void 0},sn=Object.keys(on);function an(e,t){var n=un(t),r=function(e,t){var n=[];return Object.values(t.fields).forEach((function(t){var r=t.name,i=t.type;if((0,fe.$v)(i)){var o=e.nonModels[i.nonModel],s=Object.values(un(o)).map((function(e){return e.name})),a=[];Object.values(o.fields).forEach((function(t){var n=t.type,r=t.name;if((0,fe.$v)(n)){var i=e.nonModels[n.nonModel];a.push(r+" { "+an(e,i)+" }")}})),n.push(r+" { "+s.join(" ")+" "+a.join(" ")+" }")}})),n}(e,t),i=function(e,t){var n=function(e){var t=[];(0,fe.aQ)(e)&&e.attributes&&e.attributes.forEach((function(e){if(e.properties&&e.properties.rules){var n=e.properties.rules.find((function(e){return"owner"===e.allow}));n&&n.ownerField&&t.push(n.ownerField)}}));return t}(e);if(!t.owner&&n.includes("owner"))return["owner"];return[]}(t,n),o=Object.values(n).map((function(e){return e.name})).concat(i).concat(r);return(0,fe.aQ)(t)&&(o=o.concat(sn).concat(function(e){var t=[];return Object.values(e.fields).filter((function(e){var t=e.association;return t&&Object.keys(t).length})).forEach((function(e){var n=e.name,r=e.association,i=r.connectionType;switch(i){case"HAS_ONE":case"HAS_MANY":break;case"BELONGS_TO":(0,fe.Fr)(r)&&t.push(n+" { id _deleted }");break;default:(0,Te.y0)(i)}})),t}(t))),o.join("\n")}function un(e){var t=e.fields;return Object.values(t).filter((function(e){return!(!(0,fe.BV)(e.type)&&!(0,fe.g5)(e.type))})).reduce((function(e,t){return e[t.name]=t,e}),{})}function cn(e,t,n){var r,i,o=an(e,t),s=t.name,a=t.pluralName,u=" ",c=" ";switch(n){case"LIST":r="sync"+a,u="($limit: Int, $nextToken: String, $lastSync: AWSTimestamp, $filter: Model"+s+"FilterInput)",c="(limit: $limit, nextToken: $nextToken, lastSync: $lastSync, filter: $filter)",o="items {\n\t\t\t\t\t\t\t"+o+"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnextToken\n\t\t\t\t\t\tstartedAt";break;case"CREATE":r="create"+s,u="($input: Create"+s+"Input!)",c="(input: $input)",i=lt.CREATE;break;case"UPDATE":r="update"+s,u="($input: Update"+s+"Input!, $condition: Model"+s+"ConditionInput)",c="(input: $input, condition: $condition)",i=lt.UPDATE;break;case"DELETE":r="delete"+s,u="($input: Delete"+s+"Input!, $condition: Model"+s+"ConditionInput)",c="(input: $input, condition: $condition)",i=lt.DELETE;break;case"GET":r="get"+s,u="($id: ID!)",c="(id: $id)",i=lt.GET;break;default:(0,Te.y0)(n)}return[[i,r,ft[n]+" operation"+u+"{\n\t\t"+r+c+"{\n\t\t\t"+o+"\n\t\t}\n\t}"]]}function fn(e,t,n,r,i,o,s,a,u){var c;switch(n){case fe.HP.INSERT:c=lt.CREATE;break;case fe.HP.UPDATE:c=lt.UPDATE;break;case fe.HP.DELETE:c=lt.DELETE;break;default:(0,Te.y0)(n)}var f=a(s,Zt(Zt({},u?{id:u}:{}),{data:JSON.stringify(i,(function(e,n){return e&&null!==n&&"object"==typeof n&&t.fields[e]&&"AWSJSON"===t.fields[e].type?JSON.stringify(n):n})),modelId:i.id,model:r.name,operation:c,condition:JSON.stringify(o)}));return f}function ln(e){var t={};return e&&Array.isArray(e.predicates)?(e.predicates.forEach((function(e){var n;if((0,fe.w5)(e)){var r=e.field,i=e.operator,o=e.operand;if("id"===r)return;t[r]=((n={})[i]=o,n)}else t[e.type]=ln(e)})),t):t}function pn(e){var t={};if(!e||!Array.isArray(e.predicates))return t;var n=e.type,r=e.predicates,i="and"===n||"or"===n;t[n]=i?[]:{};var o=function(e){return i?t[n].push(e):t[n]=e};return r.forEach((function(e){var t,n;if((0,fe.w5)(e)){var r=e.field,i=e.operator,s=e.operand,a=((t={})[r]=((n={})[i]=s,n),t);o(a)}else o(pn(e))})),t}function hn(e,t){var n=e[t.groupClaim]||[];if("string"==typeof n){var r=void 0;try{r=JSON.parse(n)}catch(i){r=n}n=[].concat(r)}return n}function dn(e){var t=e.authModeStrategy,n=e.defaultAuthMode,r=e.modelName,i=e.schema;return Qt(this,void 0,void 0,(function(){var e,o,s,a=this;return $t(this,(function(u){switch(u.label){case 0:e=Object.values(fe.Z1),o={CREATE:[],READ:[],UPDATE:[],DELETE:[]},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(e.map((function(e){return Qt(a,void 0,void 0,(function(){var s;return $t(this,(function(a){switch(a.label){case 0:return[4,t({schema:i,modelName:r,operation:e})];case 1:return"string"==typeof(s=a.sent())?o[e]=[s]:Array.isArray(s)&&s.length?o[e]=s:o[e]=[n],[2]}}))}))})))];case 2:return u.sent(),[3,4];case 3:return s=u.sent(),nn.debug("Error getting auth modes for model: "+r,s),[3,4];case 4:return[2,o]}}))}))}function vn(e){var t,n=["Request failed with status code 401","Request failed with status code 403"];return e&&e.errors?t=e.errors.find((function(e){return n.includes(e.message)})):e&&e.message&&(t=e),t?t.message:null}function gn(e){var t=Object.values(Jt.j);return e&&e.message&&t.find((function(t){return e.message.includes(t)}))||null}function yn(e,t){return void 0===t&&(t={}),Qt(this,void 0,void 0,(function(){var n,r,i;return $t(this,(function(o){switch(o.label){case 0:if(e!==ce.si.AWS_LAMBDA)return[3,6];if(n=t.authProviders,!(r=(void 0===n?{functionAuthProvider:null}:n).functionAuthProvider)||"function"!=typeof r)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r()];case 2:return[2,o.sent().token];case 3:throw i=o.sent(),new Error("Error retrieving token from `functionAuthProvider`: "+i);case 4:return[3,6];case 5:throw new Error("You must provide a `functionAuthProvider` function to `DataStore.configure` when using "+ce.si.AWS_LAMBDA);case 6:return[2]}}))}))}var mn,bn,wn=function(){return wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wn.apply(this,arguments)},Sn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},_n=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},En=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},An=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Cn=function(){function e(e,t,n,r){this.schema=e,this.MutationEvent=t,this.modelInstanceCreator=n,this.ownSymbol=r}return e.prototype.enqueue=function(e,t){return Sn(this,void 0,void 0,(function(){var n=this;return _n(this,(function(r){return e.runExclusive((function(e){return Sn(n,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l=this;return _n(this,(function(p){switch(p.label){case 0:return n=this.schema.namespaces[Te.J3].models.MutationEvent,r=_e.OY.createFromExisting(n,(function(e){return e.modelId("eq",t.modelId).id("ne",l.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,r)];case 1:return i=An.apply(void 0,[p.sent(),1]),void 0!==(o=i[0])?[3,3]:[4,e.save(t,void 0,this.ownSymbol)];case 2:return p.sent(),[2];case 3:return s=t.operation,o.operation!==lt.CREATE?[3,8]:s!==lt.DELETE?[3,5]:[4,e.delete(this.MutationEvent,r)];case 4:return p.sent(),[3,7];case 5:return a=this.mergeUserFields(o,t),[4,e.save(this.MutationEvent.copyOf(o,(function(e){e.data=a.data})),void 0,this.ownSymbol)];case 6:p.sent(),p.label=7;case 7:return[3,12];case 8:return u=t.condition,c=JSON.parse(u),f=void 0,0!==Object.keys(c).length?[3,10]:(f=this.mergeUserFields(o,t),[4,e.delete(this.MutationEvent,r)]);case 9:p.sent(),p.label=10;case 10:return f=f||t,[4,e.save(f,void 0,this.ownSymbol)];case 11:p.sent(),p.label=12;case 12:return[2]}}))}))})),[2]}))}))},e.prototype.dequeue=function(e,t,n){return Sn(this,void 0,void 0,(function(){var r;return _n(this,(function(i){switch(i.label){case 0:return[4,this.peek(e)];case 1:return r=i.sent(),t?[4,this.syncOutboxVersionsOnDequeue(e,t,r,n)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[4,e.delete(r)];case 4:return i.sent(),this.inProgressMutationEventId=void 0,[2,r]}}))}))},e.prototype.peek=function(e){return Sn(this,void 0,void 0,(function(){var t;return _n(this,(function(n){switch(n.label){case 0:return[4,e.queryOne(this.MutationEvent,fe.fI.FIRST)];case 1:return t=n.sent(),this.inProgressMutationEventId=t?t.id:void 0,[2,t]}}))}))},e.prototype.getForModel=function(e,t){return Sn(this,void 0,void 0,(function(){var n;return _n(this,(function(r){switch(r.label){case 0:return n=this.schema.namespaces[Te.J3].models.MutationEvent,[4,e.query(this.MutationEvent,_e.OY.createFromExisting(n,(function(e){return e.modelId("eq",t.id)})))];case 1:return[2,r.sent()]}}))}))},e.prototype.getModelIds=function(e){return Sn(this,void 0,void 0,(function(){var t,n;return _n(this,(function(r){switch(r.label){case 0:return[4,e.query(this.MutationEvent)];case 1:return t=r.sent(),n=new Set,t.forEach((function(e){var t=e.modelId;return n.add(t)})),[2,n]}}))}))},e.prototype.syncOutboxVersionsOnDequeue=function(e,t,n,r){return Sn(this,void 0,void 0,(function(){var i,o,s,a,u,c,f,l,p,h,d,v=this;return _n(this,(function(g){switch(g.label){case 0:return n.operation!==r?[2]:(i=t._version,o=t._lastChangedAt,t._deleted,s=En(t,["_version","_lastChangedAt","_deleted"]),a=this.removeTimestampFields(n.model,s),(u=JSON.parse(n.data))?(u._version,u._lastChangedAt,u._deleted,c=En(u,["_version","_lastChangedAt","_deleted"]),f=this.removeTimestampFields(n.model,c),(0,Te.Vg)(a,f,!0)?(l=this.schema.namespaces[Te.J3].models.MutationEvent,p=_e.OY.createFromExisting(l,(function(e){return e.modelId("eq",t.id).id("ne",v.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,p)]):[2]):[2]);case 1:return(h=g.sent()).length?(d=h.map((function(e){var t=JSON.parse(e.data),n=wn(wn({},t),{_version:i,_lastChangedAt:o});return v.MutationEvent.copyOf(e,(function(e){e.data=JSON.stringify(n)}))})),[4,e.delete(this.MutationEvent,p)]):[2];case 2:return g.sent(),[4,Promise.all(d.map((function(t){return Sn(v,void 0,void 0,(function(){return _n(this,(function(n){switch(n.label){case 0:return[4,e.save(t,void 0,this.ownSymbol)];case 1:return[2,n.sent()]}}))}))})))];case 3:return g.sent(),[2]}}))}))},e.prototype.mergeUserFields=function(e,t){var n=JSON.parse(e.data),r=n._version,i=n.id,o=n._lastChangedAt,s=n._deleted,a=En(n,["_version","id","_lastChangedAt","_deleted"]),u=JSON.parse(t.data),c=(u.id,u._version,u._lastChangedAt,u._deleted,En(u,["id","_version","_lastChangedAt","_deleted"])),f=JSON.stringify(wn(wn({id:i,_version:r,_lastChangedAt:o,_deleted:s},a),c));return this.modelInstanceCreator(this.MutationEvent,wn(wn({},t),{data:f}))},e.prototype.removeTimestampFields=function(e,t){var n,r,i="createdAt",o="updatedAt",s=i,a=o,u=null===(n=this.schema.namespaces[Te.xR].models[e].attributes)||void 0===n?void 0:n.find((function(e){return"model"===e.type})),c=null===(r=null==u?void 0:u.properties)||void 0===r?void 0:r.timestamps;return c&&(s=c.createdAt,a=c.updatedAt),delete t[s],delete t[a],t},e}(),In=n(67256),Tn=n(4071),On=function(){return On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},On.apply(this,arguments)},Pn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},xn=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Dn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},kn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Ln=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Nn=new r.k("DataStore"),Rn={BadRecord:function(e){return/^Cannot return \w+ for [\w-_]+ type/.test(e.message)}},Mn=function(){function e(e,t,n,r,i,o,s,a,u,c){void 0===s&&(s={}),this.schema=e,this.storage=t,this.userClasses=n,this.outbox=r,this.modelInstanceCreator=i,this.MutationEvent=o,this.amplifyConfig=s,this.authModeStrategy=a,this.errorHandler=u,this.conflictHandler=c,this.typeQuery=new WeakMap,this.processing=!1,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=kn(cn(t,n,"CREATE"),1)[0],i=kn(cn(t,n,"UPDATE"),1)[0],o=kn(cn(t,n,"DELETE"),1)[0];e.typeQuery.set(n,[r,i,o])}))}))},e.prototype.isReady=function(){return void 0!==this.observer},e.prototype.start=function(){var e=this;return new ae.Z((function(t){return e.observer=t,e.resume(),function(){e.pause()}}))},e.prototype.resume=function(){return Pn(this,void 0,void 0,(function(){var e,t,n,r,i,o=this;return xn(this,(function(s){switch(s.label){case 0:if(this.processing||!this.isReady())return[2];this.processing=!0,t=Te.xR,n=function(){var n,i,s,a,u,c,f,l,p,h,d,v,g,y,m,b;return xn(this,(function(w){switch(w.label){case 0:n=e.model,i=e.operation,s=e.data,a=e.condition,u=r.userClasses[n],c=void 0,f=void 0,l=void 0,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,dn({authModeStrategy:r.authModeStrategy,defaultAuthMode:r.amplifyConfig.aws_appsync_authenticationType,modelName:n,schema:r.schema})];case 2:return p=w.sent(),h=p[i.toUpperCase()],d=0,v=function(){return Pn(o,void 0,void 0,(function(){var r,o;return xn(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,4]),Nn.debug("Attempting mutation with authMode: "+h[d]),[4,this.jitteredRetry(t,n,i,s,a,u,this.MutationEvent,e,h[d])];case 1:return r=c.sent(),Nn.debug("Mutation sent successfully with authMode: "+h[d]),[2,r];case 2:if(o=c.sent(),++d>=h.length)throw Nn.debug("Mutation failed with authMode: "+h[d-1]),o;return Nn.debug("Mutation failed with authMode: "+h[d-1]+". Retrying with authMode: "+h[d]),[4,v()];case 3:return[2,c.sent()];case 4:return[2]}}))}))},[4,v()];case 3:return b=kn.apply(void 0,[w.sent(),3]),c=b[0],f=b[1],l=b[2],[3,5];case 4:return"Offline"===(g=w.sent()).message||"RetryMutation"===g.message?[2,"continue"]:[3,5];case 5:return void 0!==c?[3,7]:(Nn.debug("done retrying"),[4,r.storage.runExclusive((function(e){return Pn(o,void 0,void 0,(function(){return xn(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e)];case 1:return t.sent(),[2]}}))}))}))]);case 6:return w.sent(),[2,"continue"];case 7:return y=c.data[f],m=!1,[4,r.storage.runExclusive((function(e){return Pn(o,void 0,void 0,(function(){return xn(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e,y,i)];case 1:return t.sent(),[4,this.outbox.peek(e)];case 2:return m=void 0!==t.sent(),[2]}}))}))}))];case 8:return w.sent(),r.observer.next({operation:i,modelDefinition:l,model:y,hasMore:m}),[2]}}))},r=this,s.label=1;case 1:return(i=this.processing)?[4,this.outbox.peek(this.storage)]:[3,3];case 2:i=void 0!==(e=s.sent()),s.label=3;case 3:return i?[5,n()]:[3,5];case 4:return s.sent(),[3,1];case 5:return this.pause(),[2]}}))}))},e.prototype.jitteredRetry=function(e,t,n,r,i,o,s,a,u){return Pn(this,void 0,void 0,(function(){var c=this;return xn(this,(function(f){switch(f.label){case 0:return[4,(0,Tn.XD)((function(t,n,r,i,o,s,a){return Pn(c,void 0,void 0,(function(){var c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I,T,O,P,x,D,k,L,N,R;return xn(this,(function(M){switch(M.label){case 0:return c=kn(this.createQueryVariables(e,t,n,r,i),5),f=c[0],l=c[1],p=c[2],h=c[3],d=c[4],[4,yn(u,this.amplifyConfig)];case 1:v=M.sent(),g={query:f,variables:l,authMode:u,authToken:v},y=0,m=this.opTypeFromTransformerOperation(n),M.label=2;case 2:return M.trys.push([2,4,,20]),[4,In.ZP.graphql(g)];case 3:return[2,[M.sent(),h,d]];case 4:if(!((b=M.sent()).errors&&b.errors.length>0))return[3,18];if(w=kn(b.errors,1),S=w[0],_=S.originalError,E=(void 0===_?{}:_).code,A=void 0===E?null:E,"Unauthorized"===S.errorType)throw new Tn.V2("Unauthorized");if("Network Error"===S.message||"ECONNABORTED"===A){if(!this.processing)throw new Tn.V2("Offline");throw new Error("Network Error")}return"ConflictUnhandled"!==S.errorType?[3,13]:(y++,C=void 0,y>10?(C=fe.K5,[3,8]):[3,5]);case 5:return M.trys.push([5,7,,8]),[4,this.conflictHandler({modelConstructor:o,localModel:this.modelInstanceCreator(o,l.input),remoteModel:this.modelInstanceCreator(o,S.data),operation:m,attempts:y})];case 6:return C=M.sent(),[3,8];case 7:return I=M.sent(),Nn.warn("conflict trycatch",I),[3,20];case 8:return C!==fe.K5?[3,11]:(T=kn(cn(this.schema.namespaces[e],d,"GET"),1),O=kn(T[0],3),P=O[1],x=O[2],[4,yn(u,this.amplifyConfig)]);case 9:return D=M.sent(),[4,In.ZP.graphql({query:x,variables:{id:l.input.id},authMode:u,authToken:D})];case 10:return[2,[M.sent(),P,d]];case 11:return k=this.schema.namespaces[e],L=fn(k.relationships,d,m,o,C,p,s,this.modelInstanceCreator,a.id),[4,this.storage.save(L)];case 12:throw M.sent(),new Tn.V2("RetryMutation");case 13:return M.trys.push([13,15,16,17]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:l.input,message:S.message,operation:n,errorType:rn(Rn,S),errorInfo:S.errorInfo,process:fe.tv.mutate,cause:S,remoteModel:S.data?this.modelInstanceCreator(o,S.data):null})];case 14:return M.sent(),[3,17];case 15:return N=M.sent(),Nn.warn("Mutation error handler failed with:",N),[3,17];case 16:return[2,S.data?[{data:(R={},R[h]=S.data,R)},h,d]:[]];case 17:return[3,19];case 18:throw new Tn.V2(b);case 19:return[3,20];case 20:if(g)return[3,2];M.label=21;case 21:return[2]}}))}))}),[t,n,r,i,o,s,a],jn)];case 1:return[2,f.sent()]}}))}))},e.prototype.createQueryVariables=function(e,t,n,r,i){var o,s,a=this.schema.namespaces[e].models[t],u=this.schema.namespaces[e].keys[t].primaryKey,c=this.typeQuery.get(a),f=kn(c.find((function(e){return kn(e,1)[0]===n})),3),l=f[1],p=f[2],h=JSON.parse(r),d=h._version,v=Dn(h,["_version"]),g={};if(u&&u.length)try{for(var y=Ln(u),m=y.next();!m.done;m=y.next()){var b=m.value;g[b]=v[b]}}catch(E){o={error:E}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}else g.id=v.id;var w=n===lt.DELETE?g:Object.values(a.fields).filter((function(e){var t=e.name,r=e.type,i=e.association;return(0,fe.I7)(r)?!(!(0,fe.Fr)(i)||"BELONGS_TO"!==i.connectionType):n!==lt.UPDATE||v.hasOwnProperty(t)})).map((function(e){var t=e.name,n=e.type,r=e.association,i=t,o=v[t];return(0,fe.I7)(n)&&(0,fe.Fr)(r)&&(i=r.targetName,o=v[i]),[i,o]})).reduce((function(e,t){var n=kn(t,2),r=n[0],i=n[1];return e[r]=i,e}),{}),S=On(On({},w),{_version:d}),_=JSON.parse(i);return[p,On({input:S},n===lt.CREATE?{}:{condition:Object.keys(_).length>0?_:null}),_,l,a]},e.prototype.opTypeFromTransformerOperation=function(e){switch(e){case lt.CREATE:return fe.HP.INSERT;case lt.DELETE:return fe.HP.DELETE;case lt.UPDATE:return fe.HP.UPDATE;case lt.GET:break;default:(0,Te.y0)(e)}},e.prototype.pause=function(){this.processing=!1},e}(),Un=3e5,Fn=(0,Tn.kD)(Un),jn=function(e,t,n){var r=Fn(e);return!1===r&&"Network Error"===(null==n?void 0:n.message)?Un:r},Bn=n(56805),zn=function(){return zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zn.apply(this,arguments)},qn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Gn=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Kn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Vn=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kn(arguments[t]));return e},Hn=new r.k("DataStore"),Wn={Unauthorized:function(e){var t=e.error,n=Kn((void 0===t?{errors:[]}:t).errors,1)[0],r=(void 0===n?{}:n).message;return/Connection failed.+Unauthorized/.test(void 0===r?"":r)}};!function(e){e.CONNECTED="CONNECTED"}(mn||(mn={})),function(e){e[e.none=0]="none",e[e.unauth=1]="unauth",e[e.auth=2]="auth"}(bn||(bn={}));var Yn,Jn=function(){function e(e,t,n,r,i){void 0===n&&(n={}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=i,this.typeQuery=new WeakMap,this.buffer=[]}return e.prototype.buildSubscription=function(e,t,n,r,i,o,s){var a=this.amplifyConfig.aws_appsync_authenticationType,u=this.getAuthorizationInfo(t,r,a,i,o,s)||{},c=u.isOwner,f=u.ownerField,l=u.ownerValue,p=Kn(function(e,t,n,r,i){var o=an(e,t),s=t.name,a=(t.pluralName,"on"+n+s),u="",c="";return r&&(u="($"+i+": String!)",c="("+i+": $"+i+")"),[n,a,"subscription operation"+u+"{\n\t\t\t"+a+c+"{\n\t\t\t\t"+o+"\n\t\t\t}\n\t\t}"]}(e,t,n,c,f),3);return{authMode:s,opType:p[0],opName:p[1],query:p[2],isOwner:c,ownerField:f,ownerValue:l}},e.prototype.getAuthorizationInfo=function(e,t,n,r,i,o){void 0===r&&(r={}),void 0===i&&(i={});var s,a,u,c,f=(a=([].concat((s=e).attributes).find((function(e){return e&&"auth"===e.type}))||{}).properties,u=(void 0===a?{}:a).rules,c=[],(void 0===u?[]:u).forEach((function(e){var t=e.identityClaim,n=void 0===t?"cognito:username":t,r=e.ownerField,i=void 0===r?"owner":r,o=e.operations,a=void 0===o?["create","update","delete","read"]:o,u=e.provider,f=void 0===u?"userPools":u,l=e.groupClaim,p=void 0===l?"cognito:groups":l,h=e.allow,d=void 0===h?"iam":h,v=e.groups,g=void 0===v?[]:v,y="owner"===d;if(a.includes("read")||y){var m={identityClaim:n,ownerField:i,provider:f,groupClaim:p,authStrategy:d,groups:g,areSubscriptionsPublic:!1};if(y){var b=([].concat(s.attributes).find((function(e){return e&&"model"===e.type}))||{}).properties,w=(void 0===b?{}:b).subscriptions,S=(void 0===w?{}:w).level,_=void 0===S?"on":S;m.areSubscriptionsPublic=!a.includes("read")||"public"===_}y?c.push(m):c.unshift(m)}})),c);if(o===ce.si.AWS_IAM&&f.find((function(e){return"private"===e.authStrategy&&"iam"===e.provider}))&&t===bn.unauth)return null;var l,p=f.filter((function(e){return"groups"===e.authStrategy&&["userPools","oidc"].includes(e.provider)}));return o!==ce.si.AMAZON_COGNITO_USER_POOLS&&o!==ce.si.OPENID_CONNECT||!p.find((function(e){var t=hn(r,e),n=hn(i,e);return Vn(t,n).find((function(t){return e.groups.find((function(e){return e===t}))}))}))?((o===ce.si.AMAZON_COGNITO_USER_POOLS?f.filter((function(e){return"owner"===e.authStrategy&&"userPools"===e.provider})):[]).forEach((function(e){var t=r[e.identityClaim];t&&(l={authMode:ce.si.AMAZON_COGNITO_USER_POOLS,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),l||((o===ce.si.OPENID_CONNECT?f.filter((function(e){return"owner"===e.authStrategy&&"oidc"===e.provider})):[]).forEach((function(e){var t=i[e.identityClaim];t&&(l={authMode:ce.si.OPENID_CONNECT,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),l||{authMode:o||n,isOwner:!1})):{authMode:o,isOwner:!1}},e.prototype.hubQueryCompletionListener=function(e,t){t.payload.event===Ft.un.SUBSCRIPTION_ACK&&e()},e.prototype.start=function(){var e=this,t=new ae.Z((function(t){var n,r,i=[],s={},a=bn.none;return qn(e,void 0,void 0,(function(){var e,u,c,f,l,p,h,d,v,g,y=this;return Gn(this,(function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,ue.ZP.currentCredentials()];case 1:return e=m.sent(),a=e.authenticated?bn.auth:bn.unauth,[3,3];case 2:return m.sent(),[3,3];case 3:return m.trys.push([3,5,,6]),[4,ue.ZP.currentSession()];case 4:return u=m.sent(),n=u.getIdToken().decodePayload(),[3,6];case 5:return m.sent(),[3,6];case 6:if(m.trys.push([6,11,,12]),c=this.amplifyConfig,f=c.aws_cognito_region,l=c.Auth,!f||l&&!l.region)throw"Auth is not configured";return p=void 0,[4,Bn.ZP.getItem("federatedInfo")];case 7:return(h=m.sent())?(p=h.token,[3,10]):[3,8];case 8:return[4,ue.ZP.currentAuthenticatedUser()];case 9:(d=m.sent())&&(p=d.token),m.label=10;case 10:return p&&(v=p.split(".")[1],r=JSON.parse(Buffer.from(v,"base64").toString("utf8"))),[3,12];case 11:return g=m.sent(),Hn.debug("error getting OIDC JWT",g),[3,12];case 12:return Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(u){return qn(y,void 0,void 0,(function(){var c,f,l,p,h,d,v,g,y=this;return Gn(this,(function(m){switch(m.label){case 0:return[4,dn({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:u.name,schema:this.schema})];case 1:return c=m.sent(),f=c.READ,s=zn(zn({},s),((d={})[u.name]=((v={})[lt.CREATE]=[],v[lt.UPDATE]=[],v[lt.DELETE]=[],v),d)),l=[lt.CREATE,lt.UPDATE,lt.DELETE],(g={})[lt.CREATE]=0,g[lt.UPDATE]=0,g[lt.DELETE]=0,p=g,h=function(c){return qn(y,void 0,void 0,(function(){var l,d,v,g,y,m,b,w,S,_,E,A,C=this;return Gn(this,(function(I){switch(I.label){case 0:return l=this.buildSubscription(e,u,c,a,n,r,f[p[c]]),d=l.opType,v=l.opName,g=l.query,y=l.isOwner,m=l.ownerField,b=l.ownerValue,[4,yn(w=l.authMode,this.amplifyConfig)];case 1:if(S=I.sent(),_={},y){if(!b)return t.error("Owner field required, sign in is needed in order to perform this operation"),[2];_[m]=b}return Hn.debug("Attempting "+c+" subscription with authMode: "+f[p[c]]),E=In.ZP.graphql(zn(zn({query:g,variables:_},{authMode:w}),{authToken:S})),s[u.name][d].push(E.map((function(e){return e.value})).subscribe({next:function(e){var t=e.data,n=e.errors;if(Array.isArray(n)&&n.length>0){var r=n.map((function(e){return e.message}));return Hn.warn("Skipping incoming subscription. Messages: "+r.join("\n")),void C.drainBuffer()}var i=_e.OY.getPredicates(C.syncPredicates.get(u),!1),o=t[v];C.passesPredicateValidation(o,i)&&C.pushToBuffer(d,u,o),C.drainBuffer()},error:function(e){return qn(C,void 0,void 0,(function(){var n,r,i,o,a,l;return Gn(this,(function(v){switch(v.label){case 0:n=e.error,r=Kn((void 0===n?{errors:[]}:n).errors,1),i=r[0],o=(void 0===i?{}:i).message,a=void 0===o?"":o,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:a,model:u.name,operation:c,errorType:rn(Wn,e),process:fe.tv.subscribe,remoteModel:null,cause:e})];case 2:return v.sent(),[3,4];case 3:return l=v.sent(),Hn.error("Sync error handler failed with:",l),[3,4];case 4:return a.includes(Ft.un.REALTIME_SUBSCRIPTION_INIT_ERROR)||a.includes(Ft.un.CONNECTION_FAILED)?(s[u.name][d].forEach((function(e){return e.unsubscribe()})),s[u.name][d]=[],p[c]++,p[c]>=f.length?(Hn.debug(c+" subscription failed with authMode: "+f[p[c]-1]),Hn.warn("subscriptionError",a),[2]):(Hn.debug(c+" subscription failed with authMode: "+f[p[c]-1]+". Retrying with authMode: "+f[p[c]]),h(c),[2])):(Hn.warn("subscriptionError",a),"function"==typeof A&&A(),a.includes('"errorType":"Unauthorized"')||a.includes('"errorType":"OperationDisabled"')||t.error(a),[2])}}))}))}})),i.push(qn(C,void 0,void 0,(function(){var e,t=this;return Gn(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){A=n,e=t.hubQueryCompletionListener.bind(t,n),o.Xb.listen("api",e)}))];case 1:return n.sent(),o.Xb.remove("api",e),[2]}}))}))),[2]}}))}))},l.forEach((function(e){return h(e)})),[2]}}))}))}))})),Promise.all(i).then((function(){return t.next(mn.CONNECTED)})),[2]}}))})),function(){Object.keys(s).forEach((function(e){s[e][lt.CREATE].forEach((function(e){return e.unsubscribe()})),s[e][lt.UPDATE].forEach((function(e){return e.unsubscribe()})),s[e][lt.DELETE].forEach((function(e){return e.unsubscribe()}))}))}}));return[t,new ae.Z((function(t){return e.dataObserver=t,e.drainBuffer(),function(){e.dataObserver=null}}))]},e.prototype.passesPredicateValidation=function(e,t){if(!t)return!0;var n=t.predicates,r=t.type;return(0,Te.u8)(e,r,n)},e.prototype.pushToBuffer=function(e,t,n){this.buffer.push([e,t,n])},e.prototype.drainBuffer=function(){var e=this;this.dataObserver&&(this.buffer.forEach((function(t){return e.dataObserver.next(t)})),this.buffer=[])},e}(),Zn=function(){return Zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zn.apply(this,arguments)},Qn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},$n=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Xn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},er=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tr={items:[],nextToken:null,startedAt:null},nr=new r.k("DataStore"),rr={BadRecord:function(e){return/^Cannot return \w+ for [\w-_]+ type/.test(e.message)}},ir=function(){function e(e,t,n,r,i,o){void 0===n&&(n={}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=i,this.modelInstanceCreator=o,this.typeQuery=new WeakMap,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=Xn(cn(t,n,"LIST"),1),i=Xn(r[0]).slice(1);e.typeQuery.set(n,i)}))}))},e.prototype.graphqlFilterFromPredicate=function(e){if(!this.syncPredicates)return null;var t=_e.OY.getPredicates(this.syncPredicates.get(e),!1);return t?pn(t):null},e.prototype.retrievePage=function(e,t,n,r,i){return void 0===r&&(r=null),Qn(this,void 0,void 0,(function(){var o,s,a,u,c,f,l,p,h,d,v,g,y,m=this;return $n(this,(function(b){switch(b.label){case 0:return o=Xn(this.typeQuery.get(e),2),s=o[0],a=o[1],u={limit:r,nextToken:n,lastSync:t,filter:i},[4,dn({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:e.name,schema:this.schema})];case 1:return c=b.sent(),f=c.READ,l=0,p=function(){return Qn(m,void 0,void 0,(function(){var t,n,r,i;return $n(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,4]),nr.debug("Attempting sync with authMode: "+f[l]),[4,this.jitteredRetry({query:a,variables:u,opName:s,modelDefinition:e,authMode:f[l]})];case 1:return t=o.sent(),nr.debug("Sync successful with authMode: "+f[l]),[2,t];case 2:if(n=o.sent(),++l>=f.length){if(r=f[l-1],nr.debug("Sync failed with authMode: "+r,n),gn(n)||vn(n))return nr.warn("User is unauthorized to query "+s+" with auth mode "+r+". No data could be returned."),[2,{data:(i={},i[s]=tr,i)}];throw n}return nr.debug("Sync failed with authMode: "+f[l-1]+". Retrying with authMode: "+f[l]),[4,p()];case 3:return[2,o.sent()];case 4:return[2]}}))}))},[4,p()];case 2:return h=b.sent().data,d=h[s],v=d.items,g=d.nextToken,y=d.startedAt,[2,{nextToken:g,startedAt:y,items:v}]}}))}))},e.prototype.partialDataFeatureFlagEnabled=function(){try{var e=sessionStorage.getItem("datastorePartialData");return Boolean(e)}catch(t){return!1}},e.prototype.jitteredRetry=function(e){var t=e.query,n=e.variables,r=e.opName,i=e.modelDefinition,s=e.authMode;return Qn(this,void 0,void 0,(function(){var e=this;return $n(this,(function(a){switch(a.label){case 0:return[4,(0,Tn.Xm)((function(t,n){return Qn(e,void 0,void 0,(function(){var e,a,u,c,f,l=this;return $n(this,(function(p){switch(p.label){case 0:return p.trys.push([0,3,,8]),[4,yn(s,this.amplifyConfig)];case 1:return e=p.sent(),[4,In.ZP.graphql({query:t,variables:n,authMode:s,authToken:e})];case 2:return[2,p.sent()];case 3:if(a=p.sent(),u=gn(a)||vn(a))throw new Tn.V2(u);return c=Boolean(a&&a.data&&a.data[r]&&a.data[r].items),this.partialDataFeatureFlagEnabled()?c?((f=a).data[r].items=f.data[r].items.filter((function(e){return null!==e})),a.errors?[4,Promise.all(a.errors.map((function(e){return Qn(l,void 0,void 0,(function(){var t;return $n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:e.message,model:i.name,operation:r,errorType:rn(rr,e),process:fe.tv.sync,remoteModel:null,cause:e})];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),nr.error("Sync error handler failed with:",t),[3,3];case 3:return[2]}}))}))})))]:[3,5]):[3,6]:[3,7];case 4:p.sent(),o.Xb.dispatch("datastore",{event:"syncQueriesPartialSyncError",data:{errors:a.errors,modelName:i.name}}),p.label=5;case 5:return[2,f];case 6:throw a;case 7:if(a&&a.errors&&a.errors.some((function(e){return"Unauthorized"===e.errorType})))return f=a,c?f.data[r].items=f.data[r].items.filter((function(e){return null!==e})):f.data[r]=Zn(Zn({},tr),f.data[r]),nr.warn("queryError","User is unauthorized to query "+r+", some items could not be returned."),[2,f];throw a;case 8:return[2]}}))}))}),[t,n])];case 1:return[2,a.sent()]}}))}))},e.prototype.start=function(e){var t=this,n=!0,r=this.amplifyConfig,i=r.maxRecordsToSync,o=r.syncPageSize,s=new Map,a=new ae.Z((function(r){var a=Object.values(t.schema.namespaces).reduce((function(t,n){var r,i;try{for(var o=er(Array.from(n.modelTopologicalOrdering.keys())),s=o.next();!s.done;s=o.next()){var a=s.value,u=e.get(n.models[a]);t.set(n.models[a],u)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return t}),new Map),u=Array.from(a.entries()).filter((function(e){return Xn(e,1)[0].syncable})).map((function(e){var a=Xn(e,2),u=a[0],c=Xn(a[1],2),f=c[0],l=c[1];return Qn(t,void 0,void 0,(function(){var e,t,a,c,p,h,d,v,g,y=this;return $n(this,(function(m){switch(m.label){case 0:return e=!1,t=null,a=null,c=null,p=0,h=this.graphqlFilterFromPredicate(u),d=this.schema.namespaces[f].modelTopologicalOrdering.get(u.name),v=d.map((function(e){return s.get(f+"_"+e)})),g=new Promise((function(s){return Qn(y,void 0,void 0,(function(){var d,g;return $n(this,(function(y){switch(y.label){case 0:return[4,Promise.all(v)];case 1:y.sent(),y.label=2;case 2:return n?(d=Math.min(i-p,o),[4,this.retrievePage(u,l,t,d,h)]):[2];case 3:g=y.sent(),c=g.items,t=g.nextToken,a=g.startedAt,p+=c.length,e=null===t||p>=i,r.next({namespace:f,modelDefinition:u,items:c,done:e,startedAt:a,isFullSync:!l}),y.label=4;case 4:if(!e)return[3,2];y.label=5;case 5:return s(),[2]}}))}))})),s.set(f+"_"+u.name,g),[4,g];case 1:return m.sent(),[2]}}))}))}));return Promise.all(u).then((function(){r.complete()})),function(){n=!1}}));return a},e}(),or=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},sr=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ar=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},ur=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ar(arguments[t]));return e},fr=(0,i.lC)().isNode,lr=new r.k("DataStore"),pr=Symbol("sync");!function(e){e.SYNC_ENGINE_STORAGE_SUBSCRIBED="storageSubscribed",e.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED="subscriptionsEstablished",e.SYNC_ENGINE_SYNC_QUERIES_STARTED="syncQueriesStarted",e.SYNC_ENGINE_SYNC_QUERIES_READY="syncQueriesReady",e.SYNC_ENGINE_MODEL_SYNCED="modelSynced",e.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED="outboxMutationEnqueued",e.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED="outboxMutationProcessed",e.SYNC_ENGINE_OUTBOX_STATUS="outboxStatus",e.SYNC_ENGINE_NETWORK_STATUS="networkStatus",e.SYNC_ENGINE_READY="ready"}(Yn||(Yn={}));var hr=function(){function e(e,t,n,r,i,o,s,a,u,c,f){void 0===c&&(c={}),this.schema=e,this.namespaceResolver=t,this.modelClasses=n,this.userModelClasses=r,this.storage=i,this.modelInstanceCreator=o,this.syncPredicates=u,this.amplifyConfig=c,this.authModeStrategy=f,this.online=!1,this.modelSyncedStatus=new WeakMap;var l=this.modelClasses.MutationEvent;this.outbox=new Cn(this.schema,l,o,pr),this.modelMerger=new Yt(this.outbox,pr),this.syncQueriesProcessor=new ir(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,a),this.subscriptionsProcessor=new Jn(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,a),this.mutationsProcessor=new Mn(this.schema,this.storage,this.userModelClasses,this.outbox,this.modelInstanceCreator,l,this.amplifyConfig,this.authModeStrategy,a,s),this.datastoreConnectivity=new qt}return e.prototype.getModelSyncedStatus=function(e){return this.modelSyncedStatus.get(e)},e.prototype.start=function(e){var t=this;return new ae.Z((function(n){lr.log("starting sync engine...");var r=[];return or(t,void 0,void 0,(function(){var t,i,o,s=this;return sr(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.setupModels(e)];case 1:return a.sent(),[3,3];case 2:return t=a.sent(),n.error(t),[2];case 3:return i=new Promise((function(e){s.datastoreConnectivity.status().subscribe((function(t){var i=t.online;return or(s,void 0,void 0,(function(){var t,o,s,a,u,c=this;return sr(this,(function(f){switch(f.label){case 0:return!i||this.online?[3,10]:(this.online=i,n.next({type:Yn.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),o=void 0,fr?(lr.warn("Realtime disabled when in a server-side environment"),[3,6]):[3,1]);case 1:u=ar(this.subscriptionsProcessor.start(),2),t=u[0],o=u[1],f.label=2;case 2:return f.trys.push([2,4,,5]),[4,new Promise((function(e,n){var i=t.subscribe({next:function(t){t===mn.CONNECTED&&e()},error:function(e){n(e),c.disconnectionHandler()(e)}});r.push(i)}))];case 3:return f.sent(),[3,5];case 4:return s=f.sent(),n.error(s),[2];case 5:lr.log("Realtime ready"),n.next({type:Yn.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED}),f.label=6;case 6:return f.trys.push([6,8,,9]),[4,new Promise((function(e,t){var i=c.syncQueriesObservable().subscribe({next:function(t){t.type===Yn.SYNC_ENGINE_SYNC_QUERIES_READY&&e(),n.next(t)},complete:function(){e()},error:function(e){t(e)}});i&&r.push(i)}))];case 7:return f.sent(),[3,9];case 8:return a=f.sent(),n.error(a),[2];case 9:return r.push(this.mutationsProcessor.start().subscribe((function(e){var t=e.modelDefinition,r=e.model,i=e.hasMore,o=c.userModelClasses[t.name],s=c.modelInstanceCreator(o,r);c.storage.runExclusive((function(e){return c.modelMerger.merge(e,s)})),n.next({type:Yn.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED,data:{model:o,element:s}}),n.next({type:Yn.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!i}})}))),fr||r.push(o.subscribe((function(e){var t=ar(e,3),n=(t[0],t[1]),r=t[2],i=c.userModelClasses[n.name],o=c.modelInstanceCreator(i,r);c.storage.runExclusive((function(e){return c.modelMerger.merge(e,o)}))}))),[3,11];case 10:i||(this.online=i,n.next({type:Yn.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),r.forEach((function(e){return e.unsubscribe()})),r=[]),f.label=11;case 11:return e(),[2]}}))}))}))})),this.storage.observe(null,null,pr).filter((function(e){var t=e.model;return!0===s.getModelDefinition(t).syncable})).subscribe({next:function(e){var t=e.opType,r=e.model,o=e.element,a=e.condition;return or(s,void 0,void 0,(function(){var e,s,u,c;return sr(this,(function(f){switch(f.label){case 0:return e=this.schema.namespaces[this.namespaceResolver(r)],s=this.modelClasses.MutationEvent,u=ln(a),c=fn(e.relationships,this.getModelDefinition(r),t,r,o,u,s,this.modelInstanceCreator),[4,this.outbox.enqueue(this.storage,c)];case 1:return f.sent(),n.next({type:Yn.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED,data:{model:r,element:o}}),n.next({type:Yn.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!1}}),[4,i];case 2:return f.sent(),this.online&&this.mutationsProcessor.resume(),[2]}}))}))}}),n.next({type:Yn.SYNC_ENGINE_STORAGE_SUBSCRIBED}),[4,this.outbox.peek(this.storage)];case 4:return o=void 0===a.sent(),n.next({type:Yn.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:o}}),[4,i];case 5:return a.sent(),n.next({type:Yn.SYNC_ENGINE_READY}),[2]}}))})),function(){r.forEach((function(e){return e.unsubscribe()}))}}))},e.prototype.getModelsMetadataWithNextFullSync=function(e){return or(this,void 0,void 0,(function(){var t,n=this;return sr(this,(function(r){switch(r.label){case 0:return t=Map.bind,[4,this.getModelsMetadata()];case 1:return[2,new(t.apply(Map,[void 0,r.sent().map((function(t){var r=t.namespace,i=t.model,o=t.lastSync,s=t.lastFullSync,a=t.fullSyncInterval,u=(t.lastSyncPredicate,!s||s+a<e?0:o);return[n.schema.namespaces[r].models[i],[r,u]]}))]))]}}))}))},e.prototype.syncQueriesObservable=function(){var e=this;return this.online?new ae.Z((function(t){var n,r;return or(e,void 0,void 0,(function(){var e,i,o=this;return sr(this,(function(s){switch(s.label){case 0:e=function(){var e,s,a,u,c,f,l,p,h;return sr(this,(function(d){switch(d.label){case 0:return e=new WeakMap,[4,i.getModelsMetadataWithNextFullSync(Date.now())];case 1:return s=d.sent(),a=new Set(s.keys()),[4,new Promise((function(r){n=o.syncQueriesProcessor.start(s).subscribe({next:function(i){var s=i.namespace,h=i.modelDefinition,d=i.items,v=i.done,g=i.startedAt,y=i.isFullSync;return or(o,void 0,void 0,(function(){var i,o,m,b,w,S,_=this;return sr(this,(function(E){switch(E.label){case 0:return i=this.userModelClasses[h.name],e.has(i)||(e.set(i,{new:0,updated:0,deleted:0}),f=(0,Te.Iz)(),p=void 0===p?g:Math.max(p,g)),[4,this.storage.runExclusive((function(t){return or(_,void 0,void 0,(function(){var n,r,o,s,a,u,c,f,l,p,h,v,g,y,m;return sr(this,(function(b){switch(b.label){case 0:return[4,this.outbox.getModelIds(t)];case 1:n=b.sent(),r=[],o=d.filter((function(e){return!n.has(e.id)||(r.push(e),!1)})),s=[],b.label=2;case 2:b.trys.push([2,7,8,9]),a=ur(r),u=a.next(),b.label=3;case 3:return u.done?[3,6]:(c=u.value,[4,this.modelMerger.merge(t,c)]);case 4:void 0!==(f=b.sent())&&s.push([c,f]),b.label=5;case 5:return u=a.next(),[3,3];case 6:return[3,9];case 7:return l=b.sent(),y={error:l},[3,9];case 8:try{u&&!u.done&&(m=a.return)&&m.call(a)}finally{if(y)throw y.error}return[7];case 9:return h=(p=s.push).apply,v=[s],[4,this.modelMerger.mergePage(t,i,o)];case 10:return h.apply(p,v.concat([cr.apply(void 0,[b.sent()])])),g=e.get(i),s.forEach((function(e){var t=ar(e,2)[1];switch(t){case fe.HP.INSERT:g.new++;break;case fe.HP.UPDATE:g.updated++;break;case fe.HP.DELETE:g.deleted++;break;default:(0,Te.y0)(t)}})),[2]}}))}))}))];case 1:return E.sent(),v?(o=h.name,[4,this.getModelMetadata(s,o)]):[3,4];case 2:return m=E.sent(),b=m.lastFullSync,w=m.fullSyncInterval,c=w,u=void 0===u?b:Math.max(u,y?g:b),m=this.modelClasses.ModelMetadata.copyOf(m,(function(e){e.lastSync=g,e.lastFullSync=y?g:m.lastFullSync})),[4,this.storage.save(m,void 0,pr)];case 3:E.sent(),S=e.get(i),this.modelSyncedStatus.set(i,!0),t.next({type:Yn.SYNC_ENGINE_MODEL_SYNCED,data:{model:i,isFullSync:y,isDeltaSync:!y,counts:S}}),a.delete(h),0===a.size&&(l=(0,Te.Iz)()-f,r(),t.next({type:Yn.SYNC_ENGINE_SYNC_QUERIES_READY}),n.unsubscribe()),E.label=4;case 4:return[2]}}))}))},error:function(e){t.error(e)}}),t.next({type:Yn.SYNC_ENGINE_SYNC_QUERIES_STARTED,data:{models:Array.from(a).map((function(e){return e.name}))}})}))];case 2:return d.sent(),h=u+c-(p+l),lr.debug("Next fullSync in "+h/1e3+" seconds. ("+new Date(Date.now()+h)+")"),[4,new Promise((function(e){r=setTimeout(e,h)}))];case 3:return d.sent(),[2]}}))},i=this,s.label=1;case 1:return t.closed?[3,3]:[5,e()];case 2:return s.sent(),[3,1];case 3:return[2]}}))})),function(){n&&n.unsubscribe(),r&&clearTimeout(r)}})):ae.Z.of()},e.prototype.disconnectionHandler=function(){var e=this;return function(t){Ft.un.CONNECTION_CLOSED!==t&&Ft.un.TIMEOUT_DISCONNECT!==t||e.datastoreConnectivity.socketDisconnected()}},e.prototype.unsubscribeConnectivity=function(){this.datastoreConnectivity.unsubscribe()},e.prototype.setupModels=function(e){return or(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,f,l,p,h,d=this;return sr(this,(function(v){switch(v.label){case 0:t=e.fullSyncInterval,n=this.modelClasses.ModelMetadata,r=[],Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(t){if(r.push([e.name,t]),e.name===Te.xR){var n=d.userModelClasses[t.name];d.modelSyncedStatus.set(n,!1)}}))})),o=r.map((function(e){var r=ar(e,2),o=r[0],s=r[1];return or(d,void 0,void 0,(function(){var e,r,a,u,c,f,l,p,h;return sr(this,(function(d){switch(d.label){case 0:return[4,this.getModelMetadata(o,s.name)];case 1:return e=d.sent(),r=_e.OY.getPredicates(this.syncPredicates.get(s),!1),a=r?JSON.stringify(r):null,void 0!==e?[3,3]:[4,this.storage.save(this.modelInstanceCreator(n,{model:s.name,namespace:o,lastSync:null,fullSyncInterval:t,lastFullSync:null,lastSyncPredicate:a}),void 0,pr)];case 2:return f=ar.apply(void 0,[d.sent(),1]),l=ar(f[0],1),i=l[0],[3,5];case 3:return u=e.lastSyncPredicate?e.lastSyncPredicate:null,c=u!==a,[4,this.storage.save(this.modelClasses.ModelMetadata.copyOf(e,(function(e){e.fullSyncInterval=t,c&&(e.lastSync=null,e.lastFullSync=null,e.lastSyncPredicate=a)})))];case 4:p=ar.apply(void 0,[d.sent(),1]),h=ar(p[0],1),i=h[0],d.label=5;case 5:return[2,i]}}))}))})),s={},v.label=1;case 1:return v.trys.push([1,6,7,8]),[4,Promise.all(o)];case 2:a=ur.apply(void 0,[v.sent()]),u=a.next(),v.label=3;case 3:if(u.done)return[3,5];c=u.value,f=c.model,s[f]=c,v.label=4;case 4:return u=a.next(),[3,3];case 5:return[3,8];case 6:return l=v.sent(),p={error:l},[3,8];case 7:try{u&&!u.done&&(h=a.return)&&h.call(a)}finally{if(p)throw p.error}return[7];case 8:return[2,s]}}))}))},e.prototype.getModelsMetadata=function(){return or(this,void 0,void 0,(function(){var e;return sr(this,(function(t){switch(t.label){case 0:return e=this.modelClasses.ModelMetadata,[4,this.storage.query(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getModelMetadata=function(e,t){return or(this,void 0,void 0,(function(){var n,r,i;return sr(this,(function(o){switch(o.label){case 0:return n=this.modelClasses.ModelMetadata,r=_e.OY.createFromExisting(this.schema.namespaces[Te.J3].models[n.name],(function(n){return n.namespace("eq",e).model("eq",t)})),[4,this.storage.query(n,r,{page:0,limit:1})];case 1:return i=ar.apply(void 0,[o.sent(),1]),[2,i[0]]}}))}))},e.prototype.getModelDefinition=function(e){var t=this.namespaceResolver(e);return this.schema.namespaces[t].models[e.name]},e.getNamespace=function(){return{name:Te.J3,relationships:{},enums:{OperationType:{name:"OperationType",values:["CREATE","UPDATE","DELETE"]}},nonModels:{},models:{MutationEvent:{name:"MutationEvent",pluralName:"MutationEvents",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},data:{name:"data",type:"String",isRequired:!0,isArray:!1},modelId:{name:"modelId",type:"String",isRequired:!0,isArray:!1},operation:{name:"operation",type:{enum:"Operationtype"},isArray:!1,isRequired:!0},condition:{name:"condition",type:"String",isArray:!1,isRequired:!0}}},ModelMetadata:{name:"ModelMetadata",pluralName:"ModelsMetadata",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},namespace:{name:"namespace",type:"String",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},lastSync:{name:"lastSync",type:"Int",isRequired:!1,isArray:!1},lastFullSync:{name:"lastFullSync",type:"Int",isRequired:!1,isArray:!1},fullSyncInterval:{name:"fullSyncInterval",type:"Int",isRequired:!0,isArray:!1},lastSyncPredicate:{name:"lastSyncPredicate",type:"String",isRequired:!1,isArray:!1}}}}}},e}(),dr=function(){return dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dr.apply(this,arguments)},vr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},gr=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},yr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},mr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},br=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mr(arguments[t]));return e};se(!0),q();var wr,Sr,_r,Er,Ar,Cr=new r.k("DataStore"),Ir=((0,Te.c6)(Date.now()),i.JS.browserOrNode().isNode),Tr="schemaVersion",Or=new WeakMap,Pr=new WeakMap,xr=function(e){var t=Or.get(e);return wr.namespaces[t].models[e.name]},Dr=function(e){return(0,Te.hK)(e)&&Or.has(e)},kr=function(e){return Or.get(e)},Lr=new WeakSet;function Nr(e,t){return Lr.add(t),new e(t)}var Rr;function Mr(e){return"string"==typeof e}function Ur(e){var t=e.localModel,n=e.modelConstructor,r=e.remoteModel._version;return Nr(n,dr(dr({},t),{_version:r}))}function Fr(e){Cr.warn(e)}function jr(e,t){var n;switch(e){case Te.cG:n=Er[t];break;case Te.xR:n=_r[t];break;case Te.J3:n=Sr[t];break;case Te.P_:n=Ar[t];break;default:(0,Te.y0)(e)}if(Dr(n))return n;var r="Model name is not valid for namespace. modelName: "+t+", namespace: "+e;throw Cr.error(r),new Error(r)}function Br(e,t){return vr(this,void 0,void 0,(function(){var n,r,i=this;return gr(this,(function(o){switch(o.label){case 0:return n=Er.Setting,r=wr.namespaces[Te.cG].models.Setting,[4,e.runExclusive((function(e){return vr(i,void 0,void 0,(function(){var i,o;return gr(this,(function(s){switch(s.label){case 0:return[4,e.query(n,_e.OY.createFromExisting(r,(function(e){return e.key("eq",Tr)})),{page:0,limit:1})];case 1:return i=mr.apply(void 0,[s.sent(),1]),void 0===(o=i[0])||void 0===o.value?[3,4]:JSON.parse(o.value)===t?[3,3]:[4,e.clear(!1)];case 2:s.sent(),s.label=3;case 3:return[3,6];case 4:return[4,e.save(Nr(n,{key:Tr,value:JSON.stringify(t)}))];case 5:s.sent(),s.label=6;case 6:return[2]}}))}))}))];case 1:return o.sent(),[2]}}))}))}var zr=function(){function e(){var e=this;this.amplifyConfig={},this.syncPredicates=new WeakMap,this.start=function(){return vr(e,void 0,void 0,(function(){var e,t,n,r=this;return gr(this,(function(i){switch(i.label){case 0:return void 0!==this.initialized?[3,1]:(Cr.debug("Starting DataStore"),this.initialized=new Promise((function(e,t){r.initResolve=e,r.initReject=t})),[3,3]);case 1:return[4,this.initialized];case 2:return i.sent(),[2];case 3:return this.storage=new Ut(wr,kr,jr,Nr,this.storageAdapter,this.sessionId),[4,this.storage.init()];case 4:return i.sent(),[4,Br(this.storage,wr.version)];case 5:return i.sent(),(e=this.amplifyConfig.aws_appsync_graphqlEndpoint)?(Cr.debug("GraphQL endpoint available",e),t=this,[4,this.processSyncExpressions()]):[3,7];case 6:return t.syncPredicates=i.sent(),this.sync=new hr(wr,kr,Sr,_r,this.storage,Nr,this.conflictHandler,this.errorHandler,this.syncPredicates,this.amplifyConfig,this.authModeStrategy),n=1e3*this.fullSyncInterval*60,Rr=this.sync.start({fullSyncInterval:n}).subscribe({next:function(e){var t=e.type,n=e.data;t===(Ir?Yn.SYNC_ENGINE_SYNC_QUERIES_READY:Yn.SYNC_ENGINE_STORAGE_SUBSCRIBED)&&r.initResolve(),o.Xb.dispatch("datastore",{event:t,data:n})},error:function(e){Cr.warn("Sync error",e),r.initReject()}}),[3,8];case 7:Cr.warn("Data won't be synchronized. No GraphQL endpoint configured. Did you forget `Amplify.configure(awsconfig)`?",{config:this.amplifyConfig}),this.initResolve(),i.label=8;case 8:return[4,this.initialized];case 9:return i.sent(),[2]}}))}))},this.query=function(t,n,r){return vr(e,void 0,void 0,(function(){var e,i,o,s,a;return gr(this,(function(u){switch(u.label){case 0:return[4,this.start()];case 1:if(u.sent(),!Dr(t))throw e="Constructor is not for a valid model",Cr.error(e,{modelConstructor:t}),new Error(e);return"string"==typeof n&&void 0!==r&&Cr.warn("Pagination is ignored when querying by id"),i=xr(t),o=Mr(n)?_e.OY.createForId(i,n):(0,_e.i)(n)?void 0:_e.OY.createFromExisting(i,n),s=this.processPagination(i,r),Cr.debug("params ready",{modelConstructor:t,predicate:_e.OY.getPredicates(o,!1),pagination:dr(dr({},s),{sort:Se.getPredicates(s&&s.sort,!1)})}),[4,this.storage.query(t,o,s)];case 2:return a=u.sent(),[2,Mr(n)?a[0]:a]}}))}))},this.save=function(t,n){return vr(e,void 0,void 0,(function(){var e,r,i,o,s,a,u=this;return gr(this,(function(c){switch(c.label){case 0:return[4,this.start()];case 1:if(c.sent(),e=Pr.get(t),r=t?t.constructor:void 0,!Dr(r))throw i="Object is not an instance of a valid model",Cr.error(i,{model:t}),new Error(i);return o=xr(r),s=_e.OY.createFromExisting(o,n),[4,this.storage.runExclusive((function(n){return vr(u,void 0,void 0,(function(){return gr(this,(function(i){switch(i.label){case 0:return[4,n.save(t,s,void 0,e)];case 1:return i.sent(),[2,n.query(r,_e.OY.createForId(o,t.id))]}}))}))}))];case 2:return a=mr.apply(void 0,[c.sent(),1]),[2,a[0]]}}))}))},this.setConflictHandler=function(t){var n=t.DataStore;return n&&n.conflictHandler?n.conflictHandler:e.conflictHandler===Ur&&t.conflictHandler?t.conflictHandler:e.conflictHandler||Ur},this.setErrorHandler=function(t){var n=t.DataStore;return n&&n.errorHandler?n.errorHandler:e.errorHandler===Fr&&t.errorHandler?t.errorHandler:e.errorHandler||Fr},this.delete=function(t,n){return vr(e,void 0,void 0,(function(){var e,r,i,o,s,a,u,c,f;return gr(this,(function(l){switch(l.label){case 0:return[4,this.start()];case 1:if(l.sent(),!t)throw u="Model or Model Constructor required",Cr.error(u,{modelOrConstructor:t}),new Error(u);if(!Dr(t))return[3,3];if(o=t,!n)throw u="Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL",Cr.error(u,{idOrCriteria:n}),new Error(u);if("string"==typeof n)e=_e.OY.createForId(xr(o),n);else if(!(e=_e.OY.createFromExisting(xr(o),n))||!_e.OY.isValidPredicate(e))throw u="Criteria required. Do you want to delete all? Pass Predicates.ALL",Cr.error(u,{condition:e}),new Error(u);return[4,this.storage.delete(o,e)];case 2:return r=mr.apply(void 0,[l.sent(),1]),[2,r[0]];case 3:if(i=t,o=Object.getPrototypeOf(i||{}).constructor,!Dr(o))throw u="Object is not an instance of a valid model",Cr.error(u,{model:i}),new Error(u);if(s=xr(o),a=_e.OY.createForId(s,i.id),n){if("function"!=typeof n)throw u="Invalid criteria",Cr.error(u,{idOrCriteria:n}),new Error(u);e=n(a)}else e=a;return[4,this.storage.delete(i,e)];case 4:return c=mr.apply(void 0,[l.sent(),1]),f=mr(c[0],1),[2,f[0]]}}))}))},this.observe=function(t,n){var r,i=t&&Dr(t)?t:void 0;if(t&&void 0===i){var o=t,s=o&&Object.getPrototypeOf(o).constructor;if(Dr(s))return n&&Cr.warn("idOrCriteria is ignored when using a model instance",{model:o,idOrCriteria:n}),e.observe(s,o.id);var a="The model is not an instance of a PersistentModelConstructor";throw Cr.error(a,{model:o}),new Error(a)}if(void 0!==n&&void 0===i){a="Cannot provide criteria without a modelConstructor";throw Cr.error(a,n),new Error(a)}if(i&&!Dr(i)){a="Constructor is not for a valid model";throw Cr.error(a,{modelConstructor:i}),new Error(a)}return r="string"==typeof n?_e.OY.createForId(xr(i),n):i&&_e.OY.createFromExisting(xr(i),n),new ae.Z((function(t){var n;return vr(e,void 0,void 0,(function(){return gr(this,(function(e){switch(e.label){case 0:return[4,this.start()];case 1:return e.sent(),n=this.storage.observe(i,r).filter((function(e){var t=e.model;return kr(t)===Te.xR})).map((function(e){var t=e.opType,n=e.model,r=e.condition,i=e.element;return{opType:t,element:e.savedElement||i,model:n,condition:r}})).subscribe(t),[2]}}))})),function(){n&&n.unsubscribe()}}))},this.observeQuery=function(t,n,r){return new ae.Z((function(i){var s,a=new Map,u=new Map,c=[],f=function(){var e=d();v(e)},l=new Te.Dm({callback:f,errorHandler:i.error,maxInterval:2e3}),p=(r||{}).sort,h=p?{sort:p}:void 0;vr(e,void 0,void 0,(function(){var e,r=this;return gr(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.query(t,n,h)];case 1:return o.sent().forEach((function(e){return a.set(e.id,e)})),s=this.observe(t,n).subscribe((function(e){var t,n,i=e.element,o=e.model;"DELETE"===e.opType?c.push(i.id):u.set(i.id,i);var s=null!==(n=null===(t=r.sync)||void 0===t?void 0:t.getModelSyncedStatus(o))&&void 0!==n&&n;(u.size-c.length>=r.syncPageSize||s)&&l.resolve(),l.start()})),f(),[3,3];case 2:return e=o.sent(),i.error(e),[3,3];case 3:return[2]}}))}));var d=function(){var n,i,o=null!==(i=null===(n=e.sync)||void 0===n?void 0:n.getModelSyncedStatus(t))&&void 0!==i&&i,s=br(Array.from(a.values()),Array.from(u.values()));return(null==r?void 0:r.sort)&&g(s),a.clear(),s.forEach((function(e){return a.set(e.id,e)})),c.forEach((function(e){return a.delete(e)})),{items:Array.from(a.values()),isSynced:o}},v=function(e){i.next(e),u.clear(),c=[]},g=function(n){var i=xr(t),o=e.processPagination(i,r),s=Se.getPredicates(o.sort);if(s.length){var a=(0,Te.z8)(s);n.sort(a)}};return o.Xb.listen("datastore",(function e(n){var r,i=n.payload,s=i.event,a=i.data;s===Yn.SYNC_ENGINE_MODEL_SYNCED&&(null===(r=null==a?void 0:a.model)||void 0===r?void 0:r.name)===t.name&&(f(),o.Xb.remove("api",e))})),function(){s&&s.unsubscribe()}}))},this.configure=function(t){void 0===t&&(t={});var n=t.DataStore,r=t.authModeStrategyType,i=(t.conflictHandler,t.errorHandler,t.maxRecordsToSync),o=t.syncPageSize,s=t.fullSyncInterval,a=t.syncExpressions,u=t.authProviders,c=t.storageAdapter,f=yr(t,["DataStore","authModeStrategyType","conflictHandler","errorHandler","maxRecordsToSync","syncPageSize","fullSyncInterval","syncExpressions","authProviders","storageAdapter"]);switch(e.amplifyConfig=dr(dr({},f),e.amplifyConfig),e.conflictHandler=e.setConflictHandler(t),e.errorHandler=e.setErrorHandler(t),n&&n.authModeStrategyType||r||fe.sE.DEFAULT){case fe.sE.MULTI_AUTH:e.authModeStrategy=be;break;case fe.sE.DEFAULT:default:e.authModeStrategy=we}e.amplifyConfig.authProviders=n&&n.authProviders||u,e.syncExpressions=n&&n.syncExpressions||a||e.syncExpressions,e.maxRecordsToSync=n&&n.maxRecordsToSync||i||e.maxRecordsToSync||1e4,e.amplifyConfig.maxRecordsToSync=e.maxRecordsToSync,e.syncPageSize=n&&n.syncPageSize||o||e.syncPageSize||1e3,e.amplifyConfig.syncPageSize=e.syncPageSize,e.fullSyncInterval=n&&n.fullSyncInterval||s||e.fullSyncInterval||1440,e.storageAdapter=n&&n.storageAdapter||c||e.storageAdapter||void 0,e.sessionId=e.retrieveSessionId()},this.clear=function(){return vr(this,void 0,void 0,(function(){return gr(this,(function(e){switch(e.label){case 0:return void 0!==this.storage?[3,2]:(this.storage=new Ut(wr,kr,jr,Nr,this.storageAdapter,this.sessionId),[4,this.storage.init()]);case 1:e.sent(),e.label=2;case 2:return Rr&&!Rr.closed&&Rr.unsubscribe(),[4,this.storage.clear()];case 3:return e.sent(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.storage=void 0,this.sync=void 0,this.syncPredicates=new WeakMap,[2]}}))}))},this.stop=function(){return vr(this,void 0,void 0,(function(){return gr(this,(function(e){switch(e.label){case 0:return void 0===this.initialized?[3,2]:[4,this.start()];case 1:e.sent(),e.label=2;case 2:return Rr&&!Rr.closed&&Rr.unsubscribe(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.sync=void 0,[2]}}))}))}}return e.prototype.getModuleName=function(){return"DataStore"},e.prototype.processPagination=function(e,t){var n,r=t||{},i=r.limit,o=r.page,s=r.sort;if(void 0!==i||void 0!==o||void 0!==s){if(void 0!==o&&void 0===i)throw new Error("Limit is required when requesting a page");if(void 0!==o){if("number"!=typeof o)throw new Error("Page should be a number");if(o<0)throw new Error("Page can't be negative")}if(void 0!==i){if("number"!=typeof i)throw new Error("Limit should be a number");if(i<0)throw new Error("Limit can't be negative")}return s&&(n=Se.createFromExisting(e,t.sort)),{limit:i,page:o,sort:n}}},e.prototype.processSyncExpressions=function(){return vr(this,void 0,void 0,(function(){var e,t=this;return gr(this,(function(n){switch(n.label){case 0:return this.syncExpressions&&this.syncExpressions.length?[4,Promise.all(this.syncExpressions.map((function(e){return vr(t,void 0,void 0,(function(){var t,n,r,i,o,s;return gr(this,(function(a){switch(a.label){case 0:return[4,e];case 1:return t=a.sent(),n=t.modelConstructor,r=t.conditionProducer,i=xr(n),[4,this.unwrapPromise(r)];case 2:return o=a.sent(),(0,_e.i)(o)?[2,[i,null]]:(s=this.createFromCondition(i,o),[2,[i,s]])}}))}))})))]:[2,new WeakMap];case 1:return e=n.sent(),[2,this.weakMapFromEntries(e)]}}))}))},e.prototype.createFromCondition=function(e,t){try{return _e.OY.createFromExisting(e,t)}catch(n){throw Cr.error("Error creating Sync Predicate"),n}},e.prototype.unwrapPromise=function(e){return vr(this,void 0,void 0,(function(){var t;return gr(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()];case 2:if((t=n.sent())instanceof TypeError)return[2,e];throw t;case 3:return[2]}}))}))},e.prototype.weakMapFromEntries=function(e){return e.reduce((function(e,t){var n=mr(t,2),r=n[0],i=n[1];if(e.has(r)){var o=r.name;return Cr.warn("You can only utilize one Sync Expression per model.\n          Subsequent sync expressions for the "+o+" model will be ignored."),e}return i&&e.set(r,i),e}),new WeakMap)},e.prototype.retrieveSessionId=function(){try{var e=sessionStorage.getItem("datastoreSessionId");if(e){var t=this.amplifyConfig.aws_appsync_graphqlEndpoint.split("/")[2];return e+"-"+mr(t.split("."),1)[0]}}catch(n){return}},e}(),qr=new zr;s.dQ.register(qr)},98423:function(e,t,n){"use strict";n.d(t,{i:function(){return o},gA:function(){return s},OY:function(){return a}});var r=n(64808),i=new WeakSet;function o(e){return i.has(e)}Symbol("A predicate that matches all records");var s=function(){function e(){}return Object.defineProperty(e,"ALL",{get:function(){var e=function(e){return e};return i.add(e),e},enumerable:!0,configurable:!0}),e}(),a=function(){function e(){}return e.createPredicateBuilder=function(t){var n,i=t.name,o=new Set(Object.keys(t.fields)),s=new Proxy({},n={get:function(t,s,a){var u=s;switch(u){case"and":case"or":case"not":return function(t){var r={type:u,predicates:[]},i=new Proxy({},n);return e.predicateGroupsMap.set(i,r),t(i),e.predicateGroupsMap.get(a).predicates.push(r),a};default:(0,r.y0)(u,!1)}var c=s;if(!o.has(c))throw new Error("Invalid field for model. field: "+c+", model: "+i);return function(t,n){return e.predicateGroupsMap.get(a).predicates.push({field:c,operator:t,operand:n}),a}}});return e.predicateGroupsMap.set(s,{type:"and",predicates:[]}),s},e.isValidPredicate=function(t){return e.predicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.predicateGroupsMap.get(t)},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.createForId=function(t,n){return e.createPredicateBuilder(t).id("eq",n)},e.predicateGroupsMap=new WeakMap,e}()},21504:function(e,t,n){"use strict";n.d(t,{aQ:function(){return v},Fr:function(){return g},Yq:function(){return r},j6:function(){return i},BV:function(){return y},I7:function(){return m},$v:function(){return b},g5:function(){return w},HP:function(){return s},w5:function(){return S},G9:function(){return _},fI:function(){return a},Sr:function(){return u},sE:function(){return c},Z1:function(){return f},S6:function(){return E},tv:function(){return l},K5:function(){return C},V9:function(){return A}});var r,i,o,s,a,u,c,f,l,p=n(64808),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function v(e){return e&&void 0!==e.pluralName}function g(e){return e&&e.targetName}function y(e){return e&&void 0!==o[e]}function m(e){return!(!e||!e.model)}function b(e){return!(!e||!e.nonModel)}function w(e){return!(!e||!e.enum)}function S(e){return e&&void 0!==e.field}function _(e){return e&&void 0!==e.type}function E(e,t){return h(this,void 0,void 0,(function(){return d(this,(function(n){return[2,{modelConstructor:e,conditionProducer:t}]}))}))}!function(e){e.CUSTOM="custom",e.OWNER="owner",e.GROUPS="groups",e.PRIVATE="private",e.PUBLIC="public"}(r||(r={})),function(e){e.FUNCTION="function",e.USER_POOLS="userPools",e.OIDC="oidc",e.IAM="iam",e.API_KEY="apiKey"}(i||(i={})),function(e){e[e.ID=0]="ID",e[e.String=1]="String",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Boolean=4]="Boolean",e[e.AWSDate=5]="AWSDate",e[e.AWSTime=6]="AWSTime",e[e.AWSDateTime=7]="AWSDateTime",e[e.AWSTimestamp=8]="AWSTimestamp",e[e.AWSEmail=9]="AWSEmail",e[e.AWSJSON=10]="AWSJSON",e[e.AWSURL=11]="AWSURL",e[e.AWSPhone=12]="AWSPhone",e[e.AWSIPAddress=13]="AWSIPAddress"}(o||(o={})),function(e){e.getJSType=function(e){switch(e){case"Boolean":return"boolean";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"string";case"Int":case"Float":case"AWSTimestamp":return"number";case"AWSJSON":return"object";default:(0,p.y0)(e)}},e.getValidationFunction=function(e){switch(e){case"AWSDate":return p.pP;case"AWSTime":return p.Ro;case"AWSDateTime":return p.wp;case"AWSTimestamp":return p.D7;case"AWSEmail":return p.M9;case"AWSJSON":return p.nd;case"AWSURL":return p.Zu;case"AWSPhone":return p.iA;case"AWSIPAddress":return p.mY;default:return}}}(o||(o={})),function(e){e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(s||(s={})),function(e){e[e.FIRST=0]="FIRST",e[e.LAST=1]="LAST"}(a||(a={})),function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"}(u||(u={})),function(e){e.DEFAULT="DEFAULT",e.MULTI_AUTH="MULTI_AUTH"}(c||(c={})),function(e){e.CREATE="CREATE",e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE"}(f||(f={})),function(e){e.sync="sync",e.mutate="mutate",e.subscribe="subscribe"}(l||(l={}));var A,C=Symbol("DISCARD");!function(e){e.LIMIT="LIMIT",e.TIMER="TIMER"}(A||(A={}))},64808:function(e,t,n){"use strict";n.d(t,{cG:function(){return N},Dm:function(){return ee},P_:function(){return U},J3:function(){return M},xR:function(){return R},y0:function(){return E},rw:function(){return D},NA:function(){return k},Iz:function(){return z},pP:function(){return K},wp:function(){return H},M9:function(){return Y},mY:function(){return $},nd:function(){return J},iA:function(){return Q},Ro:function(){return V},D7:function(){return W},Zu:function(){return Z},hK:function(){return T},D0:function(){return F},c6:function(){return B},z8:function(){return q},jl:function(){return x},u8:function(){return C},Vg:function(){return G}});n(38559);var r=n(41422);function i(e){var t=new Error(e);return t.source="ulid",t}var o="0123456789ABCDEFGHJKMNPQRSTVWXYZ",s=o.length,a=Math.pow(2,48)-1;function u(e,t,n){return t>e.length-1?e:e.substr(0,t)+n+e.substr(t+1)}function c(e){var t=Math.floor(e()*s);return t===s&&(t=s-1),o.charAt(t)}function f(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>a)throw i("cannot encode time greater than "+a);if(e<0)throw i("time must be positive");if(!1===Number.isInteger(e))throw i("time must be an integer");for(var n=void 0,r="";t>0;t--)r=o.charAt(n=e%s)+r,e=(e-n)/s;return r}function l(e,t){for(var n="";e>0;e--)n=c(t)+n;return n}function p(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var r=t&&(t.crypto||t.msCrypto);if(r)return function(){var e=new Uint8Array(1);return r.getRandomValues(e),e[0]/255};try{var o=n(11566);return function(){return o.randomBytes(1).readUInt8()/255}}catch(s){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(s){}return function(){return Math.random()}}throw i("secure crypto unusable, insecure Math.random not allowed")}function h(e){e||(e=p());var t=0,n=void 0;return function(r){if(isNaN(r)&&(r=Date.now()),r<=t){var a=n=function(e){for(var t=void 0,n=e.length,r=void 0,a=void 0,c=s-1;!t&&n-- >=0;){if(r=e[n],-1===(a=o.indexOf(r)))throw i("incorrectly encoded string");a!==c?t=u(e,n,o[a+1]):e=u(e,n,o[0])}if("string"==typeof t)return t;throw i("cannot increment this string")}(n);return f(t,10)+a}t=r;var c=n=l(16,e);return f(r,10)+c}}d||(d=p());var d,v=n(87904),g=n(21504),y=n(77534),m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},w=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},S=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e},_=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(e,t){if(void 0===t&&(t=!0),t)throw new Error("Invalid "+e)},A=function(e){return void 0===e||null==e},C=function e(t,n,r){var i,o=!1;if(0===r.length)return!0;switch(n){case"not":i="every",o=!0;break;case"and":i="every";break;case"or":i="some";break;default:E(n)}var s=r[i]((function(n){if((0,g.w5)(n)){var r=n.field,i=n.operator,o=n.operand,s=t[r];return I(s,i,o)}if((0,g.G9)(n)){var a=n.type,u=n.predicates;return e(t,a,u)}throw new Error("Not a predicate or group")}));return o?!s:s},I=function(e,t,n){switch(t){case"ne":return e!==n;case"eq":return e===n;case"le":return e<=n;case"lt":return e<n;case"ge":return e>=n;case"gt":return e>n;case"between":var r=w(n,2),i=r[0],o=r[1];return e>=i&&e<=o;case"beginsWith":return!A(e)&&e.startsWith(n);case"contains":return!A(e)&&e.indexOf(n)>-1;case"notContains":return A(e)||-1===e.indexOf(n);default:return E(t,!1),!1}},T=function(e){return e&&"function"==typeof e.copyOf};new WeakSet;var O,P=new WeakMap,x=function(e,t,n,r,i){var o=n.relationships,s=i(n.name,e),a=o[e],u=[],c=s.copyOf(t,(function(e){a.relationTypes.forEach((function(o){var s=i(n.name,o.modelName);switch(o.relationType){case"HAS_ONE":if(t[o.fieldName]){var a=void 0;try{a=r(s,t[o.fieldName])}catch(c){console.log(c)}u.push({modelName:o.modelName,item:t[o.fieldName],instance:a}),o.targetName?(e[o.targetName]=e[o.fieldName].id,delete e[o.fieldName]):e[o.fieldName]=e[o.fieldName].id}break;case"BELONGS_TO":if(t[o.fieldName]){a=void 0;try{a=r(s,t[o.fieldName])}catch(c){}e[o.fieldName]._deleted||u.push({modelName:o.modelName,item:t[o.fieldName],instance:a})}e[o.fieldName]&&(e[o.targetName]=e[o.fieldName].id,delete e[o.fieldName]);break;case"HAS_MANY":break;default:E(o.relationType)}}))}));u.unshift({modelName:e,item:c,instance:c}),P.has(n)||P.set(n,Array.from(n.modelTopologicalOrdering.keys()));var f=P.get(n);return u.sort((function(e,t){return f.indexOf(e.modelName)-f.indexOf(t.modelName)})),u},D=function(e,t){var n="";return e.some((function(e){e.modelName===t&&(n=e.targetName)})),n},k=function(e,t){return e.find((function(e){return e===t}))};!function(e){e.DATASTORE="datastore",e.USER="user",e.SYNC="sync",e.STORAGE="storage"}(O||(O={}));var L,N=O.DATASTORE,R=O.USER,M=O.SYNC,U=O.STORAGE,F=function(){return new Promise((function(e){var t,n=(0,v.v4)(),r=function(){L=!1,e(!0)},i=function(){return m(void 0,void 0,void 0,(function(){return b(this,(function(r){switch(r.label){case 0:return t&&t.result&&"function"==typeof t.result.close?[4,t.result.close()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,indexedDB.deleteDatabase(n)];case 3:return r.sent(),L=!0,[2,e(!1)]}}))}))};return!0===L?i():!1===L||null===indexedDB?r():((t=indexedDB.open(n)).onerror=r,void(t.onsuccess=i))}))},j=function(){return(e=1,r.lW.from((new y.Ic).random(e).toString(),"hex")).readUInt8(0)/255;var e};function B(e){var t=h(j);return function(){return t(e)}}function z(){return"undefined"!=typeof performance&&performance&&"function"==typeof performance.now?0|performance.now():Date.now()}function q(e){return function(t,n){var r,i;try{for(var o=_(e),s=o.next();!s.done;s=o.next()){var a=s.value,u=a.field,c=a.sortDirection===g.Sr.ASCENDING?1:-1;if(t[u]<n[u])return-1*c;if(t[u]>n[u])return 1*c}}catch(f){r={error:f}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return 0}}function G(e,t,n){var r,i;void 0===n&&(n=!1);var o,s,a=e,u=t;if(a instanceof Object&&!(u instanceof Object)||!(a instanceof Object)&&u instanceof Object)return!1;if(!(a instanceof Object))return!(!n||(o=a,s=u,null!=o||null!=s))||a===u;if(Array.isArray(a)&&!Array.isArray(u)||Array.isArray(u)&&!Array.isArray(a))return!1;a instanceof Set&&u instanceof Set&&(a=S(a),u=S(u)),a instanceof Map&&u instanceof Map&&(a=Object.fromEntries(a),u=Object.fromEntries(u));var c=Object.keys(a),f=Object.keys(u);if(c.length!==f.length&&(!n||Array.isArray(a)))return!1;var l=c.length>=f.length?c:f;try{for(var p=_(l),h=p.next();!h.done;h=p.next()){var d=h.value;if(!G(a[d],u[d],n))return!1}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return!0}var K=function(e){return!!/^\d{4}-\d{2}-\d{2}(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},V=function(e){return!!/^\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},H=function(e){return!!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},W=function(e){return!!/^\d+$/.exec(String(e))},Y=function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.exec(e)},J=function(e){try{return JSON.parse(e),!0}catch(t){return!1}},Z=function(e){try{return!!new URL(e)}catch(t){return!1}},Q=function(e){return!!/^\+?\d[\d\s-]+$/.exec(e)},$=function(e){return!!/((^((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))$)|(^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$))$/.exec(e)},X=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},ee=function(){function e(e){this.limitPromise=new X,this.raceInFlight=!1,this.callback=function(){},this.defaultErrorHandler=function(e){throw void 0===e&&(e="DeferredCallbackResolver error"),new Error(e)},this.callback=e.callback,this.errorHandler=e.errorHandler||this.defaultErrorHandler,this.maxInterval=e.maxInterval||2e3}return e.prototype.startTimer=function(){var e=this;this.timerPromise=new Promise((function(t,n){e.timer=setTimeout((function(){t(g.V9.TIMER)}),e.maxInterval)}))},e.prototype.racePromises=function(){return m(this,void 0,void 0,(function(){var e,t;return b(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),this.raceInFlight=!0,this.startTimer(),[4,Promise.race([this.timerPromise,this.limitPromise.promise])];case 1:return e=n.sent(),this.callback(),[3,4];case 2:return t=n.sent(),this.errorHandler(t),[3,4];case 3:return this.clear(),this.raceInFlight=!1,this.limitPromise=new X,[2,e];case 4:return[2]}}))}))},e.prototype.start=function(){this.raceInFlight||this.racePromises()},e.prototype.clear=function(){clearTimeout(this.timer)},e.prototype.resolve=function(){this.limitPromise.resolve(g.V9.LIMIT)},e}()},87904:function(e,t,n){var r=n(60974),i=n(62084),o=i;o.v1=r,o.v4=i,e.exports=o},90923:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},66182:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},60974:function(e,t,n){var r,i,o=n(66182),s=n(90923),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,f=t||[],l=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==p){var h=o();null==l&&(l=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=i=16383&(h[6]<<8|h[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,g=d-a+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||d>a)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,u=v,i=p;var y=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;f[c++]=y>>>24&255,f[c++]=y>>>16&255,f[c++]=y>>>8&255,f[c++]=255&y;var m=d/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=p>>>8|128,f[c++]=255&p;for(var b=0;b<6;++b)f[c+b]=l[b];return t||s(f)}},62084:function(e,t,n){var r=n(66182),i=n(90923);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},55285:function(e,t,n){"use strict";n.d(t,{l:function(){return Fi}});var r,i=n(55218),o=n(23719),s=n(75557),a=n(45967),u=n.n(a),c=n(1648),f=n(17672),l=n(84969);!function(e){e.ENV="env",e.CONFIG="shared config entry"}(r||(r={}));var p=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},h=function(e){var t,n=function(e){if("boolean"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}(e.useDualstackEndpoint),r=e.endpoint,i=e.useFipsEndpoint;return(0,l.pi)((0,l.pi)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:r?p((0,l.pi)((0,l.pi)({},e),{endpoint:r})):function(){return function(e){return(0,l.mG)(void 0,void 0,void 0,(function(){var t,n,r,i,o,s,a;return(0,l.Jh)(this,(function(u){switch(u.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=u.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return i=u.sent(),[4,e.useFipsEndpoint()];case 3:return o=u.sent(),[4,e.regionInfoProvider(r,{useDualstackEndpoint:i,useFipsEndpoint:o})];case 4:if(!(s=(null!==(a=u.sent())&&void 0!==a?a:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+s)]}}))}))}((0,l.pi)((0,l.pi)({},e),{useDualstackEndpoint:n,useFipsEndpoint:i}))},isCustomEndpoint:!!r,useDualstackEndpoint:n})},d=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},v=function(e){return d(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},g=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,i=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&i===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},y=function(e,t){var n,r,i,o,s,a,u=t.useFipsEndpoint,c=void 0!==u&&u,f=t.useDualstackEndpoint,p=void 0!==f&&f,h=t.signingService,d=t.regionHash,v=t.partitionHash,y=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:v}),m=e in d?e:null!==(r=null===(n=v[y])||void 0===n?void 0:n.endpoint)&&void 0!==r?r:e,b={useFipsEndpoint:c,useDualstackEndpoint:p},w=function(e,t){var n=t.regionHostname,r=t.partitionHostname;return n||(r?r.replace("{region}",e):void 0)}(m,{regionHostname:g(null===(i=d[m])||void 0===i?void 0:i.variants,b),partitionHostname:g(null===(o=v[y])||void 0===o?void 0:o.variants,b)});if(void 0===w)throw new Error("Endpoint resolution failed for: "+{resolvedRegion:m,useFipsEndpoint:c,useDualstackEndpoint:p});var S=function(e,t){var n=t.signingRegion,r=t.regionRegex,i=t.useFipsEndpoint;if(n)return n;if(i){var o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}}(w,{signingRegion:null===(s=d[m])||void 0===s?void 0:s.signingRegion,regionRegex:v[y].regionRegex,useFipsEndpoint:c});return(0,l.pi)((0,l.pi)({partition:y,signingService:h,hostname:w},S&&{signingRegion:S}),(null===(a=d[m])||void 0===a?void 0:a.signingService)&&{signingService:d[m].signingService})},m=n(92880),b="content-length";var w={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},S=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,l.mG)(t,void 0,void 0,(function(){var t,i,o,s,a;return(0,l.Jh)(this,(function(u){return t=r.request,m.aW.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(b)&&void 0!==(s=e(i))&&(t.headers=(0,l.pi)((0,l.pi)({},t.headers),((a={})["content-length"]=String(s),a)))),[2,n((0,l.pi)((0,l.pi)({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),w)}}};var _,E={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},A=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,l.mG)(void 0,void 0,void 0,(function(){var r,i;return(0,l.Jh)(this,(function(o){return m.aW.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),E)}}},C={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},I=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return(0,l.mG)(void 0,void 0,void 0,(function(){var r,i,o,s,a,u,c,f,p;return(0,l.Jh)(this,(function(h){switch(h.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,s=t.logger,a=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=h.sent(),s?("function"==typeof s.info&&(c=u.output,f=c.$metadata,p=(0,l._T)(c,["$metadata"]),s.info({clientName:r,commandName:i,input:o(n.input),output:a(p),metadata:f})),[2,u]):[2,u]}}))}))}}),C)}}};!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(_||(_={}));var T,O=_.STANDARD,P=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],x=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],D=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],k=[500,502,503,504],L=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||x.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},N=function(){function e(e){var t,n,r,i,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null==e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null==e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(i=null==e?void 0:e.scaleConstant)&&void 0!==i?i:.4,this.smooth=null!==(o=null==e?void 0:e.smooth)&&void 0!==o?o:.8;var s=this.getCurrentTimeInSeconds();this.lastThrottleTime=s,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return(0,l.mG)(this,void 0,void 0,(function(){return(0,l.Jh)(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return(0,l.mG)(this,void 0,void 0,(function(){var t;return(0,l.Jh)(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),L(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),R=new Uint8Array(16);function M(){if(!T&&!(T="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return T(R)}var U=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var F=function(e){return"string"==typeof e&&U.test(e)},j=[],B=0;B<256;++B)j.push((B+256).toString(16).substr(1));var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(j[e[t+0]]+j[e[t+1]]+j[e[t+2]]+j[e[t+3]]+"-"+j[e[t+4]]+j[e[t+5]]+"-"+j[e[t+6]]+j[e[t+7]]+"-"+j[e[t+8]]+j[e[t+9]]+"-"+j[e[t+10]]+j[e[t+11]]+j[e[t+12]]+j[e[t+13]]+j[e[t+14]]+j[e[t+15]]).toLowerCase();if(!F(n))throw TypeError("Stringified UUID is invalid");return n};var q=function(e,t,n){var r=(e=e||{}).random||(e.rng||M)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return z(r)},G=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},K=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return P.includes(e.name)}(e)||L(e)||function(e){var t;return D.includes(e.name)||k.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},V=function(){function e(e,t){var n,r,i;this.maxAttemptsProvider=e,this.mode=_.STANDARD,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:K,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:G,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:function(e,t){var n,r,i,o=e,s=null!==(n=null==t?void 0:t.noRetryIncrement)&&void 0!==n?n:1,a=null!==(r=null==t?void 0:t.retryCost)&&void 0!==r?r:5,u=null!==(i=null==t?void 0:t.timeoutRetryCost)&&void 0!==i?i:10,c=e,f=function(e){return"TimeoutError"===e.name?u:a},l=function(e){return f(e)<=c};return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:function(e){if(!l(e))throw new Error("No retry token available");var t=f(e);return c-=t,t},releaseRetryTokens:function(e){c+=null!=e?e:s,c=Math.min(c,o)}})}(500)}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return(0,l.mG)(this,void 0,void 0,(function(){var e;return(0,l.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return(0,l.mG)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,f;return(0,l.Jh)(this,(function(p){switch(p.label){case 0:return i=0,o=0,[4,this.getMaxAttempts()];case 1:s=p.sent(),a=t.request,m.aW.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=q()),u=function(){var u,f,p,h,d,v;return(0,l.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,4,,7]),m.aW.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(i+1)+"; max="+s),(null==n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:l.sent(),l.label=2;case 2:return[4,e(t)];case 3:return u=l.sent(),f=u.response,p=u.output,(null==n?void 0:n.afterRequest)&&n.afterRequest(f),c.retryQuota.releaseRetryTokens(r),p.$metadata.attempts=i+1,p.$metadata.totalRetryDelay=o,[2,{value:{response:f,output:p}}];case 4:return h=l.sent(),d=H(h),i++,c.shouldRetry(d,i,s)?(r=c.retryQuota.retrieveRetryTokens(d),v=c.delayDecider(L(d)?500:100,i),o+=v,[4,new Promise((function(e){return setTimeout(e,v)}))]):[3,6];case 5:return l.sent(),[2,"continue"];case 6:throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=i,d.$metadata.totalRetryDelay=o,d;case 7:return[2]}}))},c=this,p.label=2;case 2:return[5,u()];case 3:return"object"==typeof(f=p.sent())?[2,f.value]:[3,2];case 4:return[2]}}))}))},e}(),H=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for "+e)},W=function(e){function t(t,n){var r=this,i=null!=n?n:{},o=i.rateLimiter,s=(0,l._T)(i,["rateLimiter"]);return(r=e.call(this,t,s)||this).rateLimiter=null!=o?o:new N,r.mode=_.ADAPTIVE,r}return(0,l.ZT)(t,e),t.prototype.retry=function(t,n){return(0,l.mG)(this,void 0,void 0,(function(){var r=this;return(0,l.Jh)(this,(function(i){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return(0,l.mG)(r,void 0,void 0,(function(){return(0,l.Jh)(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){r.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}(V),Y=function(e){return(0,l.mG)(void 0,void 0,void 0,(function(){return(0,l.Jh)(this,(function(t){switch(t.label){case 0:return"string"==typeof e?[2,e]:[4,e()];case 1:return[2,t.sent()]}}))}))},J=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Z={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Q=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return(0,l.mG)(void 0,void 0,void 0,(function(){var i;return(0,l.Jh)(this,(function(o){switch(o.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(i=o.sent())?void 0:i.mode)&&(n.userAgent=(0,l.ev)((0,l.ev)([],(0,l.CR)(n.userAgent||[])),[["cfg/retry-mode",i.mode]])),[2,i.retry(t,r)]}}))}))}}}(e),Z)}}};(function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}(0,l.ZT)(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.defineProperty(e,"tryNextLink",{value:t,configurable:!1,enumerable:!1,writable:!1}),e}})(Error),function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r.name="CredentialsProviderError",r}(0,l.ZT)(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.defineProperty(e,"tryNextLink",{value:t,configurable:!1,enumerable:!1,writable:!1}),e}}(Error);for(var $={},X={},ee=0;ee<256;ee++){var te=ee.toString(16).toLowerCase();1===te.length&&(te="0"+te),$[ee]=te,X[te]=ee}function ne(e){for(var t="",n=0;n<e.byteLength;n++)t+=$[e[n]];return t}var re="X-Amz-Date",ie="X-Amz-Signature",oe="X-Amz-Security-Token",se="authorization",ae=re.toLowerCase(),ue=[se,ae,"date"],ce=ie.toLowerCase(),fe="x-amz-content-sha256",le=oe.toLowerCase(),pe={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},he=/^proxy-/,de=/^sec-/,ve="AWS4-HMAC-SHA256",ge="AWS4-HMAC-SHA256-PAYLOAD",ye="aws4_request",me={},be=[],we=function(e,t,n){return e+"/"+t+"/"+n+"/"+ye},Se=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},_e=function(e,t,n){var r,i,o=e.headers,s={};try{for(var a=(0,l.XA)(Object.keys(o).sort()),u=a.next();!u.done;u=a.next()){var c=u.value,f=c.toLowerCase();(f in pe||(null==t?void 0:t.has(f))||he.test(f)||de.test(f))&&(!n||n&&!n.has(f))||(s[f]=o[c].trim().replace(/\s+/g," "))}}catch(p){r={error:p}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s},Ee=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Ae)},Ae=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},Ce=function(e,t){var n=e.headers,r=e.body;return(0,l.mG)(void 0,void 0,void 0,(function(){var e,i,o,s,a,u,c;return(0,l.Jh)(this,(function(f){switch(f.label){case 0:try{for(e=(0,l.XA)(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===fe)return[2,n[o]]}catch(h){u={error:h}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(p=r,"function"==typeof ArrayBuffer&&p instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(p))?((s=new t).update(r),a=ne,[4,s.digest()]):[3,3];case 2:return[2,a.apply(void 0,[f.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var p}))}))},Ie=function(e){var t=e.headers,n=e.query,r=(0,l._T)(e,["headers","query"]);return(0,l.pi)((0,l.pi)({},r),{headers:(0,l.pi)({},t),query:n?Te(n):void 0})},Te=function(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return(0,l.pi)((0,l.pi)({},t),((r={})[n]=Array.isArray(i)?(0,l.ev)([],(0,l.CR)(i)):i,r))}),{})},Oe=function(e){var t,n;e="function"==typeof e.clone?e.clone():Ie(e);try{for(var r=(0,l.XA)(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;ue.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e},Pe=function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e},xe=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=i,this.sha256=o,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}(r),this.credentialProvider=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),(0,l.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I;return(0,l.Jh)(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,s=t.unsignableHeaders,a=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,f=t.signingService,[4,this.credentialProvider()];case 1:return p=T.sent(),null==c?[3,2]:(d=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:d=T.sent(),T.label=4;case 4:return h=d,v=De(r),g=v.longDate,y=v.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=we(y,h,null!=f?f:this.service),b=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():Ie(e),s=o.headers,a=o.query,u=void 0===a?{}:a;try{for(var c=(0,l.XA)(Object.keys(s)),f=c.next();!f.done;f=c.next()){var p=f.value,h=p.toLowerCase();"x-amz-"!==h.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(h))||(u[p]=s[p],delete s[p])}}catch(d){n={error:d}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return(0,l.pi)((0,l.pi)({},e),{headers:s,query:u})}(Oe(e),{unhoistableHeaders:a}),p.sessionToken&&(b.query[oe]=p.sessionToken),b.query["X-Amz-Algorithm"]=ve,b.query["X-Amz-Credential"]=p.accessKeyId+"/"+m,b.query["X-Amz-Date"]=g,b.query["X-Amz-Expires"]=o.toString(10),w=_e(b,s,u),b.query["X-Amz-SignedHeaders"]=ke(w),S=b.query,_=ie,E=this.getSignature,A=[g,m,this.getSigningKey(p,h,y,f)],C=this.createCanonicalRequest,I=[b,w],[4,Ce(e,this.sha256)]);case 5:return[4,E.apply(this,A.concat([C.apply(this,I.concat([T.sent()]))]))];case 6:return S[_]=T.sent(),[2,b]}}))}))},e.prototype.sign=function(e,t){return(0,l.mG)(this,void 0,void 0,(function(){return(0,l.Jh)(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,s=t.priorSignature,a=t.signingRegion,u=t.signingService;return(0,l.mG)(this,void 0,void 0,(function(){var e,t,i,c,f,p,h,d,v,g,y;return(0,l.Jh)(this,(function(l){switch(l.label){case 0:return null==a?[3,1]:(t=a,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=l.sent(),l.label=3;case 3:return e=t,i=De(o),c=i.shortDate,f=i.longDate,p=we(c,e,null!=u?u:this.service),[4,Ce({headers:{},body:r},this.sha256)];case 4:return h=l.sent(),(d=new this.sha256).update(n),g=ne,[4,d.digest()];case 5:return v=g.apply(void 0,[l.sent()]),y=[ge,f,p,s,v,h].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,s=n.signingService;return(0,l.mG)(this,void 0,void 0,(function(){var t,n,r,a,u,c,f,p;return(0,l.Jh)(this,(function(l){switch(l.label){case 0:return[4,this.credentialProvider()];case 1:return t=l.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=l.sent(),l.label=4;case 4:return n=r,a=De(i).shortDate,f=(c=this.sha256).bind,[4,this.getSigningKey(t,n,a,s)];case 5:return(u=new(f.apply(c,[void 0,l.sent()]))).update(e),p=ne,[4,u.digest()];case 6:return[2,p.apply(void 0,[l.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,s=n.unsignableHeaders,a=n.signingRegion,u=n.signingService;return(0,l.mG)(this,void 0,void 0,(function(){var t,n,r,c,f,p,h,d,v,g,y;return(0,l.Jh)(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==a?[3,2]:(r=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=Oe(e),f=De(i),p=f.longDate,h=f.shortDate,d=we(h,n,null!=u?u:this.service),c.headers[ae]=p,t.sessionToken&&(c.headers[le]=t.sessionToken),[4,Ce(c,this.sha256)];case 5:return v=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=(0,l.XA)(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(fe,c.headers)&&this.applyChecksum&&(c.headers[fe]=v),g=_e(c,s,o),[4,this.getSignature(p,d,this.getSigningKey(t,n,h,u),this.createCanonicalRequest(c,g,v))];case 6:return y=m.sent(),c.headers[se]="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+d+", SignedHeaders="+ke(g)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],s={},a=function(e){if(e.toLowerCase()===ce)return"continue";o.push(e);var t=i[e];"string"==typeof t?s[e]=Ee(e)+"="+Ee(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Ee(e)+"="+Ee(n)])}),[]).join("&"))};try{for(var u=(0,l.XA)(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())a(c.value)}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return(0,l.mG)(this,void 0,void 0,(function(){var r,i;return(0,l.Jh)(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+ne(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return(0,l.mG)(this,void 0,void 0,(function(){var i,o,s,a,u;return(0,l.Jh)(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),a=(s=this.sha256).bind,[4,n];case 2:return(o=new(a.apply(s,[void 0,c.sent()]))).update(i),u=ne,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return(0,l.mG)(void 0,void 0,void 0,(function(){var o,s,a,u,c,f,p,h,d;return(0,l.Jh)(this,(function(v){switch(v.label){case 0:return[4,Se(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=v.sent(),(s=n+":"+r+":"+i+":"+ne(o)+":"+t.sessionToken)in me)return[2,me[s]];for(be.push(s);be.length>50;)delete me[be.shift()];a="AWS4"+t.secretAccessKey,v.label=2;case 2:v.trys.push([2,7,8,9]),u=(0,l.XA)([n,r,i,ye]),c=u.next(),v.label=3;case 3:return c.done?[3,6]:(f=c.value,[4,Se(e,a,f)]);case 4:a=v.sent(),v.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return p=v.sent(),h={error:p},[3,9];case 8:try{c&&!c.done&&(d=u.return)&&d.call(u)}finally{if(h)throw h.error}return[7];case 9:return[2,me[s]=a]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),De=function(e){var t,n=(t=e,Pe(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},ke=function(e){return Object.keys(e).sort().join(";")},Le=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Ne=function(e){return"function"==typeof e?function(e,t,n){var r,i,o,s=function(){return(0,l.mG)(void 0,void 0,void 0,(function(){return(0,l.Jh)(this,(function(t){switch(t.label){case 0:i||(i=e()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,i];case 2:return r=t.sent(),o=!0,[3,4];case 3:return i=void 0,[7];case 4:return[2,r]}}))}))};if(void 0===t)return function(){return(0,l.mG)(void 0,void 0,void 0,(function(){return(0,l.Jh)(this,(function(e){switch(e.label){case 0:return o?[3,2]:[4,s()];case 1:r=e.sent(),e.label=2;case 2:return[2,r]}}))}))};var a=!1;return function(){return(0,l.mG)(void 0,void 0,void 0,(function(){return(0,l.Jh)(this,(function(e){switch(e.label){case 0:return o?[3,2]:[4,s()];case 1:r=e.sent(),e.label=2;case 2:return a?[2,r]:n&&!n(r)?(a=!0,[2,r]):t(r)?[4,s()]:[3,4];case 3:return e.sent(),[2,r];case 4:return[2,r]}}))}))}}(e,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration})):Le(e)},Re=function(e){return new Date(Date.now()+e)},Me=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(Re(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},Ue=function(e){var t,n,r;return m.Zn.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},Fe={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},je=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(r){return(0,l.mG)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return(0,l.Jh)(this,(function(f){switch(f.label){case 0:return m.aW.isInstance(r.request)?[4,e.signer()]:[2,t(r)];case 1:return i=f.sent(),s=t,a=[(0,l.pi)({},r)],c={},[4,i.sign(r.request,{signingDate:Re(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,s.apply(void 0,[l.pi.apply(void 0,a.concat([(c.request=f.sent(),c)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:Ue(t.$response);throw r&&(e.systemClockOffset=Me(r,e.systemClockOffset)),t}))];case 3:return o=f.sent(),(u=Ue(o.response))&&(e.systemClockOffset=Me(u,e.systemClockOffset)),[2,o]}}))}))}}}(e),Fe)}}};var Be="user-agent",ze="x-amz-user-agent",qe=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Ge=function(e){var t=(0,l.CR)(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),s=n.substring(i+1);return"api"===o&&(s=s.toLowerCase()),[o,s,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(qe,"_")})).join("/")},Ke={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Ve=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return(0,l.mG)(void 0,void 0,void 0,(function(){var i,o,s,a,u,c,f,p,h;return(0,l.Jh)(this,(function(d){switch(d.label){case 0:return i=r.request,m.aW.isInstance(i)?(o=i.headers,s=(null===(p=null==t?void 0:t.userAgent)||void 0===p?void 0:p.map(Ge))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return a=d.sent().map(Ge),u=(null===(h=null==n?void 0:n.customUserAgent)||void 0===h?void 0:h.map(Ge))||[],c=(0,l.ev)((0,l.ev)((0,l.ev)([],(0,l.CR)(a)),(0,l.CR)(s)),(0,l.CR)(u)).join(" "),f=(0,l.ev)((0,l.ev)([],(0,l.CR)(a.filter((function(e){return e.startsWith("aws-sdk-")})))),(0,l.CR)(u)).join(" "),"browser"!==n.runtime?(f&&(o[ze]=o[ze]?o[Be]+" "+f:f),o[Be]=c):o[ze]=c,[2,e((0,l.pi)((0,l.pi)({},r),{request:i}))]}}))}))}}),Ke)}}},He=n(7530),We="3.48.0",Ye=n(38139);for(var Je=function(){function e(e){var t=this;"function"==typeof e?this.configProvider=function(){return(0,l.mG)(t,void 0,void 0,(function(){return(0,l.Jh)(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return[2,t.sent()||{}]}}))}))}:this.config=null!=e?e:{}}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return(0,l.mG)(this,void 0,void 0,(function(){var t,r,i,o,s,a,u,c,f,p,h,d;return(0,l.Jh)(this,(function(v){switch(v.label){case 0:return this.config||!this.configProvider?[3,2]:(t=this,[4,this.configProvider()]);case 1:t.config=v.sent(),v.label=2;case 2:return r=this.config.requestTimeout,(null==n?void 0:n.aborted)?((i=new Error("Request aborted")).name="AbortError",[2,Promise.reject(i)]):(o=e.path,e.query&&(s=function(e){var t,n,r=[];try{for(var i=(0,l.XA)(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];if(s=Ee(s),Array.isArray(a))for(var u=0,c=a.length;u<c;u++)r.push(s+"="+Ee(a[u]));else{var f=s;(a||"string"==typeof a)&&(f+="="+Ee(a)),r.push(f)}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query),s&&(o+="?"+s)),a=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(a?":"+a:"")+o,f="GET"===u||"HEAD"===u?void 0:e.body,p={body:f,headers:new Headers(e.headers),method:u},"undefined"!=typeof AbortController&&(p.signal=n),h=new Request(c,p),d=[fetch(h).then((function(e){var t,n,r=e.headers,i={};try{for(var o=(0,l.XA)(r.entries()),s=o.next();!s.done;s=o.next()){var a=s.value;i[a[0]]=a[1]}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new m.Zn({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new m.Zn({headers:i,statusCode:e.status,body:t})}}))})),(g=r,void 0===g&&(g=0),new Promise((function(e,t){g&&setTimeout((function(){var e=new Error("Request did not complete within "+g+" ms");e.name="TimeoutError",t(e)}),g)})))],n&&d.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(d)])}var g}))}))},e}(),Ze={},Qe=new Array(64),$e=0,Xe="A".charCodeAt(0),et="Z".charCodeAt(0);$e+Xe<=et;$e++){var tt=String.fromCharCode($e+Xe);Ze[tt]=$e,Qe[$e]=tt}for($e=0,Xe="a".charCodeAt(0),et="z".charCodeAt(0);$e+Xe<=et;$e++){tt=String.fromCharCode($e+Xe);var nt=$e+26;Ze[tt]=nt,Qe[nt]=tt}for($e=0;$e<10;$e++){Ze[$e.toString(10)]=$e+52;tt=$e.toString(10),nt=$e+52;Ze[tt]=nt,Qe[nt]=tt}Ze["+"]=62,Qe[62]="+",Ze["/"]=63,Qe[63]="/";function rt(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,s=0,a=i,u=i+3;a<=u;a++)if("="!==e[a]){if(!(e[a]in Ze))throw new TypeError("Invalid character "+e[a]+" in base64 string.");o|=Ze[e[a]]<<6*(u-a),s+=6}else o>>=6;var c=i/4*3;o>>=s%8;for(var f=Math.floor(s/8),l=0;l<f;l++){var p=8*(f-l-1);r.setUint8(c+l,(o&255<<p)>>p)}}return new Uint8Array(n)}function it(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,s=Math.min(n+3,e.length);o<s;o++)r|=e[o]<<8*(s-o-1),i+=8;var a=Math.ceil(i/6);r<<=6*a-i;for(var u=1;u<=a;u++){var c=6*(a-u);t+=Qe[(r&63<<c)>>c]}t+="==".slice(0,4-a)}return t}var ot=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return(0,l.mG)(this,void 0,void 0,(function(){var t,n;return(0,l.Jh)(this,(function(r){switch(r.label){case 0:return[4,st(e)];case 1:return t=r.sent(),n=rt(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return(0,l.mG)(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return(0,l.Jh)(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(s=i.value)&&(a=t,(t=new Uint8Array(a.length+s.length)).set(a),t.set(s,a.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)};function st(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}function at(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}var ut=n(59849),ct=n.n(ut),ft=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return(0,l.mG)(void 0,void 0,void 0,(function(){var e,r,i,o,s,a,u,c,f;return(0,l.Jh)(this,(function(l){return e="undefined"!=typeof window&&(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?ct().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.version],["lang/js"],["md/browser",(null!==(u=null===(a=null==e?void 0:e.browser)||void 0===a?void 0:a.name)&&void 0!==u?u:"unknown")+"_"+(null!==(f=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==f?f:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}},lt=n(5658);var pt=function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,s=n.protocol,a=n.search;return a&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=(0,l.XA)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value,a=(0,l.CR)(s.split("="),2),u=a[0],c=a[1],f=void 0===c?null:c;u=decodeURIComponent(u),f&&(f=decodeURIComponent(f)),u in r?Array.isArray(r[u])?r[u].push(f):r[u]=[r[u],f]:r[u]=f}}catch(p){t={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(a)),{hostname:r,port:o?parseInt(o):void 0,protocol:s,path:i,query:t}},ht={},dt={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"geo-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com.cn",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"geo-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.c2s.ic.gov",tags:[]},{hostname:"geo-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.sc2s.sgov.gov",tags:[]},{hostname:"geo-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"geo-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.aws",tags:["dualstack"]}]}},vt=function(e,t){return(0,l.mG)(void 0,void 0,void 0,(function(){return(0,l.Jh)(this,(function(n){return[2,y(e,(0,l.pi)((0,l.pi)({},t),{signingService:"geo",regionHash:ht,partitionHash:dt}))]}))}))},gt=function(e,t){return gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},gt(e,t)};function yt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}gt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function mt(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function bt(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;Object.create;(function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}yt(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.defineProperty(e,"tryNextLink",{value:t,configurable:!1,enumerable:!1,writable:!1}),e}})(Error),function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r.name="CredentialsProviderError",r}yt(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.defineProperty(e,"tryNextLink",{value:t,configurable:!1,enumerable:!1,writable:!1}),e}}(Error);var wt,St,_t,Et,At,Ct,It,Tt,Ot,Pt,xt,Dt,kt,Lt,Nt,Rt,Mt,Ut,Ft,jt,Bt,zt,qt,Gt,Kt,Vt,Ht,Wt,Yt,Jt,Zt,Qt,$t,Xt,en,tn,nn,rn,on,sn,an,un,cn,fn,ln,pn,hn,dn,vn,gn,yn,mn,bn,wn,Sn,_n,En,An,Cn,In,Tn,On,Pn,xn,Dn,kn,Ln,Nn,Rn,Mn,Un,Fn,jn,Bn,zn,qn,Gn,Kn,Vn,Hn,Wn,Yn,Jn,Zn,Qn,$n,Xn,er,tr,nr,rr,ir,or,sr,ar,ur,cr,fr,lr,pr,hr,dr,vr,gr,yr,mr,br,wr,Sr,_r,Er,Ar,Cr,Ir,Tr,Or,Pr,xr,Dr,kr,Lr,Nr,Rr,Mr,Ur,Fr,jr,Br,zr,qr,Gr,Kr,Vr,Hr,Wr,Yr,Jr,Zr,Qr,$r,Xr,ei,ti,ni,ri,ii,oi,si=["in-region","cross-region","mobile","standard","legacy"],ai=function(e){var t=(void 0===e?{}:e).defaultsMode;return function(e,t,n){var r,i,o,s=function(){return mt(void 0,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:i||(i=e()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,i];case 2:return r=t.sent(),o=!0,[3,4];case 3:return i=void 0,[7];case 4:return[2,r]}}))}))};if(void 0===t)return function(){return mt(void 0,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return o?[3,2]:[4,s()];case 1:r=e.sent(),e.label=2;case 2:return[2,r]}}))}))};var a=!1;return function(){return mt(void 0,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return o?[3,2]:[4,s()];case 1:r=e.sent(),e.label=2;case 2:return a?[2,r]:n&&!n(r)?(a=!0,[2,r]):t(r)?[4,s()]:[3,4];case 3:return e.sent(),[2,r];case 4:return[2,r]}}))}))}}((function(){return mt(void 0,void 0,void 0,(function(){var e,n;return bt(this,(function(r){switch(r.label){case 0:return"function"!=typeof t?[3,2]:[4,t()];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:switch(null==(e=n)?void 0:e.toLowerCase()){case"auto":return[2,Promise.resolve(ui()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null==e?void 0:e.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '+si.join(", ")+", got "+e)}return[2]}}))}))}))},ui=function(){var e,t,n="undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)?ct().parse(window.navigator.userAgent):void 0,r=null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type;return"tablet"===r||"mobile"===r},ci=function(e){var t,n,r,i,o,s,a,u,c,f,p,h,d,v,g,y,m=ai(e),b=function(){return m().then(He.jv)},w=function(e){var t,n,r,i,o;return{apiVersion:"2020-11-19",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:vt,serviceId:null!==(i=null==e?void 0:e.serviceId)&&void 0!==i?i:"Location",urlParser:null!==(o=null==e?void 0:e.urlParser)&&void 0!==o?o:pt}}(e);return(0,l.pi)((0,l.pi)((0,l.pi)({},w),e),{runtime:"browser",defaultsMode:m,base64Decoder:null!==(t=null==e?void 0:e.base64Decoder)&&void 0!==t?t:rt,base64Encoder:null!==(n=null==e?void 0:e.base64Encoder)&&void 0!==n?n:it,bodyLengthChecker:null!==(r=null==e?void 0:e.bodyLengthChecker)&&void 0!==r?r:at,credentialDefaultProvider:null!==(i=null==e?void 0:e.credentialDefaultProvider)&&void 0!==i?i:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(o=null==e?void 0:e.defaultUserAgentProvider)&&void 0!==o?o:ft({serviceId:w.serviceId,clientVersion:We}),maxAttempts:null!==(s=null==e?void 0:e.maxAttempts)&&void 0!==s?s:3,region:null!==(a=null==e?void 0:e.region)&&void 0!==a?a:(y="Region is missing",function(){return Promise.reject(y)}),requestHandler:null!==(u=null==e?void 0:e.requestHandler)&&void 0!==u?u:new Je(b),retryMode:null!==(c=null==e?void 0:e.retryMode)&&void 0!==c?c:function(){return(0,l.mG)(void 0,void 0,void 0,(function(){return(0,l.Jh)(this,(function(e){switch(e.label){case 0:return[4,b()];case 1:return[2,e.sent().retryMode||O]}}))}))},sha256:null!==(f=null==e?void 0:e.sha256)&&void 0!==f?f:Ye.Sha256,streamCollector:null!==(p=null==e?void 0:e.streamCollector)&&void 0!==p?p:ot,useDualstackEndpoint:null!==(h=null==e?void 0:e.useDualstackEndpoint)&&void 0!==h?h:function(){return Promise.resolve(false)},useFipsEndpoint:null!==(d=null==e?void 0:e.useFipsEndpoint)&&void 0!==d?d:function(){return Promise.resolve(false)},utf8Decoder:null!==(v=null==e?void 0:e.utf8Decoder)&&void 0!==v?v:lt.fromUtf8,utf8Encoder:null!==(g=null==e?void 0:e.utf8Encoder)&&void 0!==g?g:lt.toUtf8})},fi=function(e){function t(t){var n,r,i=this,o=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return(0,l.pi)((0,l.pi)({},e),{region:function(){return(0,l.mG)(void 0,void 0,void 0,(function(){var e;return(0,l.Jh)(this,(function(n){switch(n.label){case 0:return"string"==typeof t?[2,v(t)]:[4,t()];case 1:return e=n.sent(),[2,v(e)]}}))}))},useFipsEndpoint:function(){return(0,l.mG)(void 0,void 0,void 0,(function(){var e;return(0,l.Jh)(this,(function(r){switch(r.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return d(e)?[2,!0]:[2,"boolean"==typeof n?Promise.resolve(n):n()]}}))}))}})}(ci(t)),s=h(o),a=function(e){return(0,l.pi)((0,l.pi)({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}(function(e){var t,n=e.credentials?Ne(e.credentials):e.credentialDefaultProvider(e),r=e.signingEscapePath,i=void 0===r||r,o=e.systemClockOffset,s=void 0===o?e.systemClockOffset||0:o,a=e.sha256;return t=e.signer?Le(e.signer):function(){return Le(e.region)().then((function(t){return(0,l.mG)(void 0,void 0,void 0,(function(){var n,r,i,o;return(0,l.Jh)(this,(function(s){switch(s.label){case 0:return r=(n=e).regionInfoProvider,i=[t],o={},[4,e.useFipsEndpoint()];case 1:return o.useFipsEndpoint=s.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,r.apply(n,i.concat([(o.useDualstackEndpoint=s.sent(),o)]))];case 3:return[2,[s.sent()||{},t]]}}))}))})).then((function(t){var r=(0,l.CR)(t,2),o=r[0],s=r[1],u=o.signingRegion,c=o.signingService;e.signingRegion=e.signingRegion||u||s,e.signingName=e.signingName||c||e.serviceId;var f=(0,l.pi)((0,l.pi)({},e),{credentials:n,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:i});return new(e.signerConstructor||xe)(f)}))},(0,l.pi)((0,l.pi)({},e),{systemClockOffset:s,signingEscapePath:i,credentials:n,signer:t})}((r=J((n=s).maxAttempts),(0,l.pi)((0,l.pi)({},n),{maxAttempts:r,retryStrategy:function(){return(0,l.mG)(void 0,void 0,void 0,(function(){return(0,l.Jh)(this,(function(e){switch(e.label){case 0:return n.retryStrategy?[2,n.retryStrategy]:[4,Y(n.retryMode)];case 1:return e.sent()===_.ADAPTIVE?[2,new W(r)]:[2,new V(r)]}}))}))}}))));return(i=e.call(this,a)||this).config=a,i.middlewareStack.use(Q(i.config)),i.middlewareStack.use(S(i.config)),i.middlewareStack.use(A(i.config)),i.middlewareStack.use(I(i.config)),i.middlewareStack.use(je(i.config)),i.middlewareStack.use(Ve(i.config)),i}return(0,l.ZT)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(He.KU),li={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},pi={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function hi(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return(0,l.mG)(void 0,void 0,void 0,(function(){var i,o,s;return(0,l.Jh)(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:i=a.sent().response,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,t(i,e)];case 3:return o=a.sent(),[2,{response:i,output:o}];case 4:throw s=a.sent(),Object.assign(s,{$response:i});case 5:return[2]}}))}))}}}(e,n),li),r.add(function(e,t){return function(n,r){return function(r){return(0,l.mG)(void 0,void 0,void 0,(function(){var i;return(0,l.Jh)(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n((0,l.pi)((0,l.pi)({},r),{request:i}))]}}))}))}}}(e,t),pi)}}}!function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(wt||(wt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(St||(St={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(_t||(_t={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Et||(Et={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(At||(At={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Ct||(Ct={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(It||(It={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Tt||(Tt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Ot||(Ot={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Pt||(Pt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(xt||(xt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)({},e),e.Position&&{Position:He.oc}),e.PositionProperties&&{PositionProperties:He.oc})}}(Dt||(Dt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.DevicePositionUpdates&&{DevicePositionUpdates:e.DevicePositionUpdates.map((function(e){return Dt.filterSensitiveLog(e)}))})}}(kt||(kt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Lt||(Lt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Nt||(Nt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Rt||(Rt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)({},e),e.Position&&{Position:He.oc}),e.PositionProperties&&{PositionProperties:He.oc})}}(Mt||(Mt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Ut||(Ut={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.DevicePositions&&{DevicePositions:e.DevicePositions.map((function(e){return Mt.filterSensitiveLog(e)}))})}}(Ft||(Ft={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Polygon&&{Polygon:e.Polygon.map((function(e){return He.oc}))})}}(jt||(jt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Geometry&&{Geometry:jt.filterSensitiveLog(e.Geometry)})}}(Bt||(Bt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Entries&&{Entries:e.Entries.map((function(e){return Bt.filterSensitiveLog(e)}))})}}(zt||(zt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(qt||(qt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Gt||(Gt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Kt||(Kt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Updates&&{Updates:e.Updates.map((function(e){return Dt.filterSensitiveLog(e)}))})}}(Vt||(Vt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Ht||(Ht={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Wt||(Wt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Yt||(Yt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Jt||(Jt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Zt||(Zt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Qt||(Qt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)({},e),e.DeparturePosition&&{DeparturePosition:He.oc}),e.DestinationPosition&&{DestinationPosition:He.oc}),e.WaypointPositions&&{WaypointPositions:He.oc})}}($t||($t={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.LineString&&{LineString:He.oc})}}(Xt||(Xt={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)({},e),e.StartPosition&&{StartPosition:He.oc}),e.EndPosition&&{EndPosition:He.oc})}}(en||(en={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)({},e),e.StartPosition&&{StartPosition:He.oc}),e.EndPosition&&{EndPosition:He.oc}),e.Geometry&&{Geometry:Xt.filterSensitiveLog(e.Geometry)}),e.Steps&&{Steps:e.Steps.map((function(e){return en.filterSensitiveLog(e)}))})}}(tn||(tn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.RouteBBox&&{RouteBBox:He.oc})}}(nn||(nn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)({},e),e.Legs&&{Legs:e.Legs.map((function(e){return tn.filterSensitiveLog(e)}))}),e.Summary&&{Summary:nn.filterSensitiveLog(e.Summary)})}}(rn||(rn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)({},e),e.DeparturePositions&&{DeparturePositions:He.oc}),e.DestinationPositions&&{DestinationPositions:He.oc})}}(on||(on={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(sn||(sn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(an||(an={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(un||(un={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)({},e),e.SnappedDeparturePositions&&{SnappedDeparturePositions:He.oc}),e.SnappedDestinationPositions&&{SnappedDestinationPositions:He.oc})}}(cn||(cn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(fn||(fn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(ln||(ln={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(pn||(pn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(hn||(hn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(dn||(dn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(vn||(vn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(gn||(gn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(yn||(yn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(mn||(mn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(bn||(bn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(wn||(wn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Sn||(Sn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(_n||(_n={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(En||(En={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(An||(An={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Cn||(Cn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(In||(In={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Tn||(Tn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(On||(On={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Pn||(Pn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(xn||(xn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Dn||(Dn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(kn||(kn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Ln||(Ln={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Nn||(Nn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Rn||(Rn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Mn||(Mn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Un||(Un={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Fn||(Fn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(jn||(jn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Bn||(Bn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(zn||(zn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(qn||(qn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Gn||(Gn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Kn||(Kn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Vn||(Vn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Hn||(Hn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Wn||(Wn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Yn||(Yn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Jn||(Jn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Zn||(Zn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Geometry&&{Geometry:jt.filterSensitiveLog(e.Geometry)})}}(Qn||(Qn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}($n||($n={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Xn||(Xn={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(er||(er={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(tr||(tr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Geometry&&{Geometry:jt.filterSensitiveLog(e.Geometry)})}}(nr||(nr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Entries&&{Entries:e.Entries.map((function(e){return nr.filterSensitiveLog(e)}))})}}(rr||(rr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Geometry&&{Geometry:jt.filterSensitiveLog(e.Geometry)})}}(ir||(ir={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(or||(or={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(sr||(sr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(ar||(ar={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(ur||(ur={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)({},e),e.Position&&{Position:He.oc}),e.PositionProperties&&{PositionProperties:He.oc})}}(cr||(cr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(fr||(fr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.DevicePositions&&{DevicePositions:e.DevicePositions.map((function(e){return Mt.filterSensitiveLog(e)}))})}}(lr||(lr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(pr||(pr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(hr||(hr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(dr||(dr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(vr||(vr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(gr||(gr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(yr||(yr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(mr||(mr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(br||(br={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(wr||(wr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)({},e),e.Position&&{Position:He.oc}),e.PositionProperties&&{PositionProperties:He.oc})}}(Sr||(Sr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Entries&&{Entries:e.Entries.map((function(e){return Sr.filterSensitiveLog(e)}))})}}(_r||(_r={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Er||(Er={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Ar||(Ar={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Cr||(Cr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Ir||(Ir={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Tr||(Tr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Or||(Or={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Pr||(Pr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(xr||(xr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Dr||(Dr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(kr||(kr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Lr||(Lr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Nr||(Nr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Rr||(Rr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Mr||(Mr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Ur||(Ur={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Fr||(Fr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Position&&{Position:He.oc})}}(jr||(jr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Point&&{Point:He.oc})}}(Br||(Br={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(zr||(zr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Geometry&&{Geometry:Br.filterSensitiveLog(e.Geometry)})}}(qr||(qr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Place&&{Place:qr.filterSensitiveLog(e.Place)})}}(Gr||(Gr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Position&&{Position:He.oc})}}(Kr||(Kr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)({},e),e.Summary&&{Summary:Kr.filterSensitiveLog(e.Summary)}),e.Results&&{Results:e.Results.map((function(e){return Gr.filterSensitiveLog(e)}))})}}(Vr||(Vr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)({},e),e.Text&&{Text:He.oc}),e.BiasPosition&&{BiasPosition:He.oc}),e.FilterBBox&&{FilterBBox:He.oc})}}(Hr||(Hr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(Wr||(Wr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)({},e),e.Text&&{Text:He.oc}),e.BiasPosition&&{BiasPosition:He.oc}),e.FilterBBox&&{FilterBBox:He.oc})}}(Yr||(Yr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Summary&&{Summary:Yr.filterSensitiveLog(e.Summary)})}}(Jr||(Jr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)({},e),e.Text&&{Text:He.oc}),e.BiasPosition&&{BiasPosition:He.oc}),e.FilterBBox&&{FilterBBox:He.oc})}}(Zr||(Zr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)({},e),e.Place&&{Place:qr.filterSensitiveLog(e.Place)})}}(Qr||(Qr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)({},e),e.Text&&{Text:He.oc}),e.BiasPosition&&{BiasPosition:He.oc}),e.FilterBBox&&{FilterBBox:He.oc}),e.ResultBBox&&{ResultBBox:He.oc})}}($r||($r={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)((0,l.pi)((0,l.pi)({},e),e.Summary&&{Summary:$r.filterSensitiveLog(e.Summary)}),e.Results&&{Results:e.Results.map((function(e){return Qr.filterSensitiveLog(e)}))})}}(Xr||(Xr={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(ei||(ei={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(ti||(ti={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(ni||(ni={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(ri||(ri={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(ii||(ii={})),function(e){e.filterSensitiveLog=function(e){return(0,l.pi)({},e)}}(oi||(oi={}));var di=n(87538),vi=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,l.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(hi(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"SearchPlaceIndexForTextCommand",inputFilterSensitiveLog:Zr.filterSensitiveLog,outputFilterSensitiveLog:Xr.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,di.b7)(e,t)},t.prototype.deserialize=function(e,t){return(0,di.lc)(e,t)},t}(He.mY),gi=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,l.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(hi(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"SearchPlaceIndexForPositionCommand",inputFilterSensitiveLog:jr.filterSensitiveLog,outputFilterSensitiveLog:Vr.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,di.HL)(e,t)},t.prototype.deserialize=function(e,t){return(0,di.JS)(e,t)},t}(He.mY),yi=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,l.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(hi(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"GetGeofenceCommand",inputFilterSensitiveLog:Zn.filterSensitiveLog,outputFilterSensitiveLog:Qn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,di.lP)(e,t)},t.prototype.deserialize=function(e,t){return(0,di.jb)(e,t)},t}(He.mY),mi=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,l.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(hi(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"ListGeofencesCommand",inputFilterSensitiveLog:tr.filterSensitiveLog,outputFilterSensitiveLog:rr.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,di.xz)(e,t)},t.prototype.deserialize=function(e,t){return(0,di.KG)(e,t)},t}(He.mY),bi=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,l.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(hi(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"BatchPutGeofenceCommand",inputFilterSensitiveLog:zt.filterSensitiveLog,outputFilterSensitiveLog:Kt.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,di.Cj)(e,t)},t.prototype.deserialize=function(e,t){return(0,di.aV)(e,t)},t}(He.mY),wi=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,l.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(hi(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"BatchDeleteGeofenceCommand",inputFilterSensitiveLog:Tt.filterSensitiveLog,outputFilterSensitiveLog:Pt.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,di.fD)(e,t)},t.prototype.deserialize=function(e,t){return(0,di._u)(e,t)},t}(He.mY);function Si(e){for(var t,n,r=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}(e),i=0,o=1;o<r.length;)t=n||r[0],i+=((n=r[o])[0]-t[0])*(n[1]+t[1]),o++;return i>0}var _i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};function Ei(e,t){if(!Number.isFinite(e)||!Number.isFinite(t))throw new Error("Invalid coordinates: ["+e+","+t+"]");if(t<-90||90<t)throw new Error("Latitude must be between -90 and 90 degrees inclusive.");if(e<-180||180<e)throw new Error("Longitude must be between -180 and 180 degrees inclusive.")}function Ai(e){if(!/^(?:[\x2D\.0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+$/i.test(e))throw new Error("Invalid geofenceId: '"+e+"' - IDs can only contain alphanumeric characters, hyphens, underscores and periods.")}function Ci(e,t){var n=t?t+": ":"";if(e.length<4)throw new Error(n+"LinearRing must contain 4 or more coordinates.");var r=[];if(e.forEach((function(e){try{Ei(e[0],e[1])}catch(t){r.push({coordinates:e,error:t.message})}})),r.length>0)throw new Error(n+"One or more of the coordinates in the Polygon LinearRing are not valid: "+JSON.stringify(r));var i=_i(e[0],2),o=i[0],s=i[1],a=_i(e[e.length-1],2),u=a[0],c=a[1];if(o!==u||s!==c)throw new Error(n+"LinearRing's first and last coordinates are not the same");if(Si(e))throw new Error(n+"LinearRing coordinates must be wound counterclockwise")}function Ii(e){var t={};e.forEach((function(e){if(!e.geofenceId)throw new Error("Geofence '"+e+"' is missing geofenceId");var n=e.geofenceId;if(Ai(n),t[n])throw new Error("Duplicate geofenceId: "+n);if(t[n]=!0,!e.geometry)throw new Error("Geofence '"+n+"' is missing geometry");var r=e.geometry;if(!r.polygon)throw new Error("Geofence '"+n+"' is missing geometry.polygon");var i=r.polygon;try{!function(e,t){var n=t?t+": ":"";if(!Array.isArray(e))throw new Error(n+"Polygon is of incorrect structure. It should be an array of LinearRings");if(e.length<1)throw new Error(n+"Polygon must have a single LinearRing array.");if(e.length>1)throw new Error(n+"Polygon must have a single LinearRing array. Note: We do not currently support polygons with holes, multipolygons, polygons that are wound clockwise, or that cross the antimeridian.");if(e.reduce((function(e,t){return e+t.length}),0)>1e3)throw new Error(n+"Polygon has more than the maximum 1000 vertices.");e.forEach((function(e){Ci(e,t)}))}(i,n)}catch(o){if(o.message.includes("Polygon has more than the maximum 1000 vertices."))throw new Error("Geofence '"+n+"' has more than the maximum of 1000 vertices")}Ci(_i(i,1)[0],n)}))}var Ti=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Oi=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Pi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},xi=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Pi(arguments[t]));return e},Di=new i.k("AmazonLocationServiceProvider"),ki=function(){function e(e){this._config=e||{},Di.debug("Geo Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){return Di.debug("configure Amazon Location Service Provider",e),e?(this._config=Object.assign({},this._config,e),this._config):this._config},e.prototype.getAvailableMaps=function(){this._verifyMapResources();var e=[],t=this._config.maps.items,n=this._config.region;for(var r in t){var i=t[r].style;e.push({mapName:r,style:i,region:n})}return e},e.prototype.getDefaultMap=function(){this._verifyMapResources();var e=this._config.maps.default;return{mapName:e,style:this._config.maps.items[e].style,region:this._config.region}},e.prototype.searchByText=function(e,t){return Ti(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Oi(this,(function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(!f.sent())throw new Error("No credentials");if(this._verifySearchIndex(null==t?void 0:t.searchIndexName),n={Text:e,IndexName:this._config.search_indices.default},t){if(n.FilterCountries=t.countries,n.MaxResults=t.maxResults,t.searchIndexName&&(n.IndexName=t.searchIndexName),t.biasPosition&&t.searchAreaConstraints)throw new Error("BiasPosition and SearchAreaConstraints are mutually exclusive, please remove one or the other from the options object");t.biasPosition&&(n.BiasPosition=t.biasPosition),t.searchAreaConstraints&&(n.FilterBBox=t.searchAreaConstraints)}r=new fi({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,c.Zm)()}),i=new vi(n),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,r.send(i)];case 3:return o=f.sent(),[3,5];case 4:throw s=f.sent(),Di.debug(s),s;case 5:return a=o.Results.map((function(e){return e.Place})),[2,u()(a,{deep:!0})]}}))}))},e.prototype.searchByCoordinates=function(e,t){return Ti(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Oi(this,(function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(!f.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),n={Position:e,IndexName:this._config.search_indices.default},t&&(t.searchIndexName&&(n.IndexName=t.searchIndexName),n.MaxResults=t.maxResults),r=new fi({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,c.Zm)()}),i=new gi(n),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,r.send(i)];case 3:return o=f.sent(),[3,5];case 4:throw s=f.sent(),Di.debug(s),s;case 5:return a=o.Results.map((function(e){return e.Place})),[2,u()(a[0],{deep:!0})]}}))}))},e.prototype.saveGeofences=function(e,t){return Ti(this,void 0,void 0,(function(){var n,r,i,o=this;return Oi(this,(function(s){switch(s.label){case 0:if(e.length<1)throw new Error("Geofence input array is empty");return[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==t?void 0:t.collectionName)}catch(a){throw Di.debug(a),a}for(Ii(e),n=e.map((function(e){return{GeofenceId:e.geofenceId,Geometry:{Polygon:e.geometry.polygon}}})),r={successes:[],errors:[]},i=[];n.length>0;)10,i.push(n.splice(0,10));return[4,Promise.all(i.map((function(e){return Ti(o,void 0,void 0,(function(){var n,i;return Oi(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._AmazonLocationServiceBatchPutGeofenceCall(e,(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default)];case 1:return n=o.sent(),[3,3];case 2:return i=o.sent(),e.forEach((function(e){r.errors.push({geofenceId:e.GeofenceId,error:{code:"APIConnectionError",message:i.message}})})),[2];case 3:return n.Successes.forEach((function(e){var t=e.GeofenceId,n=e.CreateTime,i=e.UpdateTime;r.successes.push({geofenceId:t,createTime:n,updateTime:i})})),n.Errors.forEach((function(e){var t=e.Error,n=t.Code,i=t.Message,o=e.GeofenceId;r.errors.push({error:{code:n,message:i},geofenceId:o})})),[2]}}))}))})))];case 2:return s.sent(),[2,r]}}))}))},e.prototype.getGeofence=function(e,t){return Ti(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,f,l,p;return Oi(this,(function(h){switch(h.label){case 0:return[4,this._ensureCredentials()];case 1:if(!h.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==t?void 0:t.collectionName)}catch(d){throw Di.debug(d),d}Ai(e),n=new fi({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,c.Zm)()}),r={GeofenceId:e,CollectionName:(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default},i=new yi(r),h.label=2;case 2:return h.trys.push([2,4,,5]),[4,n.send(i)];case 3:return o=h.sent(),[3,5];case 4:throw s=h.sent(),Di.debug(s),s;case 5:return a=o.GeofenceId,u=o.CreateTime,f=o.UpdateTime,l=o.Status,p=o.Geometry,[2,{createTime:u,geofenceId:a,geometry:{polygon:p.Polygon},status:l,updateTime:f}]}}))}))},e.prototype.listGeofences=function(e){return Ti(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u;return Oi(this,(function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(!f.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==e?void 0:e.collectionName)}catch(l){throw Di.debug(l),l}t=new fi({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,c.Zm)()}),n={NextToken:null==e?void 0:e.nextToken,CollectionName:(null==e?void 0:e.collectionName)||this._config.geofenceCollections.default},r=new mi(n),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,t.send(r)];case 3:return i=f.sent(),[3,5];case 4:throw o=f.sent(),Di.debug(o),o;case 5:return s=i.NextToken,a=i.Entries,u={entries:a.map((function(e){return{geofenceId:e.GeofenceId,createTime:e.CreateTime,updateTime:e.UpdateTime,status:e.Status,geometry:{polygon:e.Geometry.Polygon}}})),nextToken:s},[2,u]}}))}))},e.prototype.deleteGeofences=function(e,t){return Ti(this,void 0,void 0,(function(){var n,r,i,o,s=this;return Oi(this,(function(a){switch(a.label){case 0:if(e.length<1)throw new Error("GeofenceId input array is empty");return[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error("No credentials");if(this._verifyGeofenceCollections(null==t?void 0:t.collectionName),(n=e.filter((function(e){try{Ai(e)}catch(t){return!0}}))).length>0)throw new Error("Invalid geofence ids: "+n.join(", "));for(r={successes:[],errors:[]},i=[],o=0;o<e.length;)i.push(e.slice(o,o+=10));return[4,Promise.all(i.map((function(e){return Ti(s,void 0,void 0,(function(){var n,i,o,s;return Oi(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this._AmazonLocationServiceBatchDeleteGeofenceCall(e,(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default)];case 1:return n=a.sent(),[3,3];case 2:return i=a.sent(),e.forEach((function(e){var t={geofenceId:e,error:{code:i.message,message:i.message}};r.errors.push(t)})),[2];case 3:return o=n.Errors.map((function(e){return e.geofenceId})),(s=r.successes).push.apply(s,xi(e.filter((function(e){return!o.includes(e)})))),[2]}}))}))})))];case 2:return a.sent(),[2,r]}}))}))},e.prototype._ensureCredentials=function(){return Ti(this,void 0,void 0,(function(){var e,t,n;return Oi(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,f.cN.get()];case 1:return(e=r.sent())?(t=f.cN.shear(e),Di.debug("Set credentials for storage. Credentials are:",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),Di.debug("Ensure credentials error. Credentials are:",n),[2,!1];case 3:return[2]}}))}))},e.prototype._verifyMapResources=function(){if(!this._config.maps){var e="No map resources found in amplify config, run 'amplify add geo' to create one and run `amplify push` after";throw Di.debug(e),new Error(e)}if(!this._config.maps.default){e="No default map resource found in amplify config, run 'amplify add geo' to create one and run `amplify push` after";throw Di.debug(e),new Error(e)}},e.prototype._verifySearchIndex=function(e){if(!(this._config.search_indices&&this._config.search_indices.default||e)){var t="No Search Index found in amplify config, please run `amplify add geo` to create one and run `amplify push` after.";throw Di.debug(t),new Error(t)}},e.prototype._verifyGeofenceCollections=function(e){if(!(this._config.geofenceCollections&&this._config.geofenceCollections.default||e)){var t="No Geofence Collections found, please run `amplify add geo` to create one and run `amplify push` after.";throw Di.debug(t),new Error(t)}},e.prototype._AmazonLocationServiceBatchPutGeofenceCall=function(e,t){return Ti(this,void 0,void 0,(function(){var n,r,i,o;return Oi(this,(function(s){switch(s.label){case 0:n={Entries:e,CollectionName:t||this._config.geofenceCollections.default},r=new fi({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,c.Zm)()}),i=new bi(n),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.send(i)];case 2:return o=s.sent(),[3,4];case 3:throw s.sent();case 4:return[2,o]}}))}))},e.prototype._AmazonLocationServiceBatchDeleteGeofenceCall=function(e,t){return Ti(this,void 0,void 0,(function(){var n,r,i,o;return Oi(this,(function(s){switch(s.label){case 0:n={GeofenceIds:e,CollectionName:t||this._config.geofenceCollections.default},r=new fi({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,c.Zm)()}),i=new wi(n),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.send(i)];case 2:return o=s.sent(),[3,4];case 3:throw s.sent();case 4:return[2,o]}}))}))},e.CATEGORY="Geo",e.PROVIDER_NAME="AmazonLocationService",e}(),Li=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ni=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ri=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Mi=new i.k("Geo"),Ui="AmazonLocationService",Fi=new(function(){function e(){this._config={},this._pluggables=[],Mi.debug("Geo Options",this._config)}return e.prototype.getModuleName=function(){return e.MODULE},e.prototype.addPluggable=function(e){if(e&&"Geo"===e.getCategory())return this._pluggables.push(e),e.configure(this._config[e.getProviderName()])},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));if(void 0===t)throw Mi.debug("No plugin found with providerName",e),new Error("No plugin found in Geo for the provider");return t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this;if(Mi.debug("configure Geo"),!e)return this._config;var n=(0,o.gi)(e);return this._config=Object.assign({},this._config,n.Geo,e),this._pluggables.forEach((function(e){e.configure(t._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new ki),this._config},e.prototype.getAvailableMaps=function(e){return void 0===e&&(e=Ui),this.getPluggable(e).getAvailableMaps()},e.prototype.getDefaultMap=function(e){return void 0===e&&(e=Ui),this.getPluggable(e).getDefaultMap()},e.prototype.searchByText=function(e,t){return Li(this,void 0,void 0,(function(){var n,r,i,o;return Ni(this,(function(s){switch(s.label){case 0:n=(t||{}).providerName,r=void 0===n?Ui:n,i=this.getPluggable(r),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,i.searchByText(e,t)];case 2:return[2,s.sent()];case 3:throw o=s.sent(),Mi.debug(o),o;case 4:return[2]}}))}))},e.prototype.searchByCoordinates=function(e,t){return Li(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Ni(this,(function(c){switch(c.label){case 0:n=(t||{}).providerName,r=void 0===n?Ui:n,i=this.getPluggable(r),o=Ri(e,2),s=o[0],a=o[1],c.label=1;case 1:return c.trys.push([1,3,,4]),Ei(s,a),[4,i.searchByCoordinates(e,t)];case 2:return[2,c.sent()];case 3:throw u=c.sent(),Mi.debug(u),u;case 4:return[2]}}))}))},e.prototype.saveGeofences=function(e,t){return Li(this,void 0,void 0,(function(){var n,r,i,o,s;return Ni(this,(function(a){switch(a.label){case 0:n=(t||{}).providerName,r=void 0===n?Ui:n,i=this.getPluggable(r),o=Array.isArray(e)?e:[e],a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.saveGeofences(o,t)];case 2:return[2,a.sent()];case 3:throw s=a.sent(),Mi.debug(s),s;case 4:return[2]}}))}))},e.prototype.getGeofence=function(e,t){return Li(this,void 0,void 0,(function(){var n,r,i,o;return Ni(this,(function(s){switch(s.label){case 0:n=(t||{}).providerName,r=void 0===n?Ui:n,i=this.getPluggable(r),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,i.getGeofence(e,t)];case 2:return[2,s.sent()];case 3:throw o=s.sent(),Mi.debug(o),o;case 4:return[2]}}))}))},e.prototype.listGeofences=function(e){return Li(this,void 0,void 0,(function(){var t,n,r,i;return Ni(this,(function(o){switch(o.label){case 0:t=(e||{}).providerName,n=void 0===t?Ui:t,r=this.getPluggable(n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r.listGeofences(e)];case 2:return[2,o.sent()];case 3:throw i=o.sent(),Mi.debug(i),i;case 4:return[2]}}))}))},e.prototype.deleteGeofences=function(e,t){return Li(this,void 0,void 0,(function(){var n,r,i,o,s;return Ni(this,(function(a){switch(a.label){case 0:n=(t||{}).providerName,r=void 0===n?Ui:n,i=this.getPluggable(r),o=Array.isArray(e)?e:[e],a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.deleteGeofences(o,t)];case 2:return[2,a.sent()];case 3:throw s=a.sent(),Mi.debug(s),s;case 4:return[2]}}))}))},e.MODULE="Geo",e}());s.dQ.register(Fi)},4395:function(e,t,n){"use strict";n.d(t,{y:function(){return yt}});var r=n(55218),i=n(75557),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=new r.k("AbstractInteractionsProvider"),a=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=o(o({},this._config),e),s.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"Interactions"},Object.defineProperty(e.prototype,"options",{get:function(){return o({},this._config)},enumerable:!0,configurable:!0}),e}(),u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},u(e,t)};function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)};function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function p(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create;var d,v,g,y,m,b,w,S,_,E,A,C,I,T,O,P,x,D,k,L,N,R,M,U,F,j,B,z,q,G,K,V,H,W,Y,J,Z,Q=n(14552),$=n(4986),X=n(3241),ee=n(41817),te=n(34252),ne=n(46105),re=n(5287),ie=n(24177),oe="runtime.lex.{region}.amazonaws.com",se=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),ae=new Set(["cn-north-1","cn-northwest-1"]),ue=new Set(["us-iso-east-1"]),ce=new Set(["us-isob-east-1"]),fe=new Set(["us-gov-east-1","us-gov-west-1"]),le={apiVersion:"2016-11-28",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"runtime.lex.ap-northeast-1.amazonaws.com",partition:"aws",signingService:"lex"};break;case"ap-southeast-1":n={hostname:"runtime.lex.ap-southeast-1.amazonaws.com",partition:"aws",signingService:"lex"};break;case"ap-southeast-2":n={hostname:"runtime.lex.ap-southeast-2.amazonaws.com",partition:"aws",signingService:"lex"};break;case"eu-central-1":n={hostname:"runtime.lex.eu-central-1.amazonaws.com",partition:"aws",signingService:"lex"};break;case"eu-west-1":n={hostname:"runtime.lex.eu-west-1.amazonaws.com",partition:"aws",signingService:"lex"};break;case"eu-west-2":n={hostname:"runtime.lex.eu-west-2.amazonaws.com",partition:"aws",signingService:"lex"};break;case"us-east-1":n={hostname:"runtime.lex.us-east-1.amazonaws.com",partition:"aws",signingService:"lex"};break;case"us-west-2":n={hostname:"runtime.lex.us-west-2.amazonaws.com",partition:"aws",signingService:"lex"};break;default:se.has(e)&&(n={hostname:oe.replace("{region}",e),partition:"aws",signingService:"lex"}),ae.has(e)&&(n={hostname:"runtime.lex.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),ue.has(e)&&(n={hostname:"runtime.lex.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),ce.has(e)&&(n={hostname:"runtime.lex.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),fe.has(e)&&(n={hostname:"runtime.lex.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:oe.replace("{region}",e),partition:"aws",signingService:"lex"})}return Promise.resolve(f({signingService:"lex"},n))},serviceId:"Lex Runtime Service",urlParser:n(61488).e},pe=f(f({},le),{runtime:"browser",base64Decoder:te.G,base64Encoder:te.s,bodyLengthChecker:ne.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,re.f)({serviceId:le.serviceId,clientVersion:"3.6.1"}),maxAttempts:ee.J,region:(0,X.n)("Region is missing"),requestHandler:new $.B,sha256:Q.Sha256,streamCollector:$.C,utf8Decoder:ie.fromUtf8,utf8Encoder:ie.toUtf8}),he=n(25562),de=n(99561),ve=n(47498),ge=n(7317),ye=n(29960),me=n(83512),be=n(4781),we=function(e){function t(t){var n=this,r=f(f({},pe),t),i=(0,he.Xb)(r),o=(0,he.g4)(i),s=(0,ye.A$)(o),a=(0,ee.BC)(s),u=(0,ve.S8)(a),c=(0,me.er)(u);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use((0,ye.yt)(n.config)),n.middlewareStack.use((0,ee.NQ)(n.config)),n.middlewareStack.use((0,de.VG)(n.config)),n.middlewareStack.use((0,ve.G2)(n.config)),n.middlewareStack.use((0,ge.cV)(n.config)),n.middlewareStack.use((0,me.XJ)(n.config)),n}return c(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(be.KU);!function(e){e.filterSensitiveLog=function(e){return f({},e)}}(d||(d={})),function(e){e.filterSensitiveLog=function(e){return f(f({},e),e.parameters&&{parameters:be.oc})}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(b||(b={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(w||(w={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(E||(E={})),function(e){e.FAILED="Failed",e.FULFILLED="Fulfilled",e.READY_FOR_FULFILLMENT="ReadyForFulfillment"}(A||(A={})),function(e){e.COMPOSITE="Composite",e.CUSTOM_PAYLOAD="CustomPayload",e.PLAIN_TEXT="PlainText",e.SSML="SSML"}(C||(C={})),function(e){e.CLOSE="Close",e.CONFIRM_INTENT="ConfirmIntent",e.DELEGATE="Delegate",e.ELICIT_INTENT="ElicitIntent",e.ELICIT_SLOT="ElicitSlot"}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return f(f(f({},e),e.slots&&{slots:be.oc}),e.message&&{message:be.oc})}}(T||(T={})),function(e){e.CONFIRMED="Confirmed",e.DENIED="Denied",e.NONE="None"}(O||(O={})),function(e){e.filterSensitiveLog=function(e){return f(f({},e),e.slots&&{slots:be.oc})}}(P||(P={})),function(e){e.filterSensitiveLog=function(e){return f(f(f(f(f({},e),e.recentIntentSummaryView&&{recentIntentSummaryView:e.recentIntentSummaryView.map((function(e){return P.filterSensitiveLog(e)}))}),e.sessionAttributes&&{sessionAttributes:be.oc}),e.dialogAction&&{dialogAction:T.filterSensitiveLog(e.dialogAction)}),e.activeContexts&&{activeContexts:be.oc})}}(x||(x={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(k||(k={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return f(f(f(f({},e),e.sessionAttributes&&{sessionAttributes:be.oc}),e.requestAttributes&&{requestAttributes:be.oc}),e.activeContexts&&{activeContexts:be.oc})}}(R||(R={})),function(e){e.CONFIRM_INTENT="ConfirmIntent",e.ELICIT_INTENT="ElicitIntent",e.ELICIT_SLOT="ElicitSlot",e.FAILED="Failed",e.FULFILLED="Fulfilled",e.READY_FOR_FULFILLMENT="ReadyForFulfillment"}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return f(f(f({},e),e.message&&{message:be.oc}),e.activeContexts&&{activeContexts:be.oc})}}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(F||(F={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return f(f(f(f(f({},e),e.sessionAttributes&&{sessionAttributes:be.oc}),e.requestAttributes&&{requestAttributes:be.oc}),e.inputText&&{inputText:be.oc}),e.activeContexts&&{activeContexts:be.oc})}}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return f(f({},e),e.slots&&{slots:be.oc})}}(q||(q={})),function(e){e.GENERIC="application/vnd.amazonaws.card.generic"}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return f({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return f(f(f(f(f(f({},e),e.alternativeIntents&&{alternativeIntents:e.alternativeIntents.map((function(e){return q.filterSensitiveLog(e)}))}),e.slots&&{slots:be.oc}),e.sessionAttributes&&{sessionAttributes:be.oc}),e.message&&{message:be.oc}),e.activeContexts&&{activeContexts:be.oc})}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return f(f(f(f(f({},e),e.sessionAttributes&&{sessionAttributes:be.oc}),e.dialogAction&&{dialogAction:T.filterSensitiveLog(e.dialogAction)}),e.recentIntentSummaryView&&{recentIntentSummaryView:e.recentIntentSummaryView.map((function(e){return P.filterSensitiveLog(e)}))}),e.activeContexts&&{activeContexts:be.oc})}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return f(f(f({},e),e.message&&{message:be.oc}),e.activeContexts&&{activeContexts:be.oc})}}(Z||(Z={}));var Se=n(96784),_e=function(e,t){return l(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,d,v,g,y,m,b,w,S;return p(this,(function(p){switch(p.label){case 0:return r=[f({},e)],S={},[4,Xe(e.body,t)];case 1:switch(n=f.apply(void 0,r.concat([(S.body=p.sent(),S)])),o="UnknownError",o=et(e,n.body),o){case"BadGatewayException":case"com.amazonaws.lexruntimeservice#BadGatewayException":return[3,2];case"BadRequestException":case"com.amazonaws.lexruntimeservice#BadRequestException":return[3,4];case"ConflictException":case"com.amazonaws.lexruntimeservice#ConflictException":return[3,6];case"DependencyFailedException":case"com.amazonaws.lexruntimeservice#DependencyFailedException":return[3,8];case"InternalFailureException":case"com.amazonaws.lexruntimeservice#InternalFailureException":return[3,10];case"LimitExceededException":case"com.amazonaws.lexruntimeservice#LimitExceededException":return[3,12];case"LoopDetectedException":case"com.amazonaws.lexruntimeservice#LoopDetectedException":return[3,14];case"NotAcceptableException":case"com.amazonaws.lexruntimeservice#NotAcceptableException":return[3,16];case"NotFoundException":case"com.amazonaws.lexruntimeservice#NotFoundException":return[3,18];case"RequestTimeoutException":case"com.amazonaws.lexruntimeservice#RequestTimeoutException":return[3,20];case"UnsupportedMediaTypeException":case"com.amazonaws.lexruntimeservice#UnsupportedMediaTypeException":return[3,22]}return[3,24];case 2:return s=[{}],[4,Ae(n,t)];case 3:return i=f.apply(void 0,[f.apply(void 0,s.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,25];case 4:return a=[{}],[4,Ce(n,t)];case 5:return i=f.apply(void 0,[f.apply(void 0,a.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,25];case 6:return u=[{}],[4,Ie(n,t)];case 7:return i=f.apply(void 0,[f.apply(void 0,u.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,25];case 8:return c=[{}],[4,Te(n,t)];case 9:return i=f.apply(void 0,[f.apply(void 0,c.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,25];case 10:return l=[{}],[4,Oe(n,t)];case 11:return i=f.apply(void 0,[f.apply(void 0,l.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,25];case 12:return h=[{}],[4,Pe(n,t)];case 13:return i=f.apply(void 0,[f.apply(void 0,h.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,25];case 14:return d=[{}],[4,xe(n,t)];case 15:return i=f.apply(void 0,[f.apply(void 0,d.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,25];case 16:return v=[{}],[4,De(n,t)];case 17:return i=f.apply(void 0,[f.apply(void 0,v.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,25];case 18:return g=[{}],[4,ke(n,t)];case 19:return i=f.apply(void 0,[f.apply(void 0,g.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,25];case 20:return y=[{}],[4,Le(n,t)];case 21:return i=f.apply(void 0,[f.apply(void 0,y.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,25];case 22:return m=[{}],[4,Ne(n,t)];case 23:return i=f.apply(void 0,[f.apply(void 0,m.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,25];case 24:b=n.body,o=b.code||b.Code||o,i=f(f({},b),{name:""+o,message:b.message||b.Message||o,$fault:"client",$metadata:Ze(e)}),p.label=25;case 25:return w=i.message||i.Message||o,i.message=w,delete i.Message,[2,Promise.reject(Object.assign(new Error(w),i))]}}))}))},Ee=function(e,t){return l(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,d,v,g,y,m;return p(this,(function(p){switch(p.label){case 0:return r=[f({},e)],m={},[4,Xe(e.body,t)];case 1:switch(n=f.apply(void 0,r.concat([(m.body=p.sent(),m)])),o="UnknownError",o=et(e,n.body),o){case"BadGatewayException":case"com.amazonaws.lexruntimeservice#BadGatewayException":return[3,2];case"BadRequestException":case"com.amazonaws.lexruntimeservice#BadRequestException":return[3,4];case"ConflictException":case"com.amazonaws.lexruntimeservice#ConflictException":return[3,6];case"DependencyFailedException":case"com.amazonaws.lexruntimeservice#DependencyFailedException":return[3,8];case"InternalFailureException":case"com.amazonaws.lexruntimeservice#InternalFailureException":return[3,10];case"LimitExceededException":case"com.amazonaws.lexruntimeservice#LimitExceededException":return[3,12];case"LoopDetectedException":case"com.amazonaws.lexruntimeservice#LoopDetectedException":return[3,14];case"NotFoundException":case"com.amazonaws.lexruntimeservice#NotFoundException":return[3,16]}return[3,18];case 2:return s=[{}],[4,Ae(n,t)];case 3:return i=f.apply(void 0,[f.apply(void 0,s.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,19];case 4:return a=[{}],[4,Ce(n,t)];case 5:return i=f.apply(void 0,[f.apply(void 0,a.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,19];case 6:return u=[{}],[4,Ie(n,t)];case 7:return i=f.apply(void 0,[f.apply(void 0,u.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,19];case 8:return c=[{}],[4,Te(n,t)];case 9:return i=f.apply(void 0,[f.apply(void 0,c.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,19];case 10:return l=[{}],[4,Oe(n,t)];case 11:return i=f.apply(void 0,[f.apply(void 0,l.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,19];case 12:return h=[{}],[4,Pe(n,t)];case 13:return i=f.apply(void 0,[f.apply(void 0,h.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,19];case 14:return d=[{}],[4,xe(n,t)];case 15:return i=f.apply(void 0,[f.apply(void 0,d.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,19];case 16:return v=[{}],[4,ke(n,t)];case 17:return i=f.apply(void 0,[f.apply(void 0,v.concat([p.sent()])),{name:o,$metadata:Ze(e)}]),[3,19];case 18:g=n.body,o=g.code||g.Code||o,i=f(f({},g),{name:""+o,message:g.message||g.Message||o,$fault:"client",$metadata:Ze(e)}),p.label=19;case 19:return y=i.message||i.Message||o,i.message=y,delete i.Message,[2,Promise.reject(Object.assign(new Error(y),i))]}}))}))},Ae=function(e,t){return l(void 0,void 0,void 0,(function(){var t,n;return p(this,(function(r){return t={name:"BadGatewayException",$fault:"server",$metadata:Ze(e),Message:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),[2,t]}))}))},Ce=function(e,t){return l(void 0,void 0,void 0,(function(){var t,n;return p(this,(function(r){return t={name:"BadRequestException",$fault:"client",$metadata:Ze(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},Ie=function(e,t){return l(void 0,void 0,void 0,(function(){var t,n;return p(this,(function(r){return t={name:"ConflictException",$fault:"client",$metadata:Ze(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},Te=function(e,t){return l(void 0,void 0,void 0,(function(){var t,n;return p(this,(function(r){return t={name:"DependencyFailedException",$fault:"client",$metadata:Ze(e),Message:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),[2,t]}))}))},Oe=function(e,t){return l(void 0,void 0,void 0,(function(){var t,n;return p(this,(function(r){return t={name:"InternalFailureException",$fault:"server",$metadata:Ze(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},Pe=function(e,t){return l(void 0,void 0,void 0,(function(){var t,n;return p(this,(function(r){return t={name:"LimitExceededException",$fault:"client",$metadata:Ze(e),message:void 0,retryAfterSeconds:void 0},void 0!==e.headers["retry-after"]&&(t.retryAfterSeconds=e.headers["retry-after"]),void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},xe=function(e,t){return l(void 0,void 0,void 0,(function(){var t,n;return p(this,(function(r){return t={name:"LoopDetectedException",$fault:"server",$metadata:Ze(e),Message:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),[2,t]}))}))},De=function(e,t){return l(void 0,void 0,void 0,(function(){var t,n;return p(this,(function(r){return t={name:"NotAcceptableException",$fault:"client",$metadata:Ze(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},ke=function(e,t){return l(void 0,void 0,void 0,(function(){var t,n;return p(this,(function(r){return t={name:"NotFoundException",$fault:"client",$metadata:Ze(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},Le=function(e,t){return l(void 0,void 0,void 0,(function(){var t,n;return p(this,(function(r){return t={name:"RequestTimeoutException",$fault:"client",$metadata:Ze(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},Ne=function(e,t){return l(void 0,void 0,void 0,(function(){var t,n;return p(this,(function(r){return t={name:"UnsupportedMediaTypeException",$fault:"client",$metadata:Ze(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},Re=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=h(t,2),i=r[0],o=r[1];return null===o?e:f(f({},e),((n={})[i]=o,n))}),{})},Me=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return f(f(f({},void 0!==e.name&&null!==e.name&&{name:e.name}),void 0!==e.parameters&&null!==e.parameters&&{parameters:Re(e.parameters,t)}),void 0!==e.timeToLive&&null!==e.timeToLive&&{timeToLive:Ue(e.timeToLive,t)})}(e,t)}))},Ue=function(e,t){return f(f({},void 0!==e.timeToLiveInSeconds&&null!==e.timeToLiveInSeconds&&{timeToLiveInSeconds:e.timeToLiveInSeconds}),void 0!==e.turnsToLive&&null!==e.turnsToLive&&{turnsToLive:e.turnsToLive})},Fe=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=h(t,2),i=r[0],o=r[1];return null===o?e:f(f({},e),((n={})[i]=o,n))}),{})},je=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=h(t,2),i=r[0],o=r[1];return null===o?e:f(f({},e),((n={})[i]=o,n))}),{})},Be=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{name:void 0!==e.name&&null!==e.name?e.name:void 0,parameters:void 0!==e.parameters&&null!==e.parameters?je(e.parameters,t):void 0,timeToLive:void 0!==e.timeToLive&&null!==e.timeToLive?ze(e.timeToLive,t):void 0}}(e,t)}))},ze=function(e,t){return{timeToLiveInSeconds:void 0!==e.timeToLiveInSeconds&&null!==e.timeToLiveInSeconds?e.timeToLiveInSeconds:void 0,turnsToLive:void 0!==e.turnsToLive&&null!==e.turnsToLive?e.turnsToLive:void 0}},qe=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{attachmentLinkUrl:void 0!==e.attachmentLinkUrl&&null!==e.attachmentLinkUrl?e.attachmentLinkUrl:void 0,buttons:void 0!==e.buttons&&null!==e.buttons?Ve(e.buttons,t):void 0,imageUrl:void 0!==e.imageUrl&&null!==e.imageUrl?e.imageUrl:void 0,subTitle:void 0!==e.subTitle&&null!==e.subTitle?e.subTitle:void 0,title:void 0!==e.title&&null!==e.title?e.title:void 0}}(e,t)}))},Ge=function(e,t){return{score:void 0!==e.score&&null!==e.score?e.score:void 0}},Ke=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:He(e,t)}))},Ve=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{text:void 0!==e.text&&null!==e.text?e.text:void 0,value:void 0!==e.value&&null!==e.value?e.value:void 0}}(e)}))},He=function(e,t){return{intentName:void 0!==e.intentName&&null!==e.intentName?e.intentName:void 0,nluIntentConfidence:void 0!==e.nluIntentConfidence&&null!==e.nluIntentConfidence?Ge(e.nluIntentConfidence,t):void 0,slots:void 0!==e.slots&&null!==e.slots?Je(e.slots,t):void 0}},We=function(e,t){return{contentType:void 0!==e.contentType&&null!==e.contentType?e.contentType:void 0,genericAttachments:void 0!==e.genericAttachments&&null!==e.genericAttachments?qe(e.genericAttachments,t):void 0,version:void 0!==e.version&&null!==e.version?e.version:void 0}},Ye=function(e,t){return{sentimentLabel:void 0!==e.sentimentLabel&&null!==e.sentimentLabel?e.sentimentLabel:void 0,sentimentScore:void 0!==e.sentimentScore&&null!==e.sentimentScore?e.sentimentScore:void 0}},Je=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=h(t,2),i=r[0],o=r[1];return null===o?e:f(f({},e),((n={})[i]=o,n))}),{})},Ze=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Qe=function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))},$e=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},Xe=function(e,t){return Qe(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},et=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},tt=n(28064),nt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return c(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,tt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LexRuntimeServiceClient",commandName:"PostTextCommand",inputFilterSensitiveLog:B.filterSensitiveLog,outputFilterSensitiveLog:Y.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return l(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return p(this,(function(p){switch(p.label){case 0:if(n={"content-type":"application/json"},r="/bot/{botName}/alias/{botAlias}/user/{userId}/text",void 0===e.botName)throw new Error("No value provided for input HTTP label: botName.");if((i=e.botName).length<=0)throw new Error("Empty value provided for input HTTP label: botName.");if(r=r.replace("{botName}",(0,be.jc)(i)),void 0===e.botAlias)throw new Error("No value provided for input HTTP label: botAlias.");if((i=e.botAlias).length<=0)throw new Error("Empty value provided for input HTTP label: botAlias.");if(r=r.replace("{botAlias}",(0,be.jc)(i)),void 0===e.userId)throw new Error("No value provided for input HTTP label: userId.");if((i=e.userId).length<=0)throw new Error("Empty value provided for input HTTP label: userId.");return r=r.replace("{userId}",(0,be.jc)(i)),o=JSON.stringify(f(f(f(f({},void 0!==e.activeContexts&&null!==e.activeContexts&&{activeContexts:Me(e.activeContexts,t)}),void 0!==e.inputText&&null!==e.inputText&&{inputText:e.inputText}),void 0!==e.requestAttributes&&null!==e.requestAttributes&&{requestAttributes:Fe(e.requestAttributes,t)}),void 0!==e.sessionAttributes&&null!==e.sessionAttributes&&{sessionAttributes:Fe(e.sessionAttributes,t)})),[4,t.endpoint()];case 1:return s=p.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new Se.aW({protocol:c,hostname:a,port:l,method:"POST",headers:n,path:r,body:o})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return l(void 0,void 0,void 0,(function(){var n,r;return p(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ee(e,t)]:(n={$metadata:Ze(e),activeContexts:void 0,alternativeIntents:void 0,botVersion:void 0,dialogState:void 0,intentName:void 0,message:void 0,messageFormat:void 0,nluIntentConfidence:void 0,responseCard:void 0,sentimentResponse:void 0,sessionAttributes:void 0,sessionId:void 0,slotToElicit:void 0,slots:void 0},[4,Xe(e.body,t)]);case 1:return void 0!==(r=i.sent()).activeContexts&&null!==r.activeContexts&&(n.activeContexts=Be(r.activeContexts,t)),void 0!==r.alternativeIntents&&null!==r.alternativeIntents&&(n.alternativeIntents=Ke(r.alternativeIntents,t)),void 0!==r.botVersion&&null!==r.botVersion&&(n.botVersion=r.botVersion),void 0!==r.dialogState&&null!==r.dialogState&&(n.dialogState=r.dialogState),void 0!==r.intentName&&null!==r.intentName&&(n.intentName=r.intentName),void 0!==r.message&&null!==r.message&&(n.message=r.message),void 0!==r.messageFormat&&null!==r.messageFormat&&(n.messageFormat=r.messageFormat),void 0!==r.nluIntentConfidence&&null!==r.nluIntentConfidence&&(n.nluIntentConfidence=Ge(r.nluIntentConfidence,t)),void 0!==r.responseCard&&null!==r.responseCard&&(n.responseCard=We(r.responseCard,t)),void 0!==r.sentimentResponse&&null!==r.sentimentResponse&&(n.sentimentResponse=Ye(r.sentimentResponse,t)),void 0!==r.sessionAttributes&&null!==r.sessionAttributes&&(n.sessionAttributes=Je(r.sessionAttributes,t)),void 0!==r.sessionId&&null!==r.sessionId&&(n.sessionId=r.sessionId),void 0!==r.slotToElicit&&null!==r.slotToElicit&&(n.slotToElicit=r.slotToElicit),void 0!==r.slots&&null!==r.slots&&(n.slots=Je(r.slots,t)),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(be.mY),rt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return c(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,tt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LexRuntimeServiceClient",commandName:"PostContentCommand",inputFilterSensitiveLog:R.filterSensitiveLog,outputFilterSensitiveLog:U.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return l(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return p(this,(function(p){switch(p.label){case 0:if(n=f(f(f(f(f({"content-type":"application/octet-stream","x-amz-content-sha256":"UNSIGNED-PAYLOAD"},$e(e.sessionAttributes)&&{"x-amz-lex-session-attributes":Buffer.from(be.QT.fromObject(e.sessionAttributes)).toString("base64")}),$e(e.requestAttributes)&&{"x-amz-lex-request-attributes":Buffer.from(be.QT.fromObject(e.requestAttributes)).toString("base64")}),$e(e.contentType)&&{"content-type":e.contentType}),$e(e.accept)&&{accept:e.accept}),$e(e.activeContexts)&&{"x-amz-lex-active-contexts":Buffer.from(be.QT.fromObject(e.activeContexts)).toString("base64")}),r="/bot/{botName}/alias/{botAlias}/user/{userId}/content",void 0===e.botName)throw new Error("No value provided for input HTTP label: botName.");if((i=e.botName).length<=0)throw new Error("Empty value provided for input HTTP label: botName.");if(r=r.replace("{botName}",(0,be.jc)(i)),void 0===e.botAlias)throw new Error("No value provided for input HTTP label: botAlias.");if((i=e.botAlias).length<=0)throw new Error("Empty value provided for input HTTP label: botAlias.");if(r=r.replace("{botAlias}",(0,be.jc)(i)),void 0===e.userId)throw new Error("No value provided for input HTTP label: userId.");if((i=e.userId).length<=0)throw new Error("Empty value provided for input HTTP label: userId.");return r=r.replace("{userId}",(0,be.jc)(i)),void 0!==e.inputStream&&(o=e.inputStream),[4,t.endpoint()];case 1:return s=p.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new Se.aW({protocol:c,hostname:a,port:l,method:"POST",headers:n,path:r,body:o})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return l(void 0,void 0,void 0,(function(){var n,r;return p(this,(function(i){return 200!==e.statusCode&&e.statusCode>=300?[2,_e(e,t)]:(n={$metadata:Ze(e),activeContexts:void 0,alternativeIntents:void 0,audioStream:void 0,botVersion:void 0,contentType:void 0,dialogState:void 0,inputTranscript:void 0,intentName:void 0,message:void 0,messageFormat:void 0,nluIntentConfidence:void 0,sentimentResponse:void 0,sessionAttributes:void 0,sessionId:void 0,slotToElicit:void 0,slots:void 0},void 0!==e.headers["content-type"]&&(n.contentType=e.headers["content-type"]),void 0!==e.headers["x-amz-lex-intent-name"]&&(n.intentName=e.headers["x-amz-lex-intent-name"]),void 0!==e.headers["x-amz-lex-nlu-intent-confidence"]&&(n.nluIntentConfidence=new be.QT(Buffer.from(e.headers["x-amz-lex-nlu-intent-confidence"],"base64").toString("ascii"))),void 0!==e.headers["x-amz-lex-alternative-intents"]&&(n.alternativeIntents=new be.QT(Buffer.from(e.headers["x-amz-lex-alternative-intents"],"base64").toString("ascii"))),void 0!==e.headers["x-amz-lex-slots"]&&(n.slots=new be.QT(Buffer.from(e.headers["x-amz-lex-slots"],"base64").toString("ascii"))),void 0!==e.headers["x-amz-lex-session-attributes"]&&(n.sessionAttributes=new be.QT(Buffer.from(e.headers["x-amz-lex-session-attributes"],"base64").toString("ascii"))),void 0!==e.headers["x-amz-lex-sentiment"]&&(n.sentimentResponse=e.headers["x-amz-lex-sentiment"]),void 0!==e.headers["x-amz-lex-message"]&&(n.message=e.headers["x-amz-lex-message"]),void 0!==e.headers["x-amz-lex-message-format"]&&(n.messageFormat=e.headers["x-amz-lex-message-format"]),void 0!==e.headers["x-amz-lex-dialog-state"]&&(n.dialogState=e.headers["x-amz-lex-dialog-state"]),void 0!==e.headers["x-amz-lex-slot-to-elicit"]&&(n.slotToElicit=e.headers["x-amz-lex-slot-to-elicit"]),void 0!==e.headers["x-amz-lex-input-transcript"]&&(n.inputTranscript=e.headers["x-amz-lex-input-transcript"]),void 0!==e.headers["x-amz-lex-bot-version"]&&(n.botVersion=e.headers["x-amz-lex-bot-version"]),void 0!==e.headers["x-amz-lex-session-id"]&&(n.sessionId=e.headers["x-amz-lex-session-id"]),void 0!==e.headers["x-amz-lex-active-contexts"]&&(n.activeContexts=new be.QT(Buffer.from(e.headers["x-amz-lex-active-contexts"],"base64").toString("ascii"))),r=e.body,n.audioStream=r,[2,Promise.resolve(n)])}))}))}(e,t)},t}(be.mY),it=n(17672),ot=n(1648),st=function(e){if(e instanceof Blob||e instanceof ReadableStream)return new Response(e).arrayBuffer().then((function(e){return new Uint8Array(e)}));throw new Error("Readable is not supported.")},at=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ut=function(){return ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ut.apply(this,arguments)},ct=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ft=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},lt=new r.k("AWSLexProvider"),pt=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._botsCompleteCallback={},n}return at(t,e),t.prototype.getProviderName=function(){return"AWSLexProvider"},t.prototype.reportBotStatus=function(e,t){var n=this;lt.debug("postContent state",e.dialogState),"ReadyForFulfillment"!==e.dialogState&&"Fulfilled"!==e.dialogState||("function"==typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t](null,{slots:e.slots})}),0),this._config&&"function"==typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete(null,{slots:e.slots})}),0)),"Failed"===e.dialogState&&("function"==typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t]("Bot conversation failed")}),0),this._config&&"function"==typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete("Bot conversation failed")}),0))},t.prototype.sendMessage=function(e,t){return ct(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l;return ft(this,(function(p){switch(p.label){case 0:return this._config[e]?[4,it.cN.get()]:[2,Promise.reject("Bot "+e+" does not exist")];case 1:if(!(n=p.sent()))return[2,Promise.reject("No credentials")];if(this.lexRuntimeServiceClient=new we({region:this._config[e].region,credentials:n,customUserAgent:(0,ot.Zm)()}),"string"!=typeof t)return[3,6];r={botAlias:this._config[e].alias,botName:e,inputText:t,userId:n.identityId},lt.debug("postText to lex",t),p.label=2;case 2:return p.trys.push([2,4,,5]),i=new nt(r),[4,this.lexRuntimeServiceClient.send(i)];case 3:return c=p.sent(),this.reportBotStatus(c,e),[2,c];case 4:return o=p.sent(),[2,Promise.reject(o)];case 5:return[3,11];case 6:s=t.content,a=t.options.messageType,r="voice"===a?{botAlias:this._config[e].alias,botName:e,contentType:"audio/x-l16; sample-rate=16000",inputStream:s,userId:n.identityId,accept:"audio/mpeg"}:{botAlias:this._config[e].alias,botName:e,contentType:"text/plain; charset=utf-8",inputStream:s,userId:n.identityId,accept:"audio/mpeg"},lt.debug("postContent to lex",t),p.label=7;case 7:return p.trys.push([7,10,,11]),u=new rt(r),[4,this.lexRuntimeServiceClient.send(u)];case 8:return c=p.sent(),[4,st(c.audioStream)];case 9:return f=p.sent(),this.reportBotStatus(c,e),[2,ut(ut({},c),{audioStream:f})];case 10:return l=p.sent(),[2,Promise.reject(l)];case 11:return[2]}}))}))},t.prototype.onComplete=function(e,t){if(!this._config[e])throw new ErrorEvent("Bot "+e+" does not exist");this._botsCompleteCallback[e]=t},t}(a),ht=function(){return ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ht.apply(this,arguments)},dt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},vt=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},gt=new r.k("Interactions"),yt=new(function(){function e(e){this._options=e,gt.debug("Interactions Options",this._options),this._pluggables={}}return e.prototype.getModuleName=function(){return"Interactions"},e.prototype.configure=function(e){var t=this,n=e?e.Interactions||e:{};gt.debug("configure Interactions",{opt:n}),this._options=ht(ht({bots:{}},n),n.Interactions);var r=this._options.aws_bots_config,i=this._options.bots;return!Object.keys(i).length&&r&&Array.isArray(r)&&r.forEach((function(e){t._options.bots[e.name]=e})),!this._pluggables.AWSLexProvider&&i&&Object.keys(i).map((function(e){return i[e]})).find((function(e){return!e.providerName||"AWSLexProvider"===e.providerName}))&&(this._pluggables.AWSLexProvider=new pt),Object.keys(this._pluggables).map((function(e){t._pluggables[e].configure(t._options.bots)})),this._options},e.prototype.addPluggable=function(e){if(e&&"Interactions"===e.getCategory()){if(this._pluggables[e.getProviderName()])throw new Error("Bot "+e.getProviderName()+" already plugged");return e.configure(this._options.bots),void(this._pluggables[e.getProviderName()]=e)}},e.prototype.send=function(e,t){return dt(this,void 0,void 0,(function(){var n;return vt(this,(function(r){switch(r.label){case 0:if(!this._options.bots||!this._options.bots[e])throw new Error("Bot "+e+" does not exist");if(n=this._options.bots[e].providerName||"AWSLexProvider",!this._pluggables[n])throw new Error("Bot "+n+" does not have valid pluggin did you try addPluggable first?");return[4,this._pluggables[n].sendMessage(e,t)];case 1:return[2,r.sent()]}}))}))},e.prototype.onComplete=function(e,t){if(!this._options.bots||!this._options.bots[e])throw new Error("Bot "+e+" does not exist");var n=this._options.bots[e].providerName||"AWSLexProvider";if(!this._pluggables[n])throw new Error("Bot "+n+" does not have valid pluggin did you try addPluggable first?");this._pluggables[n].onComplete(e,t)},e}())(null);i.dQ.register(yt)},88346:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var r=n(55218),i=n(75557),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},u=new r.k("Predictions"),c=new(function(){function e(e){this._options=e,this._convertPluggables=[],this._identifyPluggables=[],this._interpretPluggables=[]}return e.prototype.getModuleName=function(){return"Predictions"},e.prototype.addPluggable=function(e){if(this.getPluggable(e.getProviderName()))throw new Error("Pluggable with name "+e.getProviderName()+" has already been added.");var t=!1;this.implementsConvertPluggable(e)&&(this._convertPluggables.push(e),t=!0),this.implementsIdentifyPluggable(e)&&(this._identifyPluggables.push(e),t=!0),this.implementsInterpretPluggable(e)&&(this._interpretPluggables.push(e),t=!0),t&&this.configurePluggable(e)},e.prototype.getPluggable=function(e){var t=this.getAllProviders().find((function(t){return t.getProviderName()===e}));return void 0===t?(u.debug("No plugin found with providerName=>",e),null):t},e.prototype.removePluggable=function(e){this._convertPluggables=this._convertPluggables.filter((function(t){return t.getProviderName()!==e})),this._identifyPluggables=this._identifyPluggables.filter((function(t){return t.getProviderName()!==e})),this._interpretPluggables=this._interpretPluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this,n=e?e.predictions||e:{};n=o(o({},n),e),this._options=Object.assign({},this._options,n),u.debug("configure Predictions",this._options),this.getAllProviders().forEach((function(e){return t.configurePluggable(e)}))},e.prototype.interpret=function(e,t){return this.getPluggableToExecute(this._interpretPluggables,t).interpret(e)},e.prototype.convert=function(e,t){return this.getPluggableToExecute(this._convertPluggables,t).convert(e)},e.prototype.identify=function(e,t){return this.getPluggableToExecute(this._identifyPluggables,t).identify(e)},e.prototype.getPluggableToExecute=function(e,t){if(t&&t.providerName)return a(e).find((function(e){return e.getProviderName()===t.providerName}));if(1===e.length)return e[0];throw new Error("More than one or no providers are configured, Either specify a provider name or configure exactly one provider")},e.prototype.getAllProviders=function(){return a(this._convertPluggables,this._identifyPluggables,this._interpretPluggables)},e.prototype.configurePluggable=function(e){var t=Object.assign({},this._options.predictions,this._options[e.getCategory().toLowerCase()]);e.configure(t)},e.prototype.implementsConvertPluggable=function(e){return e&&"function"==typeof e.convert},e.prototype.implementsIdentifyPluggable=function(e){return e&&"function"==typeof e.identify},e.prototype.implementsInterpretPluggable=function(e){return e&&"function"==typeof e.interpret},e}())({});i.dQ.register(c)},62581:function(e,t,n){"use strict";n.d(t,{p:function(){return ue}});var r,i=n(44213),o=n(20617),s=n(55218),a=n(19797),u=n(75557),c=n(6651),f=n(24063),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},p=new s.k("AbstractPubSubProvider"),h=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=l(l({},e),this._config),p.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return l({},this._config)},enumerable:!0,configurable:!0}),e}(),d=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(){return v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)},g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},y=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},b=new s.k("MqttOverWSProvider");var w,S,_,E=function(){function e(){this.promises=new Map}return e.prototype.get=function(e,t){return g(this,void 0,void 0,(function(){var n,r;return y(this,(function(i){return(n=this.promises.get(e))?[2,n]:t?(r=t(e),this.promises.set(e,r),[2,r]):[2,void 0]}))}))},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(e){this.promises.delete(e)},e}(),A="undefined"!=typeof Symbol?Symbol("topic"):"@@topic",C=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,v(v({},t),{clientId:t.clientId||(0,f.v4)()}))||this;return n._clientsQueue=new E,n._topicObservers=new Map,n._clientIdObservers=new Map,n}return d(t,e),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(e){return"object"==typeof e&&e[A]},t.prototype.getProviderName=function(){return"MqttOverWSProvider"},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,i=m(e,["clientId","errorCode"]);if(0!==r){b.warn(n,JSON.stringify(v({errorCode:r},i),null,2));var o=[];if(!n)return;var s=this._clientIdObservers.get(n);if(!s)return;s.forEach((function(e){e.error("Disconnected, error code: "+r),t._topicObservers.forEach((function(t,n){t.delete(e),0===t.size&&o.push(n)}))})),this._clientIdObservers.delete(n),o.forEach((function(e){t._topicObservers.delete(e)}))}},t.prototype.newClient=function(e){var t=e.url,n=e.clientId;return g(this,void 0,void 0,(function(){var e,r=this;return y(this,(function(i){switch(i.label){case 0:return b.debug("Creating new MQTT client",n),(e=new c.Client(t,n)).onMessageArrived=function(e){var t=e.destinationName,n=e.payloadString;r._onMessage(t,n)},e.onConnectionLost=function(e){var t=e.errorCode,i=m(e,["errorCode"]);r.onDisconnect(v({clientId:n,errorCode:t},i))},[4,new Promise((function(t,n){e.connect({useSSL:r.isSSLEnabled,mqttVersion:3,onSuccess:function(){return t(e)},onFailure:n})}))];case 1:return i.sent(),[2,e]}}))}))},t.prototype.connect=function(e,t){return void 0===t&&(t={}),g(this,void 0,void 0,(function(){var n=this;return y(this,(function(r){switch(r.label){case 0:return[4,this.clientsQueue.get(e,(function(e){return n.newClient(v(v({},t),{clientId:e}))}))];case 1:return[2,r.sent()]}}))}))},t.prototype.disconnect=function(e){return g(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(e)];case 1:return(t=n.sent())&&t.isConnected()&&t.disconnect(),this.clientsQueue.remove(e),[2]}}))}))},t.prototype.publish=function(e,t){return g(this,void 0,void 0,(function(){var n,r,i,o;return y(this,(function(s){switch(s.label){case 0:return n=[].concat(e),r=JSON.stringify(t),[4,this.endpoint];case 1:return i=s.sent(),[4,this.connect(this.clientId,{url:i})];case 2:return o=s.sent(),b.debug("Publishing to topic(s)",n.join(","),r),n.forEach((function(e){return o.send(e,r)})),[2]}}))}))},t.prototype._onMessage=function(e,t){try{var n=[];this._topicObservers.forEach((function(t,r){(function(e,t){for(var n=e.split("/"),r=n.length,i=t.split("/"),o=0;o<r;++o){var s=n[o],a=i[o];if("#"===s)return i.length>=r;if("+"!==s&&s!==a)return!1}return r===i.length})(r,e)&&n.push(t)}));var r=JSON.parse(t);"object"==typeof r&&(r[A]=e),n.forEach((function(e){e.forEach((function(e){return e.next(r)}))}))}catch(i){b.warn("Error handling message",i,t)}},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=[].concat(e);return b.debug("Subscribing to topic(s)",r.join(",")),new i.Z((function(e){var i;r.forEach((function(t){var r=n._topicObservers.get(t);r||(r=new Set,n._topicObservers.set(t,r)),r.add(e)}));var o=t.clientId,s=void 0===o?n.clientId:o,a=n._clientIdObservers.get(s);return a||(a=new Set),a.add(e),n._clientIdObservers.set(s,a),g(n,void 0,void 0,(function(){var n,o,a,u;return y(this,(function(c){switch(c.label){case 0:return void 0!==(n=t.url)?[3,2]:[4,this.endpoint];case 1:return a=c.sent(),[3,3];case 2:a=n,c.label=3;case 3:o=a,c.label=4;case 4:return c.trys.push([4,6,,7]),[4,this.connect(s,{url:o})];case 5:return i=c.sent(),r.forEach((function(e){i.subscribe(e)})),[3,7];case 6:return u=c.sent(),e.error(u),[3,7];case 7:return[2]}}))})),function(){var t,o;return b.debug("Unsubscribing from topic(s)",r.join(",")),i&&(null===(t=n._clientIdObservers.get(s))||void 0===t||t.delete(e),0===(null===(o=n._clientIdObservers.get(s))||void 0===o?void 0:o.size)&&(n.disconnect(s),n._clientIdObservers.delete(s)),r.forEach((function(t){var r=n._topicObservers.get(t)||new Set;r.delete(e),0===r.size&&(n._topicObservers.delete(t),i.isConnected()&&i.unsubscribe(t))}))),null}}))},t}(h),I=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},x=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},D=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x(arguments[t]));return e},k=new s.k("AWSAppSyncProvider"),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._topicClient=new Map,t._topicAlias=new Map,t}return I(t,e),Object.defineProperty(t.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSAppSyncProvider"},t.prototype.publish=function(e,t,n){return T(this,void 0,void 0,(function(){return O(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype._cleanUp=function(e){var t=this;Array.from(this._topicClient.entries()).filter((function(t){return x(t,2)[1].clientId===e})).map((function(e){return x(e,1)[0]})).forEach((function(e){return t._cleanUpForTopic(e)}))},t.prototype._cleanUpForTopic=function(e){this._topicClient.delete(e),this._topicAlias.delete(e)},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,i=P(e,["clientId","errorCode"]);if(0!==r){var o=Array.from(this._topicClient.entries()).filter((function(e){return x(e,2)[1].clientId===n})).map((function(e){return x(e,1)[0]}));o.forEach((function(e){t._topicObservers.has(e)&&(t._topicObservers.get(e).forEach((function(e){e.closed||e.error(i)})),t._topicObservers.delete(e))})),this._cleanUp(n)}},t.prototype.disconnect=function(t){return T(this,void 0,void 0,(function(){return O(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(t,(function(){return null}))];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,t)];case 2:return n.sent(),this._cleanUp(t),[2]}}))}))},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=new i.Z((function(r){var i=[].concat(e);return k.debug("Subscribing to topic(s)",i.join(",")),T(n,void 0,void 0,(function(){var e,n,o,s,a,u=this;return O(this,(function(c){switch(c.label){case 0:return i.forEach((function(e){u._topicObservers.has(e)||u._topicObservers.set(e,new Set),u._topicObservers.get(e).add(r)})),e=t.mqttConnections,n=void 0===e?[]:e,o=t.newSubscriptions,s=Object.entries(o).map((function(e){var t=x(e,2),n=t[0];return[t[1].topic,n]})),this._topicAlias=new Map(D(Array.from(this._topicAlias.entries()),s)),a=Object.entries(i.reduce((function(e,t){var r=n.find((function(e){return e.topics.indexOf(t)>-1}));if(r){var i=r.client,o=r.url;e[i]||(e[i]={url:o,topics:new Set}),e[i].topics.add(t)}return e}),{})),[4,Promise.all(a.map((function(e){var t=x(e,2),n=t[0],i=t[1],o=i.url,s=i.topics;return T(u,void 0,void 0,(function(){var e,t,i=this;return O(this,(function(a){switch(a.label){case 0:e=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.connect(n,{clientId:n,url:o})];case 2:return e=a.sent(),[3,4];case 3:return t=a.sent(),r.error({message:"Failed to connect",error:t}),r.complete(),[2,void 0];case 4:return s.forEach((function(t){e.isConnected()&&(e.subscribe(t),i._topicClient.set(t,e))})),[2,e]}}))}))})))];case 1:return c.sent(),[2]}}))})),function(){k.debug("Unsubscribing from topic(s)",i.join(",")),i.forEach((function(e){var t=n._topicClient.get(e);t&&t.isConnected()&&(t.unsubscribe(e),n._topicClient.delete(e),Array.from(n._topicClient.values()).some((function(e){return e===t}))||n.disconnect(t.clientId)),n._topicObservers.delete(e)}))}}));return i.Z.from(r).map((function(e){var t=n.getTopicForValue(e),r=n._topicAlias.get(t);return e.data=Object.entries(e.data).reduce((function(e,t){var n=x(t,2),i=n[0],o=n[1];return e[r||i]=o,e}),{}),e}))},t}(C),N=n(69750),R=n(1480),M=n(41422),U=n(43698),F=n(60643),j=n(4071),B=n(17672),z=n(62579),q=n(56805),G=n(21371),K=n(79548),V=[400,401,403];!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}(w||(w={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(S||(S={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(_||(_={}));var H="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",W={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},Y=15e3,J=3e5,Z=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q=function(){return Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Q.apply(this,arguments)},$=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},X=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ee=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},te=new s.k("AWSAppSyncRealTimeProvider"),ne=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com\/graphql$/i,re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.socketStatus=_.CLOSED,t.keepAliveTimeout=J,t.subscriptionObserverMap=new Map,t.promiseArray=[],t}return Z(t,e),t.prototype.getNewWebSocket=function(e,t){return new WebSocket(e,t)},t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return $(this,void 0,void 0,(function(){return X(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.isCustomDomain=function(e){return null===e.match(ne)},t.prototype.subscribe=function(e,t){var n=this,r=null==t?void 0:t.appSyncGraphqlEndpoint;return new i.Z((function(e){if(t&&r){var i=(0,f.v4)();return n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:i}).catch((function(t){e.error({errors:[Q({},new N._(K.un.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+t))]}),e.complete()})),function(){return $(n,void 0,void 0,(function(){var e,t;return X(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(i)];case 1:if(n.sent(),!(e=(this.subscriptionObserverMap.get(i)||{}).subscriptionState))return[2];if(e!==S.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(i),[3,4];case 2:return t=n.sent(),te.debug("Error while unsubscribing "+t),[3,4];case 3:return this._removeSubscriptionObserver(i),[7];case 4:return[2]}}))}))}}e.error({errors:[Q({},new N._("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t,n,r=e.options,i=e.observer,o=e.subscriptionId;return $(this,void 0,void 0,(function(){var e,s,u,c,f,l,p,h,d,v,g,y,m,b,_,E,A,C,I,T,O,P,x,D,k,L=this;return X(this,(function(R){switch(R.label){case 0:return e=r.appSyncGraphqlEndpoint,s=r.authenticationType,u=r.query,c=r.variables,f=r.apiKey,l=r.region,p=r.graphql_headers,h=void 0===p?function(){return{}}:p,d=r.additionalHeaders,v=void 0===d?{}:d,g=S.PENDING,y={query:u,variables:c},this.subscriptionObserverMap.set(o,{observer:i,query:null!=u?u:"",variables:null!=c?c:{},subscriptionState:g,startAckTimeoutId:void 0}),m=JSON.stringify(y),_=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:f,appSyncGraphqlEndpoint:e,authenticationType:s,payload:m,canonicalUri:"",region:l,additionalHeaders:v})];case 1:return E=[Q.apply(void 0,_.concat([R.sent()]))],[4,h()];case 2:b=Q.apply(void 0,[Q.apply(void 0,[Q.apply(void 0,E.concat([R.sent()])),v]),(k={},k[a.Mt]=U.gT.userAgent,k)]),A={id:o,payload:{data:m,extensions:{authorization:Q({},b)}},type:w.GQL_START},C=JSON.stringify(A),R.label=3;case 3:return R.trys.push([3,5,,6]),[4,this._initializeWebSocketConnection({apiKey:f,appSyncGraphqlEndpoint:e,authenticationType:s,region:l,additionalHeaders:v})];case 4:return R.sent(),[3,6];case 5:return I=R.sent(),te.debug({err:I}),T=null!==(t=I.message)&&void 0!==t?t:"",i.error({errors:[Q({},new N._(K.un.CONNECTION_FAILED+": "+T))]}),i.complete(),"function"==typeof(O=(this.subscriptionObserverMap.get(o)||{}).subscriptionFailedCallback)&&O(),[2];case 6:return P=null!==(n=this.subscriptionObserverMap.get(o))&&void 0!==n?n:{},x=P.subscriptionFailedCallback,D=P.subscriptionReadyCallback,this.subscriptionObserverMap.set(o,{observer:i,subscriptionState:g,query:null!=u?u:"",variables:null!=c?c:{},subscriptionReadyCallback:D,subscriptionFailedCallback:x,startAckTimeoutId:setTimeout((function(){L._timeoutStartSubscriptionAck.call(L,o)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(C),[2]}}))}))},t.prototype._waitForSubscriptionToBeConnected=function(e){return $(this,void 0,void 0,(function(){var t,n=this;return X(this,(function(r){return(t=this.subscriptionObserverMap.get(e))&&t.subscriptionState===S.PENDING?[2,new Promise((function(r,i){var o=t.observer,s=t.subscriptionState,a=t.variables,u=t.query;n.subscriptionObserverMap.set(e,{observer:o,subscriptionState:s,variables:a,query:u,subscriptionReadyCallback:r,subscriptionFailedCallback:i})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===_.READY){var t={id:e,type:w.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(r){te.debug({err:r})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{te.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId);var e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=_.CLOSED}else this.socketStatus=_.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){te.debug("subscription message from AWS AppSync RealTime: "+e.data);var t=JSON.parse(e.data),n=t.id,r=void 0===n?"":n,i=t.payload,o=t.type,s=this.subscriptionObserverMap.get(r)||{},a=s.observer,u=void 0===a?null:a,c=s.query,f=void 0===c?"":c,l=s.variables,p=void 0===l?{}:l,h=s.startAckTimeoutId,d=s.subscriptionReadyCallback,v=s.subscriptionFailedCallback;if(te.debug({id:r,observer:u,query:f,variables:p}),o===w.GQL_DATA&&i&&i.data)u?u.next(i):te.debug("observer not found for id: "+r);else if(o!==w.GQL_START_ACK){if(o===w.GQL_CONNECTION_KEEP_ALIVE)return this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),void(this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,K.un.TIMEOUT_DISCONNECT),this.keepAliveTimeout));if(o===w.GQL_ERROR){g=S.FAILED;u&&(this.subscriptionObserverMap.set(r,{observer:u,query:f,variables:p,startAckTimeoutId:h,subscriptionReadyCallback:d,subscriptionFailedCallback:v,subscriptionState:g}),u.error({errors:[Q({},new N._(K.un.CONNECTION_FAILED+": "+JSON.stringify(i)))]}),h&&clearTimeout(h),u.complete(),"function"==typeof v&&v())}}else{te.debug("subscription ready for "+JSON.stringify({query:f,variables:p})),"function"==typeof d&&d(),h&&clearTimeout(h),function(e,t,n){F.Xb.dispatch("api",{event:e,data:t,message:n},"PubSub",H)}(K.un.SUBSCRIPTION_ACK,{query:f,variables:p},"Connection established for subscription");var g=S.CONNECTED;u&&this.subscriptionObserverMap.set(r,{observer:u,query:f,variables:p,startAckTimeoutId:void 0,subscriptionState:g,subscriptionReadyCallback:d,subscriptionFailedCallback:v})}},t.prototype._errorDisconnect=function(e){te.debug("Disconnect error: "+e),this.subscriptionObserverMap.forEach((function(t){var n=t.observer;n&&!n.closed&&n.error({errors:[Q({},new N._(e))]})})),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=_.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e);if(t){var n=t.observer,r=t.query,i=t.variables;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:i,subscriptionState:S.FAILED}),n&&!n.closed&&(n.error({errors:[Q({},new N._("Subscription timeout "+JSON.stringify({query:r,variables:i})))]}),n.complete()),te.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:i}))}},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,i=e.apiKey,o=e.region,s=e.additionalHeaders;if(this.socketStatus!==_.READY)return new Promise((function(e,a){return $(t,void 0,void 0,(function(){var t,u,c,f,l,p,h,d,v,g;return X(this,(function(y){switch(y.label){case 0:if(this.promiseArray.push({res:e,rej:a}),this.socketStatus!==_.CLOSED)return[3,5];y.label=1;case 1:return y.trys.push([1,4,,5]),this.socketStatus=_.CONNECTING,t="{}",f=(c=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:t,canonicalUri:"/connect",apiKey:i,appSyncGraphqlEndpoint:n,region:o,additionalHeaders:s})];case 2:return u=f.apply(c,[y.sent()]),l=M.lW.from(u).toString("base64"),p=M.lW.from(t).toString("base64"),h=null!=n?n:"",h=this.isCustomDomain(h)?h.concat("/realtime"):h.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),d=this.isSSLEnabled?"wss://":"ws://",h=h.replace("https://",d).replace("http://",d),v=h+"?header="+l+"&payload="+p,[4,this._initializeRetryableHandshake(v)];case 3:return y.sent(),this.promiseArray.forEach((function(e){var t=e.res;te.debug("Notifying connection successful"),t()})),this.socketStatus=_.READY,this.promiseArray=[],[3,5];case 4:return g=y.sent(),this.promiseArray.forEach((function(e){return(0,e.rej)(g)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=_.CLOSED,[3,5];case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){return $(this,void 0,void 0,(function(){return X(this,(function(t){switch(t.label){case 0:return te.debug("Initializaling retryable Handshake"),[4,(0,j.Xm)(this._initializeHandshake.bind(this),[e],5e3)];case 1:return t.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){return $(this,void 0,void 0,(function(){var t,n,r,i,o=this;return X(this,(function(s){switch(s.label){case 0:te.debug("Initializing handshake "+e),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,new Promise((function(t,n){var r=o.getNewWebSocket(e,"graphql-ws");r.onerror=function(){te.debug("WebSocket connection error")},r.onclose=function(){n(new Error("Connection handshake error"))},r.onopen=function(){return o.awsRealTimeSocket=r,t()}}))];case 2:return s.sent(),[4,new Promise((function(e,t){if(o.awsRealTimeSocket){var n=!1;o.awsRealTimeSocket.onerror=function(e){te.debug("WebSocket error "+JSON.stringify(e))},o.awsRealTimeSocket.onclose=function(e){te.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},o.awsRealTimeSocket.onmessage=function(r){te.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var i=JSON.parse(r.data),s=i.type,a=i.payload,u=(void 0===a?{}:a).connectionTimeoutMs,c=void 0===u?J:u;if(s===w.GQL_CONNECTION_ACK)return n=!0,o.awsRealTimeSocket&&(o.keepAliveTimeout=c,o.awsRealTimeSocket.onmessage=o._handleIncomingSubscriptionMessage.bind(o),o.awsRealTimeSocket.onerror=function(e){te.debug(e),o._errorDisconnect(K.un.CONNECTION_CLOSED)},o.awsRealTimeSocket.onclose=function(e){te.debug("WebSocket closed "+e.reason),o._errorDisconnect(K.un.CONNECTION_CLOSED)}),void e("Cool, connected to AWS AppSyncRealTime");if(s===w.GQL_CONNECTION_ERROR){var f=i.payload,l=(void 0===f?{}:f).errors,p=ee(void 0===l?[]:l,1)[0],h=void 0===p?{}:p,d=h.errorType,v=void 0===d?"":d,g=h.errorCode;t({errorType:v,errorCode:void 0===g?0:g})}};var r={type:w.GQL_CONNECTION_INIT};o.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout(function(e){e||t(new Error("Connection timeout: ack from AWSRealTime was not received on 15000 ms"))}.bind(o,n),Y)}}))];case 3:return s.sent(),[3,5];case 4:throw t=s.sent(),r=(n=t).errorType,i=n.errorCode,V.includes(i)?new j.V2(r):r?new Error(r):t;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,i=e.appSyncGraphqlEndpoint,o=e.apiKey,s=e.region,a=e.additionalHeaders;return $(this,void 0,void 0,(function(){var e,u,c;return X(this,(function(f){switch(f.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},t&&e[t]?[3,1]:(te.debug("Authentication type "+t+" not supported"),[2,""]);case 1:return u=e[t],c=R.Qc(null!=i?i:"").host,te.debug("Authenticating with "+t),[4,u({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,apiKey:o,region:s,host:c,additionalHeaders:a})];case 2:return[2,f.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return $(this,void 0,void 0,(function(){return X(this,(function(e){switch(e.label){case 0:return[4,G.ZP.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return $(this,void 0,void 0,(function(){var e,n,r;return X(this,(function(i){switch(i.label){case 0:return[4,q.ZP.getItem("federatedInfo")];case 1:return(n=i.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,G.ZP.currentAuthenticatedUser()];case 3:(r=i.sent())&&(e=r.token),i.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return $(this,void 0,void 0,(function(){var e,r;return X(this,(function(i){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,i=e.region;return $(this,void 0,void 0,(function(){var e,o,s;return X(this,(function(a){switch(a.label){case 0:return e={region:i,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error("No credentials");return[4,B.cN.get().then((function(e){var t=e;return{secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken}}))];case 2:return o=a.sent(),s={url:""+r+n,data:t,method:"POST",headers:Q({},W)},[2,z.E.sign(s,o,e).headers]}}))}))},t.prototype._customAuthHeader=function(e){var t=e.host,n=e.additionalHeaders;if(!n||!n.Authorization)throw new Error("No auth token specified");return{Authorization:n.Authorization,host:t}},t.prototype._ensureCredentials=function(){return B.cN.get().then((function(e){if(!e)return!1;var t=B.cN.shear(e);return te.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return te.warn("ensure credentials error",e),!1}))},t}(h),ie=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},oe=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},se=(0,o.lC)().isNode,ae=new s.k("PubSub"),ue=new(function(){function e(e){this._options=null!=e?e:{},ae.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new L(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new re(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return ae.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return ie(this,void 0,void 0,(function(){return oe(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.getProviderByName=function(e){return e===a.yL?this.awsAppSyncProvider:e===a.om?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+t);return[n]},e.prototype.publish=function(e,t,n){return ie(this,void 0,void 0,(function(){return oe(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){if(se&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");ae.debug("subscribe options",t);var n=this.getProviders(t);return new i.Z((function(r){var i=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return i.forEach((function(e){return e.unsubscribe()}))}}))},e}());u.dQ.register(ue)},79548:function(e,t,n){"use strict";n.d(t,{un:function(){return r}});var r,i=n(62581);!function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(r||(r={})),t.ZP=i.p},24063:function(e,t,n){var r=n(93355),i=n(34429),o=i;o.v1=r,o.v4=i,e.exports=o},38423:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},16125:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},93355:function(e,t,n){var r,i,o=n(16125),s=n(38423),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,f=t||[],l=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==p){var h=o();null==l&&(l=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=i=16383&(h[6]<<8|h[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,g=d-a+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||d>a)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,u=v,i=p;var y=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;f[c++]=y>>>24&255,f[c++]=y>>>16&255,f[c++]=y>>>8&255,f[c++]=255&y;var m=d/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=p>>>8|128,f[c++]=255&p;for(var b=0;b<6;++b)f[c+b]=l[b];return t||s(f)}},34429:function(e,t,n){var r=n(16125),i=n(38423);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},60912:function(e,t,n){"use strict";n.d(t,{Ke:function(){return ha},HN:function(){return ua}});var r,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I,T,O,P,x,D,k,L,N,R,M,U,F,j,B,z,q,G,K,V,H,W,Y,J,Z,Q,$,X,ee,te,ne,re,ie,oe,se,ae,ue,ce,fe,le,pe,he,de,ve,ge,ye,me,be,we,Se,_e,Ee,Ae,Ce,Ie,Te,Oe,Pe,xe,De,ke,Le,Ne,Re,Me,Ue,Fe,je,Be,ze,qe,Ge,Ke,Ve,He,We,Ye,Je,Ze,Qe,$e,Xe,et,tt,nt,rt,it,ot,st,at,ut,ct,ft,lt,pt,ht,dt,vt,gt,yt,mt,bt,wt,St,_t,Et,At,Ct,It,Tt,Ot,Pt,xt,Dt,kt,Lt,Nt,Rt,Mt,Ut,Ft,jt,Bt,zt,qt,Gt,Kt,Vt,Ht,Wt,Yt,Jt,Zt,Qt,$t,Xt,en,tn,nn,rn,on,sn,an,un,cn,fn,ln,pn,hn,dn,vn,gn,yn,mn,bn,wn,Sn,_n,En,An,Cn,In,Tn,On,Pn,xn,Dn,kn,Ln,Nn,Rn,Mn,Un,Fn,jn,Bn,zn,qn,Gn,Kn,Vn,Hn,Wn,Yn,Jn,Zn,Qn,$n,Xn,er,tr,nr,rr,ir,or,sr,ar,ur,cr,fr,lr,pr,hr,dr,vr,gr,yr,mr,br,wr,Sr,_r,Er,Ar,Cr,Ir,Tr,Or,Pr,xr,Dr,kr,Lr,Nr,Rr,Mr,Ur,Fr,jr=n(55218),Br=n(23719),zr=n(96032),qr=n(60643),Gr=n(17672),Kr=n(43646),Vr=n(4781);!function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(r||(r={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(i||(i={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(o||(o={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(s||(s={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(a||(a={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(u||(u={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(c||(c={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(f||(f={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(l||(l={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Vr.oc})}}(h||(h={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(d||(d={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)((0,Kr.pi)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Vr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Vr.oc})}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)((0,Kr.pi)((0,Kr.pi)((0,Kr.pi)({},e),e.SSECustomerKey&&{SSECustomerKey:Vr.oc}),e.SSEKMSKeyId&&{SSEKMSKeyId:Vr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Vr.oc}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Vr.oc})}}(b||(b={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(w||(w={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(E||(E={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(A||(A={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(C||(C={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)((0,Kr.pi)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Vr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Vr.oc})}}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)((0,Kr.pi)((0,Kr.pi)({},e),e.SSECustomerKey&&{SSECustomerKey:Vr.oc}),e.SSEKMSKeyId&&{SSEKMSKeyId:Vr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Vr.oc})}}(T||(T={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(O||(O={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(P||(P={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(x||(x={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(k||(k={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(F||(F={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(q||(q={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(re||(re={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:ne.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:re.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Filter&&{Filter:ie.filterSensitiveLog(e.Filter)})}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:ce.filterSensitiveLog(e.AnalyticsConfiguration)})}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.KMSMasterKeyID&&{KMSMasterKeyID:Vr.oc})}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:ve.filterSensitiveLog(e.ApplyServerSideEncryptionByDefault)})}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Rules&&{Rules:e.Rules.map((function(e){return ge.filterSensitiveLog(e)}))})}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:ye.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.KeyId&&{KeyId:Vr.oc})}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.SSEKMS&&{SSEKMS:Ie.filterSensitiveLog(e.SSEKMS)})}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Encryption&&{Encryption:Oe.filterSensitiveLog(e.Encryption)})}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.S3BucketDestination&&{S3BucketDestination:Pe.filterSensitiveLog(e.S3BucketDestination)})}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(De||(De={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Destination&&{Destination:xe.filterSensitiveLog(e.Destination)})}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.InventoryConfiguration&&{InventoryConfiguration:Le.filterSensitiveLog(e.InventoryConfiguration)})}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ue||(Ue={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:ne.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Ue.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Be||(Be={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Filter&&{Filter:Fe.filterSensitiveLog(e.Filter)})}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Rules&&{Rules:e.Rules.map((function(e){return qe.filterSensitiveLog(e)}))})}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Je||(Je={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ze||(Ze={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Qe||(Qe={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:ne.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Qe.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}($e||($e={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Filter&&{Filter:$e.filterSensitiveLog(e.Filter)})}}(Xe||(Xe={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.MetricsConfiguration&&{MetricsConfiguration:Xe.filterSensitiveLog(e.MetricsConfiguration)})}}(et||(et={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(tt||(tt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(nt||(nt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(rt||(rt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(it||(it={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ot||(ot={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(st||(st={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(at||(at={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ut||(ut={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ct||(ct={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ft||(ft={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(lt||(lt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(pt||(pt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ht||(ht={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(dt||(dt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(vt||(vt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(gt||(gt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(yt||(yt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(mt||(mt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(bt||(bt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(wt||(wt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(St||(St={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(_t||(_t={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Et||(Et={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(At||(At={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ct||(Ct={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(It||(It={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:ne.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:It.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Tt||(Tt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ot||(Ot={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Pt||(Pt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(xt||(xt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Filter&&{Filter:Tt.filterSensitiveLog(e.Filter)})}}(Dt||(Dt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Rules&&{Rules:e.Rules.map((function(e){return Dt.filterSensitiveLog(e)}))})}}(kt||(kt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:kt.filterSensitiveLog(e.ReplicationConfiguration)})}}(Lt||(Lt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Nt||(Nt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Rt||(Rt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Mt||(Mt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ut||(Ut={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ft||(Ft={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(jt||(jt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Bt||(Bt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(zt||(zt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(qt||(qt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Gt||(Gt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Kt||(Kt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Vt||(Vt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ht||(Ht={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Wt||(Wt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Yt||(Yt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Vr.oc})}}(Jt||(Jt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.SSECustomerKey&&{SSECustomerKey:Vr.oc})}}(Zt||(Zt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Qt||(Qt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}($t||($t={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Xt||(Xt={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(en||(en={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(tn||(tn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(nn||(nn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(rn||(rn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(on||(on={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(sn||(sn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(an||(an={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(un||(un={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(cn||(cn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(fn||(fn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ln||(ln={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(pn||(pn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(hn||(hn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(dn||(dn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(vn||(vn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(gn||(gn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(yn||(yn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(mn||(mn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(bn||(bn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(wn||(wn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Sn||(Sn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Vr.oc})}}(_n||(_n={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.SSECustomerKey&&{SSECustomerKey:Vr.oc})}}(En||(En={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.AnalyticsConfigurationList&&{AnalyticsConfigurationList:e.AnalyticsConfigurationList.map((function(e){return ce.filterSensitiveLog(e)}))})}}(An||(An={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Cn||(Cn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(In||(In={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Tn||(Tn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map((function(e){return Le.filterSensitiveLog(e)}))})}}(On||(On={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Pn||(Pn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.MetricsConfigurationList&&{MetricsConfigurationList:e.MetricsConfigurationList.map((function(e){return Xe.filterSensitiveLog(e)}))})}}(xn||(xn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Dn||(Dn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(kn||(kn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ln||(Ln={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Nn||(Nn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Rn||(Rn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Mn||(Mn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Un||(Un={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Fn||(Fn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(jn||(jn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Bn||(Bn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(zn||(zn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(qn||(qn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Gn||(Gn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Kn||(Kn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Vn||(Vn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Hn||(Hn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Wn||(Wn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Yn||(Yn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Jn||(Jn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Zn||(Zn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Qn||(Qn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}($n||($n={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:ce.filterSensitiveLog(e.AnalyticsConfiguration)})}}(Xn||(Xn={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(er||(er={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(tr||(tr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:ye.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(nr||(nr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(rr||(rr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.InventoryConfiguration&&{InventoryConfiguration:Le.filterSensitiveLog(e.InventoryConfiguration)})}}(ir||(ir={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Rules&&{Rules:e.Rules.map((function(e){return qe.filterSensitiveLog(e)}))})}}(or||(or={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.LifecycleConfiguration&&{LifecycleConfiguration:or.filterSensitiveLog(e.LifecycleConfiguration)})}}(sr||(sr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ar||(ar={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(ur||(ur={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.MetricsConfiguration&&{MetricsConfiguration:Xe.filterSensitiveLog(e.MetricsConfiguration)})}}(cr||(cr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(fr||(fr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(lr||(lr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(pr||(pr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:kt.filterSensitiveLog(e.ReplicationConfiguration)})}}(hr||(hr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(dr||(dr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(vr||(vr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(gr||(gr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(yr||(yr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(mr||(mr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(br||(br={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(wr||(wr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Sr||(Sr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)((0,Kr.pi)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Vr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Vr.oc})}}(_r||(_r={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)((0,Kr.pi)((0,Kr.pi)({},e),e.SSECustomerKey&&{SSECustomerKey:Vr.oc}),e.SSEKMSKeyId&&{SSEKMSKeyId:Vr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Vr.oc})}}(Er||(Er={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ar||(Ar={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Cr||(Cr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ir||(Ir={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Tr||(Tr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Or||(Or={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Pr||(Pr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(xr||(xr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Dr||(Dr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(kr||(kr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Lr||(Lr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Nr||(Nr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Rr||(Rr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Mr||(Mr={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ur||(Ur={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.KMSKeyId&&{KMSKeyId:Vr.oc})}}(Fr||(Fr={}));var Hr=n(2893),Wr=n(38499),Yr=n(96784),Jr=function(e){return"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6},Zr=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Qr=/(\d+\.){3}\d+/,$r=/\.\./,Xr=/\./,ei=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,ti=/^s3(-external-1)?\.amazonaws\.com$/,ni="amazonaws.com",ri=function(e){return oi(e)?e.replace(/fips-|-fips/,""):e},ii=function(e){var t=e.match(ei);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},oi=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},si=function(e,t){return e===t||ri(e)===t||e===ri(t)},ai=function(e,t){if(void 0===t&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(null==t?void 0:t.tlsCompatible)&&Xr.test(e))throw new Error("Invalid DNS label "+e)},ui=function(e){var t=e.isCustomEndpoint,n=(e.baseHostname,e.dualstackEndpoint),r=e.accelerateEndpoint;if(t){if(n)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(r)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return function(e){return"string"==typeof e.bucketName}(e)?fi((0,Wr.__assign)((0,Wr.__assign)({},e),{isCustomEndpoint:t})):ci((0,Wr.__assign)((0,Wr.__assign)({},e),{isCustomEndpoint:t}))},ci=function(e){var t,n=e.isCustomEndpoint,r=e.baseHostname,i=(0,Wr.__read)(n?[e.clientRegion,r]:(t=r,ti.test(t)?[t.replace(".amazonaws.com",""),ni]:ii(t)),2),o=i[0],s=i[1],a=e.pathStyleEndpoint,u=e.dualstackEndpoint,c=void 0!==u&&u,f=e.accelerateEndpoint,l=void 0!==f&&f,p=e.tlsCompatible,h=void 0===p||p,d=e.useArnRegion,v=e.bucketName,g=e.clientPartition,y=void 0===g?"aws":g,m=e.clientSigningRegion,b=void 0===m?o:m;!function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")}({pathStyleEndpoint:a,accelerateEndpoint:l,tlsCompatible:h});var w=v.service,S=v.partition,_=v.accountId,E=v.region,A=v.resource;!function(e){if("s3"!==e&&"s3-outposts"!==e)throw new Error("Expect 's3' or 's3-outposts' in ARN service component")}(w),function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')}(S,{clientPartition:y}),function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")}(_),function(e,t){if(""===e)throw new Error("ARN region is empty");if(!t.useArnRegion&&!si(e,t.clientRegion)&&!si(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&oi(e))throw new Error("Endpoint does not support FIPS region")}(E,{useArnRegion:d,clientRegion:o,clientSigningRegion:b});var C=function(e){var t=e.includes(":")?":":"/",n=(0,Wr.__read)(e.split(t)),r=n[0],i=n.slice(1);if("accesspoint"===r){if(1!==i.length||""===i[0])throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:i[0]}}if("outpost"===r){if(!i[0]||"accesspoint"!==i[1]||!i[2]||3!==i.length)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var o=(0,Wr.__read)(i,3),s=o[0];return o[1],{outpostId:s,accesspointName:o[2]}}throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")}(A),I=C.accesspointName,T=C.outpostId;ai(I+"-"+_,{tlsCompatible:h});var O=d?E:o,P=d?E:b;return T?(function(e){if("s3-outposts"!==e)throw new Error("Expect 's3-posts' in Outpost ARN service component")}(w),ai(T,{tlsCompatible:h}),function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")}(c),function(e){if(oi(null!=e?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)}(O),{bucketEndpoint:!0,hostname:I+"-"+_+"."+T+(n?"":".s3-outposts."+O)+"."+s,signingRegion:P,signingService:"s3-outposts"}):(function(e){if("s3"!==e)throw new Error("Expect 's3' in Accesspoint ARN service component")}(w),{bucketEndpoint:!0,hostname:I+"-"+_+(n?"":".s3-accesspoint"+(c?".dualstack":"")+"."+O)+"."+s,signingRegion:P})},fi=function(e){var t,n=e.accelerateEndpoint,r=void 0!==n&&n,i=e.clientRegion,o=e.baseHostname,s=e.bucketName,a=e.dualstackEndpoint,u=void 0!==a&&a,c=e.pathStyleEndpoint,f=void 0!==c&&c,l=e.tlsCompatible,p=void 0===l||l,h=e.isCustomEndpoint,d=void 0!==h&&h,v=(0,Wr.__read)(d?[i,o]:(t=o,ti.test(t)?["us-east-1",ni]:ii(t)),2),g=v[0],y=v[1];return f||!function(e){return Zr.test(e)&&!Qr.test(e)&&!$r.test(e)}(s)||p&&Xr.test(s)?{bucketEndpoint:!1,hostname:u?"s3.dualstack."+g+"."+y:o}:(r?o="s3-accelerate"+(u?".dualstack":"")+"."+y:u&&(o="s3.dualstack."+g+"."+y),{bucketEndpoint:!0,hostname:s+"."+o})},li=function(e){return function(t,n){return function(r){return(0,Wr.__awaiter)(void 0,void 0,void 0,(function(){var i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S;return(0,Wr.__generator)(this,(function(_){switch(_.label){case 0:return i=r.input.Bucket,o=e.bucketEndpoint,s=r.request,Yr.aW.isInstance(s)?e.bucketEndpoint?(s.hostname=i,[3,7]):[3,1]:[3,8];case 1:return Jr(i)?(a=function(e){var t=e.split(":");if(t.length<6||"arn"!==t[0])throw new Error("Malformed ARN");var n=(0,Wr.__read)(t);return{partition:n[1],service:n[2],region:n[3],accountId:n[4],resource:n.slice(5).join(":")}}(i),u=ri,[4,e.region()]):[3,5];case 2:return y=u.apply(void 0,[_.sent()]),[4,e.regionInfoProvider(y)];case 3:return c=_.sent()||{},f=c.partition,l=c.signingRegion,p=void 0===l?y:l,[4,e.useArnRegion()];case 4:return h=_.sent(),d=ui({bucketName:a,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,useArnRegion:h,clientPartition:f,clientSigningRegion:p,clientRegion:y,isCustomEndpoint:e.isCustomEndpoint}),w=d.hostname,S=d.bucketEndpoint,v=d.signingRegion,g=d.signingService,v&&v!==p&&(n.signing_region=v),g&&"s3"!==g&&(n.signing_service=g),s.hostname=w,o=S,[3,7];case 5:return m=ri,[4,e.region()];case 6:y=m.apply(void 0,[_.sent()]),b=ui({bucketName:i,clientRegion:y,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,isCustomEndpoint:e.isCustomEndpoint}),w=b.hostname,S=b.bucketEndpoint,s.hostname=w,o=S,_.label=7;case 7:o&&(s.path=s.path.replace(/^(\/)?[^\/]+/,""),""===s.path&&(s.path="/")),_.label=8;case 8:return[2,t((0,Wr.__assign)((0,Wr.__assign)({},r),{request:s}))]}}))}))}}},pi={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},hi=function(e){return{applyToStack:function(t){t.addRelativeTo(li(e),pi)}}};var di={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},vi=function(e){return{applyToStack:function(e){e.add(function(){var e=this;return function(t){return function(n){return(0,Wr.__awaiter)(e,void 0,void 0,(function(){var e,r;return(0,Wr.__generator)(this,(function(i){if("string"==typeof(e=n.input.Bucket)&&!Jr(e)&&e.indexOf("/")>=0)throw(r=new Error("Bucket name shouldn't contain '/', received '"+e+"'")).name="InvalidBucketName",r;return[2,t((0,Wr.__assign)({},n))]}))}))}}}(),di)}}},gi={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},yi=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,Wr.__awaiter)(void 0,void 0,void 0,(function(){var r,i;return(0,Wr.__generator)(this,(function(o){switch(o.label){case 0:return r=n.request,!Yr.aW.isInstance(r)||e.isCustomEndpoint?[2,t((0,Wr.__assign)({},n))]:"s3.amazonaws.com"!==r.hostname?[3,1]:(r.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return i="aws-global",[4,e.region()];case 2:i===o.sent()&&(r.hostname="s3.amazonaws.com"),o.label=3;case 3:return[2,t((0,Wr.__assign)({},n))]}}))}))}}}(e),gi)}}},mi=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},bi=function(e,t){return mi(e,t).then((function(e){return t.utf8Encoder(e)}))},wi={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Si=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t){return function(n){return(0,Wr.__awaiter)(void 0,void 0,void 0,(function(){var r,i,o,s,a,u,c;return(0,Wr.__generator)(this,(function(f){switch(f.label){case 0:return[4,t(n)];case 1:return r=f.sent(),i=r.response,Yr.Zn.isInstance(i)?(o=i.statusCode,s=i.body,o<200&&o>=300?[2,r]:[4,mi(s,e)]):[2,r];case 2:return a=f.sent(),[4,bi(a,e)];case 3:if(u=f.sent(),0===a.length)throw(c=new Error("S3 aborted request")).name="InternalError",c;return u&&u.match("<Error>")&&(i.statusCode=400),i.body=a,[2,r]}}))}))}}}(e),wi)}}},_i=n(28064);var Ei={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Ai=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,Wr.__awaiter)(t,void 0,void 0,(function(){var t,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b;return(0,Wr.__generator)(this,(function(w){switch(w.label){case 0:t=(0,Wr.__assign)({},r.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],w.label=1;case 1:w.trys.push([1,6,7,8]),o=(0,Wr.__values)(i),s=o.next(),w.label=2;case 2:return s.done?[3,5]:(a=s.value,(u=t[a.target])?(c=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):"string"==typeof u?e.utf8Decoder(u):new Uint8Array(u),f=e.base64Encoder(c),(l=new e.md5).update(c),p=[(0,Wr.__assign)({},t)],(b={})[a.target]=f,h=a.hash,v=(d=e).base64Encoder,[4,l.digest()]):[3,4]);case 3:t=Wr.__assign.apply(void 0,p.concat([(b[h]=v.apply(d,[w.sent()]),b)])),w.label=4;case 4:return s=o.next(),[3,2];case 5:return[3,8];case 6:return g=w.sent(),y={error:g},[3,8];case 7:try{s&&!s.done&&(m=o.return)&&m.call(o)}finally{if(y)throw y.error}return[7];case 8:return[2,n((0,Wr.__assign)((0,Wr.__assign)({},r),{input:t}))]}}))}))}}}(e),Ei)}}},Ci=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Kr.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,_i.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Si(t)),this.middlewareStack.use(Ai(t)),this.middlewareStack.use(hi(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:b.filterSensitiveLog,outputFilterSensitiveLog:m.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Hr.R89)(e,t)},t.prototype.deserialize=function(e,t){return(0,Hr.gur)(e,t)},t}(Vr.mY),Ii=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Kr.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,_i.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Ai(t)),this.middlewareStack.use(hi(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:Zt.filterSensitiveLog,outputFilterSensitiveLog:Jt.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Hr.LHU)(e,t)},t.prototype.deserialize=function(e,t){return(0,Hr.P3C)(e,t)},t}(Vr.mY),Ti=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Kr.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,_i.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use(hi(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:q.filterSensitiveLog,outputFilterSensitiveLog:z.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Hr.BrV)(e,t)},t.prototype.deserialize=function(e,t){return(0,Hr.IY3)(e,t)},t}(Vr.mY),Oi=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Kr.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,_i.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use(hi(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsCommand",inputFilterSensitiveLog:zn.filterSensitiveLog,outputFilterSensitiveLog:Bn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Hr.GN9)(e,t)},t.prototype.deserialize=function(e,t){return(0,Hr.d2X)(e,t)},t}(Vr.mY),Pi=n(42726);function xi(e){var t=e.port,n=e.query,r=e.protocol,i=e.path,o=e.hostname;r&&":"!==r.substr(-1)&&(r+=":"),t&&(o+=":"+t),i&&"/"!==i.charAt(0)&&(i="/"+i);var s=n?(0,Pi.I)(n):"";return s&&"?"!==s[0]&&(s="?"+s),r+"//"+o+i+s}function Di(e,t){return(0,Wr.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,Wr.__generator)(this,(function(o){switch(o.label){case 0:return n=function(e){return function(e){return(0,Wr.__awaiter)(i,void 0,void 0,(function(){return(0,Wr.__generator)(this,(function(t){return[2,{output:{request:e.request},response:void 0}]}))}))}},(r=e.middlewareStack.clone()).add(n,{step:"build",priority:"low"}),[4,t.resolveMiddleware(r,e.config,void 0)(t).then((function(e){return e.output.request}))];case 1:return[2,o.sent()]}}))}))}var ki,Li,Ni,Ri=n(43032),Mi=function(){function e(e){var t=(0,Wr.__assign)({service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1},e);this.signer=new Ri.L1(t)}return e.prototype.presign=function(e,t){void 0===t&&(t={});var n=t.unsignableHeaders,r=void 0===n?new Set:n,i=t.unhoistableHeaders,o=void 0===i?new Set:i,s=(0,Wr.__rest)(t,["unsignableHeaders","unhoistableHeaders"]);return(0,Wr.__awaiter)(this,void 0,void 0,(function(){return(0,Wr.__generator)(this,(function(t){return r.add("content-type"),Object.keys(e.headers).map((function(e){return e.toLowerCase()})).filter((function(e){return e.startsWith("x-amz-server-side-encryption")})).forEach((function(e){o.add(e)})),e.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",e.headers.host||(e.headers.host=e.hostname),[2,this.signer.presign(e,(0,Wr.__assign)({expiresIn:900,unsignableHeaders:r,unhoistableHeaders:o},s))]}))}))},e}(),Ui=n(74586),Fi=n.n(Ui),ji=n(1648);!function(e){e.NO_CREDENTIALS="No credentials",e.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',e.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',e.INVALID_BLOB="Object must be an instance of Blob"}(ki||(ki={})),function(e){e.CLEANUP_FAILED="Multipart copy clean up failed",e.NO_OBJECT_FOUND="Object does not exist",e.INVALID_QUEUESIZE="Queue size must be a positive number",e.NO_COPYSOURCE="You must specify a copy source",e.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed"}(Li||(Li={})),function(e){e.UPLOAD_PAUSED_MESSAGE="paused"}(Ni||(Ni={}));var Bi=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},qi=new jr.k("axios-http-handler"),Gi="sendUploadProgress",Ki="sendDownloadProgress";var Vi=function(e,t){var n,r;try{for(var i=Bi(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=zi(o.value,2),a=s[0],u=s[1];a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=u,delete e[a])}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Hi=[function(e,t){return n=e,"undefined"!=typeof Blob&&n instanceof Blob?(Vi(t,"Content-Type"),Vi(t,"Accept"),e):Fi().defaults.transformRequest[0].call(null,e,t);var n}],Wi=function(){function e(e,t,n){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=this.httpOptions.requestTimeout,r=t.emitter||this.emitter,i=e.path;if(e.query){var o=(0,Pi.I)(e.query);o&&(i+="?"+o)}var s=e.port,a=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,u={};u.url=a,u.method=e.method,u.headers=e.headers,delete u.headers.host,e.body?u.data=e.body:u.headers[Object.keys(u.headers).find((function(e){return"content-type"===e.toLowerCase()}))]&&(u.data=null),r&&(u.onUploadProgress=function(e){r.emit(Gi,e),qi.debug(e)},u.onDownloadProgress=function(e){r.emit(Ki,e),qi.debug(e)}),this.cancelTokenSource&&(u.cancelToken=this.cancelTokenSource.token),t.cancelTokenSource&&(u.cancelToken=t.cancelTokenSource.token),u.responseType="blob",ji.t4.isReactNative&&(u.transformRequest=Hi);var c=[Fi().request(u).then((function(e){return{response:new Yr.Zn({headers:e.headers,statusCode:e.status,body:e.data})}})).catch((function(e){var t,n;if(e.message!==Ni.UPLOAD_PAUSED_MESSAGE&&qi.error(e.message),Fi().isCancel(e)||!function(e){return void 0!==e&&Object.prototype.hasOwnProperty.call(e,"response")&&void 0!==e.response&&Object.prototype.hasOwnProperty.call(e.response,"status")&&"number"==typeof e.response.status}(e))throw e;return{response:new Yr.Zn({statusCode:e.response.status,body:null===(t=e.response)||void 0===t?void 0:t.data,headers:null===(n=e.response)||void 0===n?void 0:n.headers})}})),Yi(n)];return Promise.race(c)},e}();function Yi(e){return void 0===e&&(e=0),new Promise((function(t,n){e&&setTimeout((function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",n(t)}),e)}))}var Ji="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Zi="contentLengthMiddleware",Qi="__uploadInProgress",$i=function(e,t,n,r,i){if(e){var o={attrs:n};r&&(o.metrics=r),qr.Xb.dispatch("storage",{event:t,data:o,message:i},"Storage",Ji)}},Xi=function(e){return void 0!==e&&e instanceof Blob},eo=function(e){return void 0!==e&&e instanceof ArrayBuffer},to=n(14552),no=n(19283),ro=n(4986);function io(e,t,n){return void 0===n&&(n=1048576),new Promise((function(r,i){var o=new FileReader;o.addEventListener("error",i),o.addEventListener("abort",i);var s=e.size,a=0;function u(){a>=s?r():o.readAsArrayBuffer(e.slice(a,Math.min(s,a+n)))}o.addEventListener("load",(function(e){var n=e.target.result;t(new Uint8Array(n)),a+=n.byteLength,u()})),u()}))}var oo=n(3241),so=n(24177),ao=64,uo=[1732584193,4023233417,2562383102,271733878],co=function(){function e(){this.state=Uint32Array.from(uo),this.buffer=new DataView(new ArrayBuffer(ao)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(!function(e){if("string"==typeof e)return 0===e.length;return 0===e.byteLength}(e)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=function(e){if("string"==typeof e)return(0,so.fromUtf8)(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array(e)}(e),n=0,r=t.byteLength;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,this.bufferLength===ao&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return(0,Wr.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return(0,Wr.__generator)(this,(function(a){if(!this.finished){if(t=(e=this).buffer,n=e.bufferLength,r=e.bytesHashed,i=8*r,t.setUint8(this.bufferLength++,128),n%ao>=56){for(s=this.bufferLength;s<ao;s++)t.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(s=this.bufferLength;s<56;s++)t.setUint8(s,0);t.setUint32(56,i>>>0,!0),t.setUint32(60,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}for(o=new DataView(new ArrayBuffer(16)),s=0;s<4;s++)o.setUint32(4*s,this.state[s],!0);return[2,new Uint8Array(o.buffer,o.byteOffset,o.byteLength)]}))}))},e.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3];n=lo(n,r,i,o,e.getUint32(0,!0),7,3614090360),o=lo(o,n,r,i,e.getUint32(4,!0),12,3905402710),i=lo(i,o,n,r,e.getUint32(8,!0),17,606105819),r=lo(r,i,o,n,e.getUint32(12,!0),22,3250441966),n=lo(n,r,i,o,e.getUint32(16,!0),7,4118548399),o=lo(o,n,r,i,e.getUint32(20,!0),12,1200080426),i=lo(i,o,n,r,e.getUint32(24,!0),17,2821735955),r=lo(r,i,o,n,e.getUint32(28,!0),22,4249261313),n=lo(n,r,i,o,e.getUint32(32,!0),7,1770035416),o=lo(o,n,r,i,e.getUint32(36,!0),12,2336552879),i=lo(i,o,n,r,e.getUint32(40,!0),17,4294925233),r=lo(r,i,o,n,e.getUint32(44,!0),22,2304563134),n=lo(n,r,i,o,e.getUint32(48,!0),7,1804603682),o=lo(o,n,r,i,e.getUint32(52,!0),12,4254626195),i=lo(i,o,n,r,e.getUint32(56,!0),17,2792965006),n=po(n,r=lo(r,i,o,n,e.getUint32(60,!0),22,1236535329),i,o,e.getUint32(4,!0),5,4129170786),o=po(o,n,r,i,e.getUint32(24,!0),9,3225465664),i=po(i,o,n,r,e.getUint32(44,!0),14,643717713),r=po(r,i,o,n,e.getUint32(0,!0),20,3921069994),n=po(n,r,i,o,e.getUint32(20,!0),5,3593408605),o=po(o,n,r,i,e.getUint32(40,!0),9,38016083),i=po(i,o,n,r,e.getUint32(60,!0),14,3634488961),r=po(r,i,o,n,e.getUint32(16,!0),20,3889429448),n=po(n,r,i,o,e.getUint32(36,!0),5,568446438),o=po(o,n,r,i,e.getUint32(56,!0),9,3275163606),i=po(i,o,n,r,e.getUint32(12,!0),14,4107603335),r=po(r,i,o,n,e.getUint32(32,!0),20,1163531501),n=po(n,r,i,o,e.getUint32(52,!0),5,2850285829),o=po(o,n,r,i,e.getUint32(8,!0),9,4243563512),i=po(i,o,n,r,e.getUint32(28,!0),14,1735328473),n=ho(n,r=po(r,i,o,n,e.getUint32(48,!0),20,2368359562),i,o,e.getUint32(20,!0),4,4294588738),o=ho(o,n,r,i,e.getUint32(32,!0),11,2272392833),i=ho(i,o,n,r,e.getUint32(44,!0),16,1839030562),r=ho(r,i,o,n,e.getUint32(56,!0),23,4259657740),n=ho(n,r,i,o,e.getUint32(4,!0),4,2763975236),o=ho(o,n,r,i,e.getUint32(16,!0),11,1272893353),i=ho(i,o,n,r,e.getUint32(28,!0),16,4139469664),r=ho(r,i,o,n,e.getUint32(40,!0),23,3200236656),n=ho(n,r,i,o,e.getUint32(52,!0),4,681279174),o=ho(o,n,r,i,e.getUint32(0,!0),11,3936430074),i=ho(i,o,n,r,e.getUint32(12,!0),16,3572445317),r=ho(r,i,o,n,e.getUint32(24,!0),23,76029189),n=ho(n,r,i,o,e.getUint32(36,!0),4,3654602809),o=ho(o,n,r,i,e.getUint32(48,!0),11,3873151461),i=ho(i,o,n,r,e.getUint32(60,!0),16,530742520),n=vo(n,r=ho(r,i,o,n,e.getUint32(8,!0),23,3299628645),i,o,e.getUint32(0,!0),6,4096336452),o=vo(o,n,r,i,e.getUint32(28,!0),10,1126891415),i=vo(i,o,n,r,e.getUint32(56,!0),15,2878612391),r=vo(r,i,o,n,e.getUint32(20,!0),21,4237533241),n=vo(n,r,i,o,e.getUint32(48,!0),6,1700485571),o=vo(o,n,r,i,e.getUint32(12,!0),10,2399980690),i=vo(i,o,n,r,e.getUint32(40,!0),15,4293915773),r=vo(r,i,o,n,e.getUint32(4,!0),21,2240044497),n=vo(n,r,i,o,e.getUint32(32,!0),6,1873313359),o=vo(o,n,r,i,e.getUint32(60,!0),10,4264355552),i=vo(i,o,n,r,e.getUint32(24,!0),15,2734768916),r=vo(r,i,o,n,e.getUint32(52,!0),21,1309151649),n=vo(n,r,i,o,e.getUint32(16,!0),6,4149444226),o=vo(o,n,r,i,e.getUint32(44,!0),10,3174756917),i=vo(i,o,n,r,e.getUint32(8,!0),15,718787259),r=vo(r,i,o,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=i+t[2]&4294967295,t[3]=o+t[3]&4294967295},e}();function fo(e,t,n,r,i,o){return((t=(t+e&4294967295)+(r+o&4294967295)&4294967295)<<i|t>>>32-i)+n&4294967295}function lo(e,t,n,r,i,o,s){return fo(t&n|~t&r,e,t,i,o,s)}function po(e,t,n,r,i,o,s){return fo(t&r|n&~r,e,t,i,o,s)}function ho(e,t,n,r,i,o,s){return fo(t^n^r,e,t,i,o,s)}function vo(e,t,n,r,i,o,s){return fo(n^(t|~r),e,t,i,o,s)}var go=n(41817),yo=n(34252),mo=n(46105),bo=n(5287),wo="s3.{region}.amazonaws.com",So=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),_o=new Set(["cn-north-1","cn-northwest-1"]),Eo=new Set(["us-iso-east-1"]),Ao=new Set(["us-isob-east-1"]),Co=new Set(["us-gov-east-1","us-gov-west-1"]),Io={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":n={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":n={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":n={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":n={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":n={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":n={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":n={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:So.has(e)&&(n={hostname:wo.replace("{region}",e),partition:"aws"}),_o.has(e)&&(n={hostname:"s3.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Eo.has(e)&&(n={hostname:"s3.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Ao.has(e)&&(n={hostname:"s3.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Co.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:wo.replace("{region}",e),partition:"aws"})}return Promise.resolve((0,Kr.pi)({signingService:"s3"},n))},serviceId:"S3",signingEscapePath:!1,urlParser:n(61488).e,useArnRegion:!1},To=(0,Kr.pi)((0,Kr.pi)({},Io),{runtime:"browser",base64Decoder:yo.G,base64Encoder:yo.s,bodyLengthChecker:mo.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,bo.f)({serviceId:Io.serviceId,clientVersion:"3.6.1"}),eventStreamSerdeProvider:no.VQ,maxAttempts:go.J,md5:co,region:(0,oo.n)("Region is missing"),requestHandler:new ro.B,sha256:to.Sha256,streamCollector:ro.C,streamHasher:function(e,t){return(0,Wr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Wr.__generator)(this,(function(r){switch(r.label){case 0:return n=new e,[4,io(t,(function(e){n.update(e)}))];case 1:return r.sent(),[2,n.digest()]}}))}))},utf8Decoder:so.fromUtf8,utf8Encoder:so.toUtf8}),Oo=n(25562),Po=n(29597),xo=n(99561);var Do,ko,Lo,No,Ro,Mo,Uo,Fo,jo,Bo,zo,qo,Go,Ko,Vo,Ho,Wo,Yo,Jo,Zo,Qo,$o,Xo,es,ts,ns,rs,is,os,ss,as,us,cs,fs,ls={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},ps=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,Wr.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Wr.__generator)(this,(function(i){return t=r.request,Yr.aW.isInstance(t)&&t.body&&"node"===e.runtime&&(t.headers=(0,Wr.__assign)((0,Wr.__assign)({},t.headers),{Expect:"100-continue"})),[2,n((0,Wr.__assign)((0,Wr.__assign)({},r),{request:t}))]}))}))}}}(e),ls)}}},hs=n(47498),ds=n(7317),vs=n(29960),gs=n(83512),ys=function(e){function t(t){var n,r,i,o,s,a,u,c,f,l,p,h=this,d=(0,Kr.pi)((0,Kr.pi)({},To),t),v=(0,Oo.Xb)(d),g=(0,Oo.g4)(v),y=(0,vs.A$)(g),m=(0,go.BC)(y),b=(0,hs.S8)(m),w=(r=(n=b).bucketEndpoint,i=void 0!==r&&r,o=n.forcePathStyle,s=void 0!==o&&o,a=n.useAccelerateEndpoint,u=void 0!==a&&a,c=n.useDualstackEndpoint,f=void 0!==c&&c,l=n.useArnRegion,p=void 0!==l&&l,(0,Wr.__assign)((0,Wr.__assign)({},n),{bucketEndpoint:i,forcePathStyle:s,useAccelerateEndpoint:u,useDualstackEndpoint:f,useArnRegion:"function"==typeof p?p:function(){return Promise.resolve(p)}})),S=(0,gs.er)(w),_=(0,Po.t)(S);return(h=e.call(this,_)||this).config=_,h.middlewareStack.use((0,vs.yt)(h.config)),h.middlewareStack.use((0,go.NQ)(h.config)),h.middlewareStack.use((0,xo.VG)(h.config)),h.middlewareStack.use((0,hs.G2)(h.config)),h.middlewareStack.use((0,ds.cV)(h.config)),h.middlewareStack.use(vi(h.config)),h.middlewareStack.use(yi(h.config)),h.middlewareStack.use(ps(h.config)),h.middlewareStack.use((0,gs.XJ)(h.config)),h}return(0,Kr.ZT)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Vr.KU),ms=function(){return ms=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ms.apply(this,arguments)},bs=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ws=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ss=new jr.k("S3ClientUtils"),_s={accessKeyId:"",secretAccessKey:""},Es=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",s=(void 0!==r.protected?r.protected:"protected/")+i+"/",a=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return s;default:return a}},As=function(e,t){return function(n,r){return function(r){return bs(void 0,void 0,void 0,(function(){var i,o,s,a;return ws(this,(function(u){switch(u.label){case 0:return[4,Gr.cN.get()];case 1:return i=u.sent(),o=Gr.cN.shear(i),s=Es(ms(ms({},e),{credentials:o})),a=Object.assign({},r.input),Object.prototype.hasOwnProperty.call(r.input,"Key")?(a.Key=s+t,r.input=a):Object.prototype.hasOwnProperty.call(r.input,"Prefix")&&(a.Prefix=s+t,r.input=a),[2,n(r)]}}))}))}}},Cs=function(e){return function(t,n){return function(n){return bs(void 0,void 0,void 0,(function(){var r,i;return ws(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t(n)];case 1:return[2,o.sent()];case 2:throw r=o.sent(),(s=r).ServerTime&&"string"==typeof s.Code&&"RequestTimeTooSkewed"===s.Code&&(i=new Date(r.ServerTime),e.systemClockOffset=i.getTime()-Date.now()),r;case 3:return[2]}var s}))}))}}},Is={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},Ts={step:"initialize",name:"addPrefixMiddleware"},Os=function(){return bs(void 0,void 0,void 0,(function(){var e,t,n;return ws(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Gr.cN.get()];case 1:return(e=r.sent())?(t=Gr.cN.shear(e),Ss.debug("credentials provider get credentials",t),[2,t]):[2,_s];case 2:return n=r.sent(),Ss.warn("credentials provider error",n),[2,_s];case 3:return[2]}}))}))},Ps=function(e,t){var n=e.region,r=e.cancelTokenSource,i=e.dangerouslyConnectToHttpEndpointForTesting,o=e.useAccelerateEndpoint,s={};i&&(s={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var a=new ys(ms(ms({region:n,credentials:Os,customUserAgent:(0,ji.Zm)()},s),{requestHandler:new Wi({},t,r),useAccelerateEndpoint:o}));return a.middlewareStack.remove(Zi),a},xs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Kr.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,_i.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Ai(t)),this.middlewareStack.use(hi(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:Er.filterSensitiveLog,outputFilterSensitiveLog:_r.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Hr.gYi)(e,t)},t.prototype.deserialize=function(e,t){return(0,Hr.iIy)(e,t)},t}(Vr.mY),Ds=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Kr.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,_i.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Ai(t)),this.middlewareStack.use(hi(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:T.filterSensitiveLog,outputFilterSensitiveLog:I.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Hr.jPT)(e,t)},t.prototype.deserialize=function(e,t){return(0,Hr.rVu)(e,t)},t}(Vr.mY);!function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Do||(Do={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Encryption&&{Encryption:Fr.filterSensitiveLog(e.Encryption)})}}(ko||(ko={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.S3&&{S3:ko.filterSensitiveLog(e.S3)})}}(Lo||(Lo={})),function(e){e.IGNORE="IGNORE",e.NONE="NONE",e.USE="USE"}(No||(No={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ro||(Ro={})),function(e){e.DOCUMENT="DOCUMENT",e.LINES="LINES"}(Mo||(Mo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Uo||(Uo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Fo||(Fo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(jo||(jo={})),function(e){e.ALWAYS="ALWAYS",e.ASNEEDED="ASNEEDED"}(Bo||(Bo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(zo||(zo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(qo||(qo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Go||(Go={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Ko||(Ko={})),function(e){e.SELECT="SELECT"}(Vo||(Vo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.OutputLocation&&{OutputLocation:Lo.filterSensitiveLog(e.OutputLocation)})}}(Ho||(Ho={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.RestoreRequest&&{RestoreRequest:Ho.filterSensitiveLog(e.RestoreRequest)})}}(Wo||(Wo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Yo||(Yo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Jo||(Jo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Zo||(Zo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Qo||(Qo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}($o||($o={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(Xo||(Xo={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(es||(es={})),function(e){e.visit=function(e,t){return void 0!==e.Records?t.Records(e.Records):void 0!==e.Stats?t.Stats(e.Stats):void 0!==e.Progress?t.Progress(e.Progress):void 0!==e.Cont?t.Cont(e.Cont):void 0!==e.End?t.End(e.End):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Records?{Records:$o.filterSensitiveLog(e.Records)}:void 0!==e.Stats?{Stats:es.filterSensitiveLog(e.Stats)}:void 0!==e.Progress?{Progress:Qo.filterSensitiveLog(e.Progress)}:void 0!==e.Cont?{Cont:Yo.filterSensitiveLog(e.Cont)}:void 0!==e.End?{End:Jo.filterSensitiveLog(e.End)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(ts||(ts={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.Payload&&{Payload:"STREAMING_CONTENT"})}}(ns||(ns={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(rs||(rs={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(is||(is={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.SSECustomerKey&&{SSECustomerKey:Vr.oc})}}(os||(os={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Vr.oc})}}(ss||(ss={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.SSECustomerKey&&{SSECustomerKey:Vr.oc})}}(as||(as={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)({},e)}}(us||(us={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Vr.oc})}}(cs||(cs={})),function(e){e.filterSensitiveLog=function(e){return(0,Kr.pi)((0,Kr.pi)((0,Kr.pi)({},e),e.SSECustomerKey&&{SSECustomerKey:Vr.oc}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Vr.oc})}}(fs||(fs={}));var ks,Ls,Ns=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Kr.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,_i.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Ai(t)),this.middlewareStack.use(hi(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:as.filterSensitiveLog,outputFilterSensitiveLog:ss.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Hr.t82)(e,t)},t.prototype.deserialize=function(e,t){return(0,Hr.R7p)(e,t)},t}(Vr.mY),Rs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Kr.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,_i.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Si(t)),this.middlewareStack.use(hi(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:g.filterSensitiveLog,outputFilterSensitiveLog:h.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Hr.l7b)(e,t)},t.prototype.deserialize=function(e,t){return(0,Hr.W5_)(e,t)},t}(Vr.mY),Ms=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Kr.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,_i.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use(hi(t));var r=e.concat(this.middlewareStack),s={logger:t.logger,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:o.filterSensitiveLog,outputFilterSensitiveLog:i.filterSensitiveLog},a=t.requestHandler;return r.resolve((function(e){return a.handle(e.request,n||{})}),s)},t.prototype.serialize=function(e,t){return(0,Hr.CEs)(e,t)},t.prototype.deserialize=function(e,t){return(0,Hr.WqK)(e,t)},t}(Vr.mY),Us=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Kr.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,_i.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use(hi(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:Zn.filterSensitiveLog,outputFilterSensitiveLog:Jn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Hr.DEn)(e,t)},t.prototype.deserialize=function(e,t){return(0,Hr.Y6h)(e,t)},t}(Vr.mY),Fs=n(72965),js=function(){return js=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},js.apply(this,arguments)},Bs=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},zs=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},qs=new jr.k("AWSS3ProviderManagedUpload"),Gs=function(){function e(e,t,n){this.minPartSize=5242880,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.cancel=!1,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=e,this.opts=t,this.emitter=n,this.s3client=this._createNewS3Client(t,n)}return e.prototype.upload=function(){return Bs(this,void 0,void 0,(function(){var e,t,n,r,i,o,s=this;return zs(this,(function(a){switch(a.label){case 0:return e=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return e.body=a.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,t=new xs(this.params),[2,this.s3client.send(t)]):[3,2];case 2:return[4,this.createMultiPartUpload()];case 3:n=a.sent(),r=Math.ceil(this.totalBytesToUpload/this.minPartSize),i=this.createParts(),o=0,a.label=4;case 4:return o<r?[4,this.checkIfUploadCancelled(n)]:[3,9];case 5:return a.sent(),[4,this.uploadParts(n,i.slice(o,o+this.queueSize))];case 6:return a.sent(),[4,this.checkIfUploadCancelled(n)];case 7:a.sent(),a.label=8;case 8:return o+=this.queueSize,[3,4];case 9:return i.map((function(e){s.removeEventListener(e)})),[4,this.finishMultiPartUpload(n)];case 10:return[2,a.sent()]}}))}))},e.prototype.createParts=function(){for(var e=[],t=0;t<this.totalBytesToUpload;){var n=Math.min(t+this.minPartSize,this.totalBytesToUpload);e.push({bodyPart:this.body.slice(t,n),partNumber:e.length+1,emitter:new Fs.EventEmitter,_lastUploadedBytes:0}),t+=this.minPartSize}return e},e.prototype.createMultiPartUpload=function(){return Bs(this,void 0,void 0,(function(){var e,t;return zs(this,(function(n){switch(n.label){case 0:return e=new Ds(this.params),[4,this.s3client.send(e)];case 1:return t=n.sent(),qs.debug(t.UploadId),[2,t.UploadId]}}))}))},e.prototype.uploadParts=function(e,t){return Bs(this,void 0,void 0,(function(){var n,r,i,o=this;return zs(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Promise.all(t.map((function(t){return Bs(o,void 0,void 0,(function(){var n,r,i,o,s,a,u;return zs(this,(function(c){switch(c.label){case 0:return this.setupEventListener(t),n={emitter:t.emitter},r=this.params,i=r.Key,o=r.Bucket,s=r.SSECustomerAlgorithm,a=r.SSECustomerKey,u=r.SSECustomerKeyMD5,[4,this.s3client.send(new Ns(js(js(js({PartNumber:t.partNumber,Body:t.bodyPart,UploadId:e,Key:i,Bucket:o},s&&{SSECustomerAlgorithm:s}),a&&{SSECustomerKey:a}),u&&{SSECustomerKeyMD5:u})),n)];case 1:return[2,c.sent()]}}))}))})))];case 1:for(n=s.sent(),r=0;r<n.length;r++)this.completedParts.push({PartNumber:t[r].partNumber,ETag:n[r].ETag});return[3,3];case 2:return i=s.sent(),qs.error("error happened while uploading a part. Cancelling the multipart upload",i),this.cancelUpload(),[2];case 3:return[2]}}))}))},e.prototype.finishMultiPartUpload=function(e){return Bs(this,void 0,void 0,(function(){var t,n,r;return zs(this,(function(i){switch(i.label){case 0:t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e,MultipartUpload:{Parts:this.completedParts}},n=new Rs(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.s3client.send(n)];case 2:return[2,i.sent().Key];case 3:return r=i.sent(),qs.error("error happened while finishing the upload. Cancelling the multipart upload",r),this.cancelUpload(),[2];case 4:return[2]}}))}))},e.prototype.checkIfUploadCancelled=function(e){return Bs(this,void 0,void 0,(function(){var t,n;return zs(this,(function(r){switch(r.label){case 0:if(!this.cancel)return[3,5];t="Upload was cancelled.",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.cleanup(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),t+=" "+n.message,[3,4];case 4:throw new Error(t);case 5:return[2]}}))}))},e.prototype.cancelUpload=function(){this.cancel=!0},e.prototype.cleanup=function(e){return Bs(this,void 0,void 0,(function(){var t,n;return zs(this,(function(r){switch(r.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e},[4,this.s3client.send(new Ms(t))];case 1:return r.sent(),[4,this.s3client.send(new Us(t))];case 2:if((n=r.sent())&&n.Parts&&n.Parts.length>0)throw new Error("Multi Part upload clean up failed");return[2]}}))}))},e.prototype.removeEventListener=function(e){e.emitter.removeAllListeners(Gi),e.emitter.removeAllListeners(Ki)},e.prototype.setupEventListener=function(e){var t=this;e.emitter.on(Gi,(function(n){t.progressChanged(e.partNumber,n.loaded-e._lastUploadedBytes),e._lastUploadedBytes=n.loaded}))},e.prototype.progressChanged=function(e,t){this.bytesUploaded+=t,this.emitter.emit(Gi,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:e,key:this.params.Key})},e.prototype.byteLength=function(e){if(null==e)return 0;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"!=typeof e.path)throw new Error("Cannot determine length of "+e)},e.prototype.validateAndSanitizeBody=function(e){return Bs(this,void 0,void 0,(function(){return zs(this,(function(t){return this.isGenericObject(e)?[2,JSON.stringify(e)]:[2,e]}))}))},e.prototype.isGenericObject=function(e){if(null!==e&&"object"==typeof e)try{return!(this.byteLength(e)>=0)}catch(t){return!0}return!1},e.prototype._createNewS3Client=function(e,t){var n=Ps(e,t);return n.middlewareStack.add(As(this.opts,this.params.Key),Ts),n.middlewareStack.add(Cs(n.config),Is),n},e}(),Ks=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Kr.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,_i.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use(hi(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:Gn.filterSensitiveLog,outputFilterSensitiveLog:qn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,Hr.Sdo)(e,t)},t.prototype.deserialize=function(e,t){return(0,Hr.efb)(e,t)},t}(Vr.mY),Vs=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Hs=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ws=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Ys=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ws(arguments[t]));return e},Js=new jr.k("AWSS3UploadTask");!function(e){e[e.INIT=0]="INIT",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.PAUSED=2]="PAUSED",e[e.CANCELLED=3]="CANCELLED",e[e.COMPLETED=4]="COMPLETED"}(ks||(ks={})),function(e){e.CANCEL="cancel",e.UPLOAD_COMPLETE="uploadComplete",e.UPLOAD_PROGRESS="uploadPartProgress",e.ERROR="error"}(Ls||(Ls={}));function Zs(e,t){return e.PartNumber-t.PartNumber}var Qs=function(){function e(e){var t=e.s3Client,n=e.file,r=e.emitter,i=e.storage,o=e.params,s=e.level,a=e.prefixPromise;this.partSize=5242880,this.queueSize=4,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=ks.INIT,this.prefixPromise=a,this.s3client=t,this.s3client.middlewareStack.remove(Zi),this.storage=i,this.storageSync=Promise.resolve(),"function"==typeof this.storage.sync&&(this.storageSync=this.storage.sync()),this.params=o,this.file=n,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=r,this.queued=[],this.fileId=this._getFileId(s),this._validateParams(),this.emitter.on(Ls.ERROR,(function(){}))}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===ks.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(e){var t=e.key,n=e.bucket;return Vs(this,void 0,void 0,(function(){var e,r,i,o;return Hs(this,(function(s){switch(s.label){case 0:return[4,this.s3client.send(new Ks({Bucket:n,Prefix:t}))];case 1:return e=s.sent(),r=e.Contents,i=void 0===r?[]:r,[4,this.prefixPromise];case 2:return o=s.sent(),[2,i.find((function(e){return e.Key===""+o+t}))]}}))}))},e.prototype._getFileId=function(e){return void 0!==(t=this.file)&&t instanceof File?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-");var t},e.prototype._findCachedUploadParts=function(){return Vs(this,void 0,void 0,(function(){var e,t;return Hs(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return e=n.sent(),0!==Object.keys(e).length&&Object.prototype.hasOwnProperty.call(e,this.fileId)?((t=e[this.fileId]).lastTouched=Date.now(),this.storage.setItem(Qi,JSON.stringify(e)),[4,this.s3client.send(new Us({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t.uploadId}))]):[2,{parts:[],uploadId:null}];case 2:return[2,{parts:n.sent().Parts||[],uploadId:t.uploadId}]}}))}))},e.prototype._emitEvent=function(e,t){this.emitter.emit(e,t)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>1e4)throw new Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is 10000.")},e.prototype._listCachedUploadTasks=function(){return Vs(this,void 0,void 0,(function(){var e;return Hs(this,(function(t){switch(t.label){case 0:return[4,this.storageSync];case 1:return t.sent(),e=this.storage.getItem(Qi)||"{}",[2,JSON.parse(e)]}}))}))},e.prototype._cache=function(e){return Vs(this,void 0,void 0,(function(){var t;return Hs(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return(t=n.sent())[this.fileId]=e,this.storage.setItem(Qi,JSON.stringify(t)),[2]}}))}))},e.prototype._isCached=function(){return Vs(this,void 0,void 0,(function(){var e,t;return Hs(this,(function(n){switch(n.label){case 0:return t=(e=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,t.apply(e,[n.sent(),this.fileId])]}}))}))},e.prototype._removeFromCache=function(){return Vs(this,void 0,void 0,(function(){var e;return Hs(this,(function(t){switch(t.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return delete(e=t.sent())[this.fileId],this.storage.setItem(Qi,JSON.stringify(e)),[2]}}))}))},e.prototype._onPartUploadCompletion=function(e){var t=e.eTag,n=e.partNumber,r=e.chunk;return Vs(this,void 0,void 0,(function(){return Hs(this,(function(e){return this.completedParts.push({ETag:t,PartNumber:n}),this.bytesUploaded+=function(e){if("string"==typeof e)return e.length;if(eo(e))return e.byteLength;if(Xi(e))return e.size;throw new Error("Cannot determine byte length of "+e)}(r),this._emitEvent(Ls.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter((function(e){return e.uploadPartInput.PartNumber!==n})),this.queued.length&&this.state!==ks.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]}))}))},e.prototype._completeUpload=function(){return Vs(this,void 0,void 0,(function(){var e;return Hs(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.s3client.send(new Rs({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(Zs)}}))];case 1:return t.sent(),this._verifyFileSize(),this._emitEvent(Ls.UPLOAD_COMPLETE,{key:this.params.Bucket+"/"+this.params.Key}),this._removeFromCache(),this.state=ks.COMPLETED,[3,3];case 2:return e=t.sent(),Js.error("error completing upload",e),this._emitEvent(Ls.ERROR,e),[3,3];case 3:return[2]}}))}))},e.prototype._makeUploadPartRequest=function(e,t){return Vs(this,void 0,void 0,(function(){var n,r;return Hs(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.s3client.send(new Ns(e),{cancelTokenSource:t})];case 1:return n=i.sent(),[4,this._onPartUploadCompletion({eTag:n.ETag,partNumber:e.PartNumber,chunk:e.Body})];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),this.state===ks.PAUSED?Js.log("upload paused"):this.state===ks.CANCELLED?Js.log("upload aborted"):Js.error("error starting next part of upload: ",r),Fi().isCancel(r)||r.message===Ni.UPLOAD_PAUSED_MESSAGE||(this._emitEvent(Ls.ERROR,r),this.pause()),[3,4];case 4:return[2]}}))}))},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==ks.PAUSED){var e=Fi().CancelToken.source(),t=this.queued.shift();this.inProgress.push({uploadPartInput:t,s3Request:this._makeUploadPartRequest(t,e),cancel:e.cancel})}},e.prototype._verifyFileSize=function(){return Vs(this,void 0,void 0,(function(){var e,t;return Hs(this,(function(n){switch(n.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(e=n.sent(),!(t=Boolean(e&&e.Size===this.file.size)))throw new Error("File size does not match between local file and file on s3");return[2,t]}}))}))},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var e=this.file.size,t=[],n=0;n<e;){var r=Math.min(n+this.partSize,e);t.push({Body:this.file.slice(n,r),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:t.length+1,UploadId:this.uploadId}),n+=this.partSize}return t},e.prototype._initCachedUploadParts=function(e){this.bytesUploaded+=e.reduce((function(e,t){return e+t.Size}),0);var t=new Set(e.map((function(e){return e.PartNumber})));this.queued=this.queued.filter((function(e){return!t.has(e.PartNumber)})),this.completedParts=e.map((function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}})),this._emitEvent(Ls.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return Vs(this,void 0,void 0,(function(){var e;return Hs(this,(function(t){switch(t.label){case 0:return[4,this.s3client.send(new Ds(this.params))];case 1:return e=t.sent(),this._cache({uploadId:e.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,e.UploadId]}}))}))},e.prototype._initializeUploadTask=function(){return Vs(this,void 0,void 0,(function(){var e,t,n,r;return Hs(this,(function(i){switch(i.label){case 0:this.state=ks.IN_PROGRESS,i.label=1;case 1:return i.trys.push([1,7,,8]),[4,this._isCached()];case 2:return i.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return e=i.sent(),t=e.parts,n=e.uploadId,this.uploadId=n,this.queued=this._createParts(),this._initCachedUploadParts(t),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:n=i.sent(),this.uploadId=n,this.queued=this._createParts(),this._startUpload(),i.label=6;case 6:return[3,8];case 7:return r=i.sent(),Fi().isCancel(r)||Js.error("Error initializing the upload task",r),[3,8];case 8:return[2]}}))}))},e.prototype.resume=function(){this.state===ks.CANCELLED?Js.warn("This task has already been cancelled"):this.state===ks.COMPLETED?Js.warn("This task has already been completed"):this.state===ks.IN_PROGRESS?Js.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=ks.IN_PROGRESS;for(var e=0;e<this.queueSize;e++)this._startNextPart()},e.prototype._cancel=function(){return Vs(this,void 0,void 0,(function(){var e;return Hs(this,(function(t){switch(t.label){case 0:return this.state!==ks.CANCELLED?[3,1]:(Js.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==ks.COMPLETED?[3,2]:(Js.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=ks.CANCELLED,t.label=3;case 3:return t.trys.push([3,6,,7]),[4,this.s3client.send(new Ms({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return t.sent(),[4,this._removeFromCache()];case 5:return t.sent(),[2,!0];case 6:return e=t.sent(),Js.error("Error cancelling upload task",e),[2,!1];case 7:return[2]}}))}))},e.prototype.pause=function(){var e;this.state===ks.CANCELLED?Js.warn("This task has already been cancelled"):this.state===ks.COMPLETED?Js.warn("This task has already been completed"):this.state===ks.PAUSED&&Js.warn("This task is already paused"),this.state=ks.PAUSED;var t=this.inProgress.splice(0,this.inProgress.length);t.forEach((function(e){e.cancel(Ni.UPLOAD_PAUSED_MESSAGE)})),(e=this.queued).unshift.apply(e,Ys(t.map((function(e){return e.uploadPartInput}))))},e}(),$s=function(){return $s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$s.apply(this,arguments)},Xs=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ea=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ta=new jr.k("AWSS3Provider"),na="public",ra=function(){function e(e){var t=this;this._config=e||{},this._storage=(new zr.c4).getStorage(),qr.Xb.listen("auth",(function(e){var n=e.payload;"signOut"!==n.event&&"signIn"!==n.event||t._storage.removeItem(Qi)})),ta.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(ta.debug("configure Storage",e),!e)return this._config;var t=Br._b.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||ta.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(e,t){var n=e.s3Client,r=e.emitter,i=e.key,o=e.file,s=e.params,a=t.progressCallback,u=t.completeCallback,c=t.errorCallback,f=t.track,l=void 0!==f&&f;if(!(o instanceof Blob))throw new Error(ki.INVALID_BLOB);r.on(Ls.UPLOAD_PROGRESS,(function(e){a&&("function"==typeof a?a(e):ta.warn("progressCallback should be a function, not a "+typeof a))})),r.on(Ls.UPLOAD_COMPLETE,(function(e){u&&("function"==typeof u?u(e):ta.warn("completeCallback should be a function, not a "+typeof u))})),r.on(Ls.ERROR,(function(e){c&&("function"==typeof c?c(e):ta.warn("errorCallback should be a function, not a "+typeof c))}));var p=Gr.cN.get().then((function(e){var n=Gr.cN.shear(e);return Es($s($s({},t),{credentials:n}))})),h=new Qs({s3Client:n,file:o,emitter:r,level:t.level,storage:this._storage,params:s,prefixPromise:p});return $i(l,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+i),h.resume(),h},e.prototype.copy=function(e,t,n){return Xs(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I,T;return ea(this,(function(O){switch(O.label){case 0:return[4,this._ensureCredentials()];case 1:if(!O.sent()||!this._isWithCredentials(this._config))throw new Error(ki.NO_CREDENTIALS);if(r=Object.assign({},this._config,n),i=r.acl,o=r.bucket,s=r.cacheControl,a=r.expires,u=r.track,c=r.serverSideEncryption,f=r.SSECustomerAlgorithm,l=r.SSECustomerKey,p=r.SSECustomerKeyMD5,h=r.SSEKMSKeyId,d=e.level,v=void 0===d?na:d,g=e.identityId,y=e.key,m=t.level,b=void 0===m?na:m,w=t.key,!y||"string"!=typeof y)throw new Error(ki.NO_SRC_KEY);if(!w||"string"!=typeof w)throw new Error(ki.NO_DEST_KEY);"protected"!==v&&g&&ta.warn('You may copy files from another user if the source level is "protected", currently it\'s '+v),S=this._prefix($s($s($s({},r),{level:v}),g&&{identityId:g})),_=this._prefix($s($s({},r),{level:b})),E=o+"/"+S+y,A=""+_+w,ta.debug("copying "+E+" to "+A),C={Bucket:o,CopySource:E,Key:A,MetadataDirective:"COPY"},s&&(C.CacheControl=s),a&&(C.Expires=a),c&&(C.ServerSideEncryption=c),f&&(C.SSECustomerAlgorithm=f),l&&(C.SSECustomerKey=l),p&&(C.SSECustomerKeyMD5=p),h&&(C.SSEKMSKeyId=h),i&&(C.ACL=i),I=this._createNewS3Client(r),O.label=2;case 2:return O.trys.push([2,4,,5]),[4,I.send(new Ci(C))];case 3:return O.sent(),$i(u,"copy",{method:"copy",result:"success"},null,"Copy success from "+y+" to "+w),[2,{key:w}];case 4:throw T=O.sent(),$i(u,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+y+" to "+w),T;case 5:return[2]}}))}))},e.prototype.get=function(e,t){return Xs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b,w,S,_,E,A,C,I,T,O;return ea(this,(function(P){switch(P.label){case 0:return[4,this._ensureCredentials()];case 1:if(!P.sent()||!this._isWithCredentials(this._config))throw new Error(ki.NO_CREDENTIALS);if(n=Object.assign({},this._config,t),r=n.bucket,i=n.download,o=n.cacheControl,s=n.contentDisposition,a=n.contentEncoding,u=n.contentLanguage,c=n.contentType,f=n.expires,l=n.track,p=n.SSECustomerAlgorithm,h=n.SSECustomerKey,d=n.SSECustomerKeyMD5,v=n.progressCallback,g=this._prefix(n),y=g+e,m=new Fs.EventEmitter,b=this._createNewS3Client(n,m),ta.debug("get "+e+" from "+y),w={Bucket:r,Key:y},o&&(w.ResponseCacheControl=o),s&&(w.ResponseContentDisposition=s),a&&(w.ResponseContentEncoding=a),u&&(w.ResponseContentLanguage=u),c&&(w.ResponseContentType=c),p&&(w.SSECustomerAlgorithm=p),h&&(w.SSECustomerKey=h),d&&(w.SSECustomerKeyMD5=d),!0!==i)return[3,5];S=new Ii(w),P.label=2;case 2:return P.trys.push([2,4,,5]),v&&("function"==typeof v?m.on(Ki,(function(e){v(e)})):ta.warn("progressCallback should be a function, not a "+typeof v)),[4,b.send(S)];case 3:return _=P.sent(),m.removeAllListeners(Ki),$i(l,"download",{method:"get",result:"success"},{fileSize:Number(_.Body.size||_.Body.length)},"Download success for "+e),[2,_];case 4:throw E=P.sent(),$i(l,"download",{method:"get",result:"failed"},null,"Download failed with "+E.message),E;case 5:return P.trys.push([5,8,,9]),A=new Mi($s({},b.config)),[4,Di(b,new Ii(w))];case 6:return C=P.sent(),T=xi,[4,A.presign(C,{expiresIn:f||900})];case 7:return I=T.apply(void 0,[P.sent()]),$i(l,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+I),[2,I];case 8:throw O=P.sent(),ta.warn("get signed url error",O),$i(l,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),O;case 9:return[2]}}))}))},e.prototype.put=function(e,t,n){var r=Object.assign({},this._config,n),i=r.bucket,o=r.track,s=r.progressCallback,a=r.level,u=r.resumable,c=r.contentType,f=r.contentDisposition,l=r.contentEncoding,p=r.cacheControl,h=r.expires,d=r.metadata,v=r.tagging,g=r.acl,y=r.serverSideEncryption,m=r.SSECustomerAlgorithm,b=r.SSECustomerKey,w=r.SSECustomerKeyMD5,S=r.SSEKMSKeyId,_={Bucket:i,Key:e,Body:t,ContentType:c||"binary/octet-stream"};p&&(_.CacheControl=p),f&&(_.ContentDisposition=f),l&&(_.ContentEncoding=l),h&&(_.Expires=h),d&&(_.Metadata=d),v&&(_.Tagging=v),y&&(_.ServerSideEncryption=y),m&&(_.SSECustomerAlgorithm=m),b&&(_.SSECustomerKey=b),w&&(_.SSECustomerKeyMD5=w),S&&(_.SSEKMSKeyId=S);var E=new Fs.EventEmitter,A=new Gs(_,r,E);if(g&&(_.ACL=g),!0===u){var C=this._createNewS3Client(r);C.middlewareStack.add(As(r,e),Ts);var I={bucket:i,key:e,s3Client:C,file:t,emitter:E,accessLevel:a,params:_};return this.startResumableUpload(I,n)}try{return s&&("function"==typeof s?E.on(Gi,(function(e){s(e)})):ta.warn("progressCallback should be a function, not a "+typeof s)),A.upload().then((function(t){return ta.debug("upload result",t),$i(o,"upload",{method:"put",result:"success"},null,"Upload success for "+e),{key:e}}))}catch(T){throw ta.warn("error uploading",T),$i(o,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),T}},e.prototype.remove=function(e,t){return Xs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f;return ea(this,(function(l){switch(l.label){case 0:return[4,this._ensureCredentials()];case 1:if(!l.sent()||!this._isWithCredentials(this._config))throw new Error(ki.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=this._prefix(n),s=o+e,a=this._createNewS3Client(n),ta.debug("remove "+e+" from "+s),u=new Ti({Bucket:r,Key:s}),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,a.send(u)];case 3:return c=l.sent(),$i(i,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),[2,c];case 4:throw f=l.sent(),$i(i,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+f),f;case 5:return[2]}}))}))},e.prototype.list=function(e,t){return Xs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,p;return ea(this,(function(h){switch(h.label){case 0:return[4,this._ensureCredentials()];case 1:if(!h.sent()||!this._isWithCredentials(this._config))throw new Error(ki.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=n.maxKeys,s=this._prefix(n),a=s+e,u=this._createNewS3Client(n),ta.debug("list "+e+" from "+a),c=new Oi({Bucket:r,Prefix:a,MaxKeys:o}),h.label=2;case 2:return h.trys.push([2,4,,5]),[4,u.send(c)];case 3:return f=h.sent(),l=[],f&&f.Contents&&(l=f.Contents.map((function(e){return{key:e.Key.substr(s.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}}))),$i(i,"list",{method:"list",result:"success"},null,l.length+" items returned from list operation"),ta.debug("list",l),[2,l];case 4:throw p=h.sent(),ta.warn("list error",p),$i(i,"list",{method:"list",result:"failed"},null,"Listing items failed: "+p.message),p;case 5:return[2]}}))}))},e.prototype._ensureCredentials=function(){return Xs(this,void 0,void 0,(function(){var e,t,n;return ea(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Gr.cN.get()];case 1:return(e=r.sent())?(t=Gr.cN.shear(e),ta.debug("set credentials for storage",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),ta.warn("ensure credentials error",n),[2,!1];case 3:return[2]}}))}))},e.prototype._isWithCredentials=function(e){return"object"==typeof e&&e.hasOwnProperty("credentials")},e.prototype._prefix=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",s=(void 0!==r.protected?r.protected:"protected/")+i+"/",a=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return s;default:return a}},e.prototype._createNewS3Client=function(e,t){var n=Ps(e,t);return n.middlewareStack.add(Cs(n.config),Is),n},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),ia=function(){return ia=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ia.apply(this,arguments)},oa=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},sa=new jr.k("StorageClass"),aa="AWSS3",ua=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,sa.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory()){this._pluggables.push(e);return e.configure(this._config[e.getProviderName()])}},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));return void 0===t?(sa.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this;if(sa.debug("configure Storage"),!e)return this._config;var n=Br._b.parseMobilehubConfig(e),r=Object.keys(n.Storage),i=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],o=function(e){return i.some((function(t){return t===e}))};return r&&r.find((function(e){return o(e)}))&&!n.Storage.AWSS3&&(n.Storage.AWSS3={}),Object.entries(n.Storage).map((function(e){var t=oa(e,2),r=t[0],i=t[1];r&&o(r)&&void 0!==i&&(n.Storage.AWSS3[r]=i,delete n.Storage[r])})),Object.keys(n.Storage).forEach((function(e){"string"!=typeof n.Storage[e]&&(t._config[e]=ia(ia({},t._config[e]),n.Storage[e]))})),this._pluggables.forEach((function(e){e.configure(t._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new ra),this._config},e.prototype.getCancellableTokenSource=function(){return Fi().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenSourceMap.set(e,t)},e.prototype.isUploadTask=function(e){return void 0!==e&&"function"==typeof e.pause&&"function"==typeof e.resume},e.prototype.cancel=function(e,t){if(e instanceof Qs)return e._cancel();var n=this._cancelTokenSourceMap.get(e);n?n.cancel(t):sa.debug("The request does not map to any cancel token")},e.prototype.copy=function(e,t,n){var r=(null==n?void 0:n.provider)||aa,i=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===i)return sa.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource();if("function"!=typeof i.copy)return Promise.reject(".copy is not implemented on provider "+i.getProviderName());var s=i.copy(e,t,ia(ia({},n),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(s,o),s},e.prototype.get=function(e,t){var n=(null==t?void 0:t.provider)||aa,r=this._pluggables.find((function(e){return e.getProviderName()===n}));if(void 0===r)return sa.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var i=this.getCancellableTokenSource(),o=r.get(e,ia(ia({},t),{cancelTokenSource:i}));return this.updateRequestToBeCancellable(o,i),o},e.prototype.isCancelError=function(e){return Fi().isCancel(e)},e.prototype.put=function(e,t,n){var r=(null==n?void 0:n.provider)||aa,i=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===i)return sa.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),s=i.put(e,t,ia(ia({},n),{cancelTokenSource:o}));return this.isUploadTask(s)||this.updateRequestToBeCancellable(s,o),s},e.prototype.remove=function(e,t){var n=(null==t?void 0:t.provider)||aa,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(sa.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.remove(e,t)},e.prototype.list=function(e,t){var n=(null==t?void 0:t.provider)||aa,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(sa.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.list(e,t)},e}(),ca=n(75557),fa=function(){return fa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fa.apply(this,arguments)},la=new jr.k("Storage"),pa=null,ha=function(){if(pa)return pa;la.debug("Create Storage Instance, debug"),(pa=new ua).vault=new ua;var e=pa.configure;return pa.configure=function(t){la.debug("storage configure called");var n=fa({},e.call(pa,t));Object.keys(n).forEach((function(e){"string"!=typeof n[e]&&(n[e]=fa(fa({},n[e]),{level:"private"}))})),la.debug("storage vault configure called"),pa.vault.configure(n)},pa}();ca.dQ.register(ha)},74586:function(e,t,n){e.exports=n(26007)},77093:function(e,t,n){"use strict";var r=n(60932),i=n(88834),o=n(36255),s=n(26279),a=n(4706),u=n(58338),c=n(71618),f=n(17214);e.exports=function(e){return new Promise((function(t,n){var l=e.data,p=e.headers,h=e.responseType;r.isFormData(l)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(v+":"+g)}var y=a(e.baseURL,e.url);function m(){if(d){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:h&&"text"!==h&&"json"!==h?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,n,o),d=null}}if(d.open(e.method.toUpperCase(),s(y,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(m)},d.onabort=function(){d&&(n(f("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(f("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(f(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||c(y))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(p[e.xsrfHeaderName]=b)}"setRequestHeader"in d&&r.forEach(p,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),h&&"json"!==h&&(d.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),l||(l=null),d.send(l)}))}},26007:function(e,t,n){"use strict";var r=n(60932),i=n(17413),o=n(28862),s=n(18603);function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=a(n(20947));u.Axios=o,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=n(73299),u.CancelToken=n(90506),u.isCancel=n(44341),u.all=function(e){return Promise.all(e)},u.spread=n(64194),u.isAxiosError=n(51646),e.exports=u,e.exports.default=u},73299:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},90506:function(e,t,n){"use strict";var r=n(73299);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},44341:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},28862:function(e,t,n){"use strict";var r=n(60932),i=n(26279),o=n(37457),s=n(86635),a=n(18603),u=n(11254),c=u.validators;function f(e){this.defaults=e,this.interceptors={request:new o,response:new o}}f.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var f=[s,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(o),i=Promise.resolve(e);f.length;)i=i.then(f.shift(),f.shift());return i}for(var l=e;n.length;){var p=n.shift(),h=n.shift();try{l=p(l)}catch(d){h(d);break}}try{i=s(l)}catch(d){return Promise.reject(d)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},f.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){f.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=f},37457:function(e,t,n){"use strict";var r=n(60932);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4706:function(e,t,n){"use strict";var r=n(8326),i=n(22035);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},17214:function(e,t,n){"use strict";var r=n(30402);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},86635:function(e,t,n){"use strict";var r=n(60932),i=n(387),o=n(44341),s=n(20947);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},30402:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},18603:function(e,t,n){"use strict";var r=n(60932);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,c),r.forEach(s,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(a,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var f=i.concat(o).concat(s).concat(a),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===f.indexOf(e)}));return r.forEach(l,c),n}},88834:function(e,t,n){"use strict";var r=n(17214);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},387:function(e,t,n){"use strict";var r=n(60932),i=n(20947);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},20947:function(e,t,n){"use strict";var r=n(60932),i=n(46771),o=n(30402),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(77093)),u),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(s){if("SyntaxError"===a.name)throw o(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(s)})),e.exports=c},17413:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},26279:function(e,t,n){"use strict";var r=n(60932);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},22035:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},36255:function(e,t,n){"use strict";var r=n(60932);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8326:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},51646:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},71618:function(e,t,n){"use strict";var r=n(60932);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},46771:function(e,t,n){"use strict";var r=n(60932);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},58338:function(e,t,n){"use strict";var r=n(60932),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},64194:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},11254:function(e,t,n){"use strict";var r=n(35122),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},s=r.version.split(".");function a(e,t){for(var n=t?t.split("."):s,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&a(t);function s(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(s(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},60932:function(e,t,n){"use strict";var r=n(17413),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:u,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:f,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},70597:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1)),r(n(2)),r(n(3)),r(n(4)),r(n(5)),r(n(6)),r(n(7)),r(n(8)),r(n(9)),r(n(10)),r(n(11)),r(n(12)),r(n(13))},function(e,t,n){e.exports={a:"Anchor__a___1_Iz8"}},function(e,t,n){e.exports={button:"Button__button___vS7Mv",signInButton:"Button__signInButton___3bUH-",googleSignInButton:"Button__googleSignInButton___1YiCu",signInButtonIcon:"Button__signInButtonIcon___ihN75",auth0SignInButton:"Button__auth0SignInButton___znnCj",facebookSignInButton:"Button__facebookSignInButton___34Txh",amazonSignInButton:"Button__amazonSignInButton___2EMtl",oAuthSignInButton:"Button__oAuthSignInButton___3UGOl",signInButtonContent:"Button__signInButtonContent___xqTXJ"}},function(e,t,n){e.exports={formContainer:"Form__formContainer___1GA3x",formSection:"Form__formSection___1PPvW",formField:"Form__formField___38Ikl",formRow:"Form__formRow___2mwRs"}},function(e,t,n){e.exports={hint:"Hint__hint___2XngB"}},function(e,t,n){e.exports={input:"Input__input___3e_bf",inputLabel:"Input__inputLabel___3VF0S",label:"Input__label___23sO8",radio:"Input__radio___2hllK"}},function(e,t,n){e.exports={navBar:"Nav__navBar___xtCFA",navRight:"Nav__navRight___1QG2J",nav:"Nav__nav___2Dx2Y",navItem:"Nav__navItem___1LtFQ"}},function(e,t,n){e.exports={photoPickerButton:"PhotoPicker__photoPickerButton___2XdVn",photoPlaceholder:"PhotoPicker__photoPlaceholder___2JXO4",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___3Et71"}},function(e,t,n){e.exports={container:"Section__container___3YYTG",actionRow:"Section__actionRow___2LWSU",sectionHeader:"Section__sectionHeader___2djyg",sectionHeaderHint:"Section__sectionHeaderHint___3Wxdc",sectionBody:"Section__sectionBody___ihqqd",sectionHeaderContent:"Section__sectionHeaderContent___1UCqa",sectionFooter:"Section__sectionFooter___1T54C",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___2r9ZX",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___Nj41Q"}},function(e,t,n){e.exports={selectInput:"SelectInput__selectInput___3efO4"}},function(e,t,n){e.exports={strike:"Strike__strike___1XV1b",strikeContent:"Strike__strikeContent___10gLb"}},function(e,t,n){e.exports={toast:"Toast__toast___XXr3v",toastClose:"Toast__toastClose___18lU4"}},function(e,t,n){e.exports={totpQrcode:"Totp__totpQrcode___1crLx"}},function(e,t,n){e.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___3nVMt",sumerianScene:"XR__sumerianScene___2Tt7-",loadingOverlay:"XR__loadingOverlay___IbqcI",loadingContainer:"XR__loadingContainer___2Itxb",loadingLogo:"XR__loadingLogo___Ub7xQ",loadingSceneName:"XR__loadingSceneName___3__ne",loadingBar:"XR__loadingBar___2vcke",loadingBarFill:"XR__loadingBarFill___3M-D9",sceneErrorText:"XR__sceneErrorText___2y0tp",sceneBar:"XR__sceneBar___2ShrP",sceneName:"XR__sceneName___1ApHr",sceneActions:"XR__sceneActions___7plGs",actionButton:"XR__actionButton___2poIM",tooltip:"XR__tooltip___UYyhn",actionIcon:"XR__actionIcon___2qnd2",autoShowTooltip:"XR__autoShowTooltip___V1QH7"}}])},38681:function(e,t,n){"use strict";n.d(t,{XR:function(){return D}});var r,i=n(55218),o=n(75557),s=n(43698),a=n(17672),u=n(62579),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},f=new i.k("AbstractXRProvider"),l=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=c(c({},e),this._config),f.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"XR"},Object.defineProperty(e.prototype,"options",{get:function(){return c({},this._config)},enumerable:!0,configurable:!0}),e}(),p=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t}(Error),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t}(h),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t}(h),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t}(h),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t}(h),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t}(h),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t}(h),w=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},S.apply(this,arguments)},_=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},E=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},A=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},C=new i.k("SumerianProvider"),I=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return w(t,e),t.prototype.getProviderName=function(){return"SumerianProvider"},t.prototype.loadScript=function(e){return _(this,void 0,void 0,(function(){return E(this,(function(t){return[2,new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.addEventListener("load",(function(e){t()})),r.addEventListener("error",(function(t){n(new Error("Failed to load script: "+e))})),document.head.appendChild(r)}))]}))}))},t.prototype.loadScene=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i,o,c,f,l,p,h,d,v,g,b,w,_,I,T,O,P,x,D,k,L,N,R,M,U,F;return E(this,(function(E){switch(E.label){case 0:if(!e)throw l="No scene name passed into loadScene",C.error(l),new m(l);if(!t)throw l="No dom element id passed into loadScene",C.error(l),new y(l);if(!(r=document.getElementById(t)))throw l="DOM element id, "+t+" not found",C.error(l),new y(l);if(!(i=this.getScene(e)).sceneConfig)throw l="No scene config configured for scene: "+e,C.error(l),new m(l);if(o=i.sceneConfig.url,c=i.sceneConfig.sceneId,i.sceneConfig.hasOwnProperty("region"))f=i.sceneConfig.region;else{if(!this.options.hasOwnProperty("region"))throw l="No region configured for scene: "+e,C.error(l),new m(l);f=this.options.region}p={region:f,customUserAgent:s.gT.userAgent+"-SumerianScene"},h={headers:{"X-Amz-User-Agent":s.gT.userAgent}},d=o,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,a.cN.get()];case 2:return v=E.sent(),p.credentials=v,g={secret_key:v.secretAccessKey,access_key:v.accessKeyId,session_token:v.sessionToken},b={region:f,service:"sumerian"},w=u.E.sign({method:"GET",url:o},g,b),h.headers=S(S({},h.headers),w.headers),d=w.url,[3,4];case 3:return E.sent(),C.debug("No credentials available, the request will be unsigned"),[3,4];case 4:return[4,fetch(d,h)];case 5:return[4,(_=E.sent()).json()];case 6:if(I=E.sent(),403===_.status)throw I.message?(C.error("Failure to authenticate user: "+I.message),new m("Failure to authenticate user: "+I.message)):(C.error("Failure to authenticate user"),new m("Failure to authenticate user"));return T=I.bundleData[c],[4,fetch(T.url,{headers:T.headers})];case 7:return[4,E.sent().json()];case 8:O=E.sent(),E.label=9;case 9:return E.trys.push([9,11,,12]),[4,this.loadScript(O[c].bootstrapperUrl)];case 10:return E.sent(),[3,12];case 11:throw P=E.sent(),C.error(P),new m(P);case 12:return x=n.progressCallback?n.progressCallback:void 0,D=i.publishParamOverrides?i.publishParamOverrides:void 0,k={element:r,sceneId:c,sceneBundle:O,apiResponse:I,progressCallback:x,publishParamOverrides:D,awsSDKConfigOverride:p},[4,window.SumerianBootstrapper.loadScene(k)];case 13:L=E.sent(),i.sceneController=L,i.isLoaded=!0;try{for(N=A(L.sceneLoadWarnings),R=N.next();!R.done;R=N.next())M=R.value,C.warn("loadScene warning: "+M)}catch(j){U={error:j}}finally{try{R&&!R.done&&(F=N.return)&&F.call(N)}finally{if(U)throw U.error}}return[2]}}))}))},t.prototype.isSceneLoaded=function(e){return this.getScene(e).isLoaded||!1},t.prototype.getScene=function(e){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw C.error(t),new d(t)}if(!e){t="No scene name was passed";throw C.error(t),new v(t)}if(!this.options.scenes[e]){t="Scene '"+e+"' is not configured";throw C.error(t),new v(t)}return this.options.scenes[e]},t.prototype.getSceneController=function(e){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw C.error(t),new d(t)}var n=this.options.scenes[e];if(!n){t="Scene '"+e+"' is not configured";throw C.error(t),new v(t)}var r=n.sceneController;if(!r){t="Scene controller for '"+e+"' has not been loaded";throw C.error(t),new g(t)}return r},t.prototype.isVRCapable=function(e){return this.getSceneController(e).vrCapable},t.prototype.isVRPresentationActive=function(e){return this.getSceneController(e).vrPresentationActive},t.prototype.start=function(e){this.getSceneController(e).start()},t.prototype.enterVR=function(e){this.getSceneController(e).enterVR()},t.prototype.exitVR=function(e){this.getSceneController(e).exitVR()},t.prototype.isMuted=function(e){return this.getSceneController(e).muted},t.prototype.setMuted=function(e,t){this.getSceneController(e).muted=t},t.prototype.onSceneEvent=function(e,t,n){this.getSceneController(e).on(t,n)},t.prototype.enableAudio=function(e){this.getSceneController(e).enableAudio()},t}(l),T=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},P=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},x=new i.k("XR"),D=new(function(){function e(e){this._options=e,x.debug("XR Options",this._options),this._defaultProvider="SumerianProvider",this._pluggables={},this.addPluggable(new I)}return e.prototype.configure=function(e){var t=this,n=e?e.XR||e:{};return x.debug("configure XR",{opt:n}),this._options=Object.assign({},this._options,n),Object.entries(this._pluggables).map((function(e){var r=P(e,2),i=r[0],o=r[1];i!==t._defaultProvider||n[t._defaultProvider]?o.configure(t._options[i]):o.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return T(this,void 0,void 0,(function(){return O(this,(function(t){return e&&"XR"===e.getCategory()?(this._pluggables[e.getProviderName()]=e,[2,e.configure(this._options)]):[2]}))}))},e.prototype.loadScene=function(e,t,n,r){return void 0===n&&(n={}),void 0===r&&(r=this._defaultProvider),T(this,void 0,void 0,(function(){return O(this,(function(i){switch(i.label){case 0:if(!this._pluggables[r])throw new b("Provider '"+r+"' not configured");return[4,this._pluggables[r].loadScene(e,t,n)];case 1:return[2,i.sent()]}}))}))},e.prototype.isSceneLoaded=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new b("Provider '"+t+"' not configured");return this._pluggables[t].isSceneLoaded(e)},e.prototype.getSceneController=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new b("Provider '"+t+"' not configured");return this._pluggables[t].getSceneController(e)},e.prototype.isVRCapable=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new b("Provider '"+t+"' not configured");return this._pluggables[t].isVRCapable(e)},e.prototype.isVRPresentationActive=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new b("Provider '"+t+"' not configured");return this._pluggables[t].isVRPresentationActive(e)},e.prototype.start=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new b("Provider '"+t+"' not configured");return this._pluggables[t].start(e)},e.prototype.enterVR=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new b("Provider '"+t+"' not configured");return this._pluggables[t].enterVR(e)},e.prototype.exitVR=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new b("Provider '"+t+"' not configured");return this._pluggables[t].exitVR(e)},e.prototype.isMuted=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new b("Provider '"+t+"' not configured");return this._pluggables[t].isMuted(e)},e.prototype.setMuted=function(e,t,n){if(void 0===n&&(n=this._defaultProvider),!this._pluggables[n])throw new b("Provider '"+n+"' not configured");return this._pluggables[n].setMuted(e,t)},e.prototype.onSceneEvent=function(e,t,n,r){if(void 0===r&&(r=this._defaultProvider),!this._pluggables[r])throw new b("Provider '"+r+"' not configured");return this._pluggables[r].onSceneEvent(e,t,n)},e.prototype.enableAudio=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new b("Provider '"+t+"' not configured");return this._pluggables[t].enableAudio(e)},e}())(null);o.dQ.register(D)},43542:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(38499),i=n(54566),o=n(91144),s=function(){function e(){this.crc32=new o.Crc32}return e.prototype.update=function(e){(0,i.isEmptyData)(e)||this.crc32.update((0,i.convertToBuffer)(e))},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,(0,i.numToUint8)(this.crc32.digest())]}))}))},e}();t.AwsCrc32=s},91144:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(38499),i=n(54566);t.crc32=function(e){return(new o).update(e).digest()};var o=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var i=(0,r.__values)(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.checksum=this.checksum>>>8^s[255&(this.checksum^a)]}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=o;var s=(0,i.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),a=n(43542);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})},8976:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},87447:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},97148:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},18093:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},36749:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},99959:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38499);r.__exportStar(n(8976),t),r.__exportStar(n(87447),t),r.__exportStar(n(97148),t),r.__exportStar(n(18093),t),r.__exportStar(n(36749),t)},43681:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},88807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(85755),i=n(90253),o=n(32520),s=n(27930),a=n(99959),u=n(83916),c=function(){function e(e){(0,s.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,a.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},85755:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(80641),i=n(43681),o=n(24177),s=n(83916),a=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,s.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,s.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,s.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},14552:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(38499).__exportStar)(n(88807),t);var r=n(85755);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(90253);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},80641:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},90253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(54566),i=n(43681),o=n(83916),s=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=s},92827:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(65027),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],f=t[7],l=0;l<r.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var p=this.temp[l-2],h=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,d=((p=this.temp[l-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[l]=(h+this.temp[l-7]|0)+(d+this.temp[l-16]|0)}var v=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(f+(r.KEY[l]+this.temp[l]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;f=c,c=u,u=a,a=s+v|0,s=o,o=i,i=n,n=v+g|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=f},e}();t.RawSha256=i},65027:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},32520:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(38499).__exportStar)(n(57346),t)},57346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(38499),i=n(65027),o=n(92827),s=n(54566),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,s.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,s.isEmptyData)(e)&&!this.error)try{this.hash.update((0,s.convertToBuffer)(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=a},30717:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6602),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],f=t[7],l=0;l<r.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var p=this.temp[l-2],h=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,d=((p=this.temp[l-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[l]=(h+this.temp[l-7]|0)+(d+this.temp[l-16]|0)}var v=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(f+(r.KEY[l]+this.temp[l]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;f=c,c=u,u=a,a=s+v|0,s=o,o=i,i=n,n=v+g|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=f},e}();t.RawSha256=i},6602:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},34706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(38499).__exportStar(n(98011),t)},98011:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38499),i=n(6602),o=n(30717),s=n(50093),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=u(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!function(e){if("string"==typeof e)return 0===e.length;return 0===e.byteLength}(e)&&!this.error)try{this.hash.update(u(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();function u(e){return"string"==typeof e?s.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},50093:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return r},toUtf8:function(){return i}});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},27930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(38499).__exportStar(n(21118),t)},21118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(38499),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function s(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&s(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=s,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!s(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},80136:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(24177),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},54566:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(80136);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(82626);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(78656);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=n(76437);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},82626:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},78656:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},76437:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},36675:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return s},Jh:function(){return a},CR:function(){return u}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create},7094:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return s},Jh:function(){return a},CR:function(){return u}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create},41030:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return s},Jh:function(){return a}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;Object.create},95105:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return s},Jh:function(){return a}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;Object.create},59287:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},39140:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5340:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},13514:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},84742:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},35884:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21421);(0,r.__exportStar)(n(59287),t),(0,r.__exportStar)(n(39140),t),(0,r.__exportStar)(n(5340),t),(0,r.__exportStar)(n(13514),t),(0,r.__exportStar)(n(84742),t)},21421:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return s},__decorate:function(){return a},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return f},__generator:function(){return l},__createBinding:function(){return p},__exportStar:function(){return h},__values:function(){return d},__read:function(){return v},__spread:function(){return g},__spreadArrays:function(){return y},__await:function(){return m},__asyncGenerator:function(){return b},__asyncDelegator:function(){return w},__asyncValues:function(){return S},__makeTemplateObject:function(){return _},__importStar:function(){return E},__importDefault:function(){return A},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return I}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):f(o[0][2],n)}catch(r){f(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},28091:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},63903:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(25250),i=n(73864),o=n(54708),s=n(83472),a=n(35884),u=n(83916),c=function(){function e(e){(0,s.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,a.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},25250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(38731),i=n(28091),o=n(5658),s=n(83916),a=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,s.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,s.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,s.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},38139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(18778).__exportStar)(n(63903),t);var r=n(25250);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(73864);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},38731:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},73864:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(66470),i=n(28091),o=n(83916),s=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=s},18778:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return s},__decorate:function(){return a},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return f},__generator:function(){return l},__createBinding:function(){return p},__exportStar:function(){return h},__values:function(){return d},__read:function(){return v},__spread:function(){return g},__spreadArrays:function(){return y},__await:function(){return m},__asyncGenerator:function(){return b},__asyncDelegator:function(){return w},__asyncValues:function(){return S},__makeTemplateObject:function(){return _},__importStar:function(){return E},__importDefault:function(){return A},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return I}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):f(o[0][2],n)}catch(r){f(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},76430:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(32194),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],f=t[7],l=0;l<r.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var p=this.temp[l-2],h=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,d=((p=this.temp[l-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[l]=(h+this.temp[l-7]|0)+(d+this.temp[l-16]|0)}var v=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(f+(r.KEY[l]+this.temp[l]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;f=c,c=u,u=a,a=s+v|0,s=o,o=i,i=n,n=v+g|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=f},e}();t.RawSha256=i},32194:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},54708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(31021).__exportStar)(n(77043),t)},77043:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(31021),i=n(32194),o=n(76430),s=n(66470),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,s.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,s.isEmptyData)(e)&&!this.error)try{this.hash.update((0,s.convertToBuffer)(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=a},31021:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return s},__decorate:function(){return a},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return f},__generator:function(){return l},__createBinding:function(){return p},__exportStar:function(){return h},__values:function(){return d},__read:function(){return v},__spread:function(){return g},__spreadArrays:function(){return y},__await:function(){return m},__asyncGenerator:function(){return b},__asyncDelegator:function(){return w},__asyncValues:function(){return S},__makeTemplateObject:function(){return _},__importStar:function(){return E},__importDefault:function(){return A},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return I}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):f(o[0][2],n)}catch(r){f(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},83472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(82635).__exportStar)(n(21422),t)},21422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(82635),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function s(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&s(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=s,t.supportsZeroByteGCM=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:if(!s(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},82635:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return s},__decorate:function(){return a},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return f},__generator:function(){return l},__createBinding:function(){return p},__exportStar:function(){return h},__values:function(){return d},__read:function(){return v},__spread:function(){return g},__spreadArrays:function(){return y},__await:function(){return m},__asyncGenerator:function(){return b},__asyncDelegator:function(){return w},__asyncValues:function(){return S},__makeTemplateObject:function(){return _},__importStar:function(){return E},__importDefault:function(){return A},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return I}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):f(o[0][2],n)}catch(r){f(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},80338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(5658),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},66470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(80338);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(49418);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(55080);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=n(80049);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},49418:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},55080:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},80049:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},92880:function(e,t,n){"use strict";n.d(t,{aW:function(){return i},Zn:function(){return o},Lb:function(){return s}});var r=n(84969),i=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e((0,r.pi)((0,r.pi)({},this),{headers:(0,r.pi)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var i,o=t[n];return(0,r.pi)((0,r.pi)({},e),((i={})[n]=Array.isArray(o)?(0,r.ev)([],(0,r.CR)(o)):o,i))}),{}))),n},e}();var o=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}();function s(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}},7530:function(e,t,n){"use strict";n.d(t,{KU:function(){return a},mY:function(){return u},oc:function(){return c},zE:function(){return f},u$:function(){return v},CE:function(){return w},Wh:function(){return S},pY:function(){return _},jc:function(){return F},mr:function(){return C},jv:function(){return U},uj:function(){return P},vw:function(){return B}});var r=n(84969),i=function e(){var t=[],n=[],i=new Set,a=function(e){return t.forEach((function(t){e.add(t.middleware,(0,r.pi)({},t))})),n.forEach((function(t){e.addRelativeTo(t.middleware,(0,r.pi)({},t))})),e},u=function e(t){var n=[];return t.before.forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,(0,r.ev)([],(0,r.CR)(e(t))))})),n.push(t),t.after.reverse().forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,(0,r.ev)([],(0,r.CR)(e(t))))})),n},c=function(){var e,i=[],a=[],c={};return t.forEach((function(e){var t=(0,r.pi)((0,r.pi)({},e),{before:[],after:[]});t.name&&(c[t.name]=t),i.push(t)})),n.forEach((function(e){var t=(0,r.pi)((0,r.pi)({},e),{before:[],after:[]});t.name&&(c[t.name]=t),a.push(t)})),a.forEach((function(e){if(e.toMiddleware){var t=c[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(e=i,e.sort((function(e,t){return o[t.step]-o[e.step]||s[t.priority||"normal"]-s[e.priority||"normal"]}))).map(u).reduce((function(e,t){return e.push.apply(e,(0,r.ev)([],(0,r.CR)(t))),e}),[]).map((function(e){return e.middleware}))},f={add:function(e,n){void 0===n&&(n={});var o=n.name,s=n.override,a=(0,r.pi)({step:"initialize",priority:"normal",middleware:e},n);if(o){if(i.has(o)){if(!s)throw new Error("Duplicate middleware name '"+o+"'");var u=t.findIndex((function(e){return e.name===o})),c=t[u];if(c.step!==a.step||c.priority!==a.priority)throw new Error('"'+o+'" middleware with '+c.priority+" priority in "+c.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");t.splice(u,1)}i.add(o)}t.push(a)},addRelativeTo:function(e,t){var o=t.name,s=t.override,a=(0,r.pi)({middleware:e},t);if(o){if(i.has(o)){if(!s)throw new Error("Duplicate middleware name '"+o+"'");var u=n.findIndex((function(e){return e.name===o})),c=n[u];if(c.toMiddleware!==a.toMiddleware||c.relation!==a.relation)throw new Error('"'+o+'" middleware '+c.relation+' "'+c.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');n.splice(u,1)}i.add(o)}n.push(a)},clone:function(){return a(e())},use:function(e){e.applyToStack(f)},remove:function(e){return"string"==typeof e?function(e){var r=!1,o=function(t){return!t.name||t.name!==e||(r=!0,i.delete(e),!1)};return t=t.filter(o),n=n.filter(o),r}(e):function(e){var r=!1,o=function(t){return t.middleware!==e||(r=!0,t.name&&i.delete(t.name),!1)};return t=t.filter(o),n=n.filter(o),r}(e)},removeByTag:function(e){var r=!1,o=function(t){var n=t.tags,o=t.name;return!n||!n.includes(e)||(o&&i.delete(o),r=!0,!1)};return t=t.filter(o),n=n.filter(o),r},concat:function(t){var n=a(e());return n.use(t),n},applyToStack:a,resolve:function(e,t){var n,i;try{for(var o=(0,r.XA)(c().reverse()),s=o.next();!s.done;s=o.next()){e=(0,s.value)(e,t)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return e}};return f},o={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},s={high:3,normal:2,low:1},a=function(){function e(e){this.middlewareStack=i(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),u=function(){this.middlewareStack=i()},c="***SensitiveInformation***",f=(n(55674),function(e){if(null!=e){if("boolean"==typeof e)return e;throw new TypeError("Expected boolean, got "+typeof e)}}),l=function(e){if(null!=e){if("number"==typeof e)return e;throw new TypeError("Expected number, got "+typeof e)}},p=Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),h=function(e){var t=l(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>p)throw new TypeError("Expected 32-bit float, got "+e);return t},d=function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got "+typeof e)}},v=function(e){return m(e,32)},g=function(e){return m(e,16)},y=function(e){return m(e,8)},m=function(e,t){var n=d(e);if(void 0!==n&&b(n,t)!==n)throw new TypeError("Expected "+t+"-bit integer, got "+e);return n},b=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},w=function(e,t){if(null==e){if(t)throw new TypeError("Expected a non-null value for "+t);throw new TypeError("Expected a non-null value")}return e},S=function(e){if(null!=e){if("object"==typeof e&&!Array.isArray(e))return e;throw new TypeError("Expected object, got "+typeof e)}},_=function(e){if(null!=e){if("string"==typeof e)return e;throw new TypeError("Expected string, got "+typeof e)}},E=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,A=function(e){var t=e.match(E);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},C=function(e){return"string"==typeof e?I(e):l(e)},I=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: "+e)}},T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var O=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),P=function(e){if(null!=e){if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");var t=O.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");var n=(0,r.CR)(t,8),i=(n[0],n[1]),o=n[2],s=n[3],a=n[4],u=n[5],c=n[6],f=n[7],l=function(e){return g("string"==typeof e?A(e):e)}(M(i)),p=N(o,"month",1,12),h=N(s,"day",1,31);return x(l,p,h,{hours:a,minutes:u,seconds:c,fractionalMilliseconds:f})}},x=function(e,t,n,r){var i=t-1;return k(e,i,n),new Date(Date.UTC(e,i,n,N(r.hours,"hour",0,23),N(r.minutes,"minute",0,59),N(r.seconds,"seconds",0,60),R(r.fractionalMilliseconds)))},D=[31,28,31,30,31,30,31,31,30,31,30,31],k=function(e,t,n){var r=D[t];if(1===t&&L(e)&&(r=29),n>r)throw new TypeError("Invalid day for "+T[t]+" in "+e+": "+n)},L=function(e){return e%4==0&&(e%100!=0||e%400==0)},N=function(e,t,n,r){var i=function(e){return y("string"==typeof e?A(e):e)}(M(e));if(i<n||i>r)throw new TypeError(t+" must be between "+n+" and "+r+", inclusive");return i},R=function(e){return null==e?0:1e3*function(e){return h("string"==typeof e?A(e):e)}("0."+e)},M=function(e){for(var t=0;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)},U=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};function F(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var j=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,(0,r.ev)([null],(0,r.CR)(arguments))),n=new t;return Object.setPrototypeOf(n,e.prototype),n};j.prototype=Object.create(String.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(j,String);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,r.ZT)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(j);var B=function(e){if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}}},5658:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return r},toUtf8:function(){return i}});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},84969:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},_T:function(){return s},mG:function(){return a},Jh:function(){return u},XA:function(){return c},CR:function(){return f},ev:function(){return l}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},77146:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return s},Jh:function(){return a},CR:function(){return u}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create},43646:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return s},Jh:function(){return a}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;Object.create},25562:function(e,t,n){"use strict";n.d(t,{g4:function(){return i},Xb:function(){return a}});var r=n(38499),i=function(e){var t;return(0,r.__assign)((0,r.__assign)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?o(e):function(){return s(e)},isCustomEndpoint:!!e.endpoint})},o=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},s=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,i,o,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(i=r.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(i))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(i)];case 2:if(!(o=(null!==(s=r.sent())&&void 0!==s?s:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))}))},a=function(e){if(!e.region)throw new Error("Region is missing");return(0,r.__assign)((0,r.__assign)({},e),{region:u(e.region)})},u=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},19283:function(e,t,n){"use strict";n.d(t,{VQ:function(){return A}});var r=n(91144),i=n(38499),o=n(87922),s=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var n=new Uint8Array(8),r=7,i=Math.abs(Math.round(t));r>-1&&i>0;r--,i/=256)n[r]=i;return t<0&&a(n),new e(n)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&a(e),parseInt((0,o.N)(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function a(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}var u,c=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,n,r,o,s=[];try{for(var a=(0,i.__values)(Object.keys(e)),u=a.next();!u.done;u=a.next()){var c=u.value,f=this.fromUtf8(c);s.push(Uint8Array.from([f.byteLength]),f,this.formatHeaderValue(e[c]))}}catch(g){t={error:g}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}var l=new Uint8Array(s.reduce((function(e,t){return e+t.byteLength}),0)),p=0;try{for(var h=(0,i.__values)(s),d=h.next();!d.done;d=h.next()){var v=d.value;l.set(v,p),p+=v.byteLength}}catch(y){r={error:y}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}return l},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":var r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":var i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);var a=new Uint8Array(i.buffer);return a.set(e.value,3),a;case"string":var u=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+u.byteLength));c.setUint8(0,7),c.setUint16(1,u.byteLength,!1);var f=new Uint8Array(c.buffer);return f.set(u,3),f;case"timestamp":var l=new Uint8Array(9);return l[0]=8,l.set(s.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!b.test(e.value))throw new Error("Invalid UUID received: "+e.value);var p=new Uint8Array(17);return p[0]=9,p.set((0,o.H)(e.value.replace(/\-/g,"")),1),p}},e.prototype.parse=function(e){for(var t={},n=0;n<e.byteLength;){var r=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[i]={type:f,value:!0};break;case 1:t[i]={type:f,value:!1};break;case 2:t[i]={type:l,value:e.getInt8(n++)};break;case 3:t[i]={type:p,value:e.getInt16(n,!1)},n+=2;break;case 4:t[i]={type:h,value:e.getInt32(n,!1)},n+=4;break;case 5:t[i]={type:d,value:new s(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:var a=e.getUint16(n,!1);n+=2,t[i]={type:v,value:new Uint8Array(e.buffer,e.byteOffset+n,a)},n+=a;break;case 7:var u=e.getUint16(n,!1);n+=2,t[i]={type:g,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,u))},n+=u;break;case 8:t[i]={type:y,value:new Date(new s(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var c=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[i]={type:m,value:(0,o.N)(c.subarray(0,4))+"-"+(0,o.N)(c.subarray(4,6))+"-"+(0,o.N)(c.subarray(6,8))+"-"+(0,o.N)(c.subarray(8,10))+"-"+(0,o.N)(c.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}();!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(u||(u={}));var f="boolean",l="byte",p="short",h="integer",d="long",v="binary",g="string",y="timestamp",m="uuid",b=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var w=function(){function e(e,t){this.headerMarshaller=new c(e,t)}return e.prototype.marshall=function(e){var t=e.headers,n=e.body,i=this.headerMarshaller.format(t),o=i.byteLength+n.byteLength+16,s=new Uint8Array(o),a=new DataView(s.buffer,s.byteOffset,s.byteLength),u=new r.Crc32;return a.setUint32(0,o,!1),a.setUint32(4,i.byteLength,!1),a.setUint32(8,u.update(s.subarray(0,8)).digest(),!1),s.set(i,12),s.set(n,i.byteLength+12),a.setUint32(o-4,u.update(s.subarray(8,o-4)).digest(),!1),s},e.prototype.unmarshall=function(e){var t=function(e){var t=e.byteLength,n=e.byteOffset,i=e.buffer;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");var o=new DataView(i,n,t),s=o.getUint32(0,!1);if(t!==s)throw new Error("Reported message length does not match received message length");var a=o.getUint32(4,!1),u=o.getUint32(8,!1),c=o.getUint32(t-4,!1),f=(new r.Crc32).update(new Uint8Array(i,n,8));if(u!==f.digest())throw new Error("The prelude checksum specified in the message ("+u+") does not match the calculated CRC32 checksum ("+f.digest()+")");if(f.update(new Uint8Array(i,n+8,t-12)),c!==f.digest())throw new Error("The message checksum ("+f.digest()+") did not match the expected value of "+c);return{headers:new DataView(i,n+8+4,a),body:new Uint8Array(i,n+8+4+a,s-a-16)}}(e),n=t.headers,i=t.body;return{headers:this.headerMarshaller.parse(n),body:i}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();var S=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new w(t,n),this.utfEncoder=t}return e.prototype.deserialize=function(e,t){var n,r,o,s,a,u,c,f=(n=e,o=0,s=0,a=null,u=null,c=function(e){if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);o=e,s=4,a=new Uint8Array(e),new DataView(a.buffer).setUint32(0,e,!1)},(r={})[Symbol.asyncIterator]=function(){return(0,i.__asyncGenerator)(this,arguments,(function(){var e,t,r,f,l,p,h,d;return(0,i.__generator)(this,(function(v){switch(v.label){case 0:e=n[Symbol.asyncIterator](),v.label=1;case 1:return[4,(0,i.__await)(e.next())];case 2:return t=v.sent(),r=t.value,t.done?o?[3,4]:[4,(0,i.__await)(void 0)]:[3,10];case 3:return[2,v.sent()];case 4:return o!==s?[3,7]:[4,(0,i.__await)(a)];case 5:return[4,v.sent()];case 6:return v.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,(0,i.__await)(void 0)];case 9:return[2,v.sent()];case 10:f=r.length,l=0,v.label=11;case 11:if(!(l<f))return[3,15];if(!a){if(p=f-l,u||(u=new Uint8Array(4)),h=Math.min(4-s,p),u.set(r.slice(l,l+h),s),l+=h,(s+=h)<4)return[3,15];c(new DataView(u.buffer).getUint32(0,!1)),u=null}return d=Math.min(o-s,f-l),a.set(r.slice(l,l+d),s),s+=d,l+=d,o&&o===s?[4,(0,i.__await)(a)]:[3,14];case 12:return[4,v.sent()];case 13:v.sent(),a=null,o=0,s=0,v.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}}))}))},r),l=function(e,t){var n;return(n={})[Symbol.asyncIterator]=function(){return(0,i.__asyncGenerator)(this,arguments,(function(){var n,r,o,s,a,u,c,f,l,p,h,d,v,g,y,m,b;return(0,i.__generator)(this,(function(w){switch(w.label){case 0:w.trys.push([0,12,13,18]),n=(0,i.__asyncValues)(e),w.label=1;case 1:return[4,(0,i.__await)(n.next())];case 2:if((r=w.sent()).done)return[3,11];if(o=r.value,s=t.eventMarshaller.unmarshall(o),"error"!==(a=s.headers[":message-type"].value))return[3,3];throw(u=new Error(s.headers[":error-message"].value||"UnknownError")).name=s.headers[":error-code"].value,u;case 3:return"exception"!==a?[3,5]:(c=s.headers[":exception-type"].value,(g={})[c]=s,f=g,[4,(0,i.__await)(t.deserializer(f))]);case 4:if((l=w.sent()).$unknown)throw(p=new Error(t.toUtf8(s.body))).name=c,p;throw l[c];case 5:return"event"!==a?[3,9]:((y={})[s.headers[":event-type"].value]=s,h=y,[4,(0,i.__await)(t.deserializer(h))]);case 6:return(d=w.sent()).$unknown?[3,10]:[4,(0,i.__await)(d)];case 7:return[4,w.sent()];case 8:return w.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+s.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return v=w.sent(),m={error:v},[3,18];case 13:return w.trys.push([13,,16,17]),r&&!r.done&&(b=n.return)?[4,(0,i.__await)(b.call(n))]:[3,15];case 14:w.sent(),w.label=15;case 15:return[3,17];case 16:if(m)throw m.error;return[7];case 17:return[7];case 18:return[2]}}))}))},n}(f,{eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder});return l},e.prototype.serialize=function(e,t){var n,r=this;return(n={})[Symbol.asyncIterator]=function(){return(0,i.__asyncGenerator)(this,arguments,(function(){var n,o,s,a,u,c,f;return(0,i.__generator)(this,(function(l){switch(l.label){case 0:l.trys.push([0,7,8,13]),n=(0,i.__asyncValues)(e),l.label=1;case 1:return[4,(0,i.__await)(n.next())];case 2:return(o=l.sent()).done?[3,6]:(s=o.value,a=r.eventMarshaller.marshall(t(s)),[4,(0,i.__await)(a)]);case 3:return[4,l.sent()];case 4:l.sent(),l.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return u=l.sent(),c={error:u},[3,13];case 8:return l.trys.push([8,,11,12]),o&&!o.done&&(f=n.return)?[4,(0,i.__await)(f.call(n))]:[3,10];case 9:l.sent(),l.label=10;case 10:return[3,12];case 11:if(c)throw c.error;return[7];case 12:return[7];case 13:return[4,(0,i.__await)(new Uint8Array(0))];case 14:return[4,l.sent()];case 15:return l.sent(),[2]}}))}))},n},e}(),_=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new w(t,n),this.universalMarshaller=new S({utf8Decoder:n,utf8Encoder:t})}return e.prototype.deserialize=function(e,t){var n,r,o=E(e)?(n=e,(r={})[Symbol.asyncIterator]=function(){return(0,i.__asyncGenerator)(this,arguments,(function(){var e,t,r,o;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:e=n.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,(0,i.__await)(e.read())];case 3:return t=s.sent(),r=t.done,o=t.value,r?[4,(0,i.__await)(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,(0,i.__await)(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))},r):e;return this.universalMarshaller.deserialize(o,t)},e.prototype.serialize=function(e,t){var n,r=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(n=r[Symbol.asyncIterator](),new ReadableStream({pull:function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,n.next()];case 1:return t=i.sent(),r=t.done,o=t.value,r?[2,e.close()]:(e.enqueue(o),[2])}}))}))}})):r},e}(),E=function(e){return"function"==typeof ReadableStream&&e instanceof ReadableStream},A=function(e){return new _(e)}},29597:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(38499),i=function(e){return(0,r.__assign)((0,r.__assign)({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})}},4986:function(e,t,n){"use strict";n.d(t,{B:function(){return s},C:function(){return u}});var r=n(38499),i=n(96784),o=n(42726);var s=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,s=this.requestTimeout;if(null==n?void 0:n.aborted){var a=new Error("Request aborted");return a.name="AbortError",Promise.reject(a)}var u=e.path;if(e.query){var c=(0,o.I)(e.query);c&&(u+="?"+c)}var f=e.port,l=e.method,p=e.protocol+"//"+e.hostname+(f?":"+f:"")+u,h={body:"GET"===l||"HEAD"===l?void 0:e.body,headers:new Headers(e.headers),method:l};"undefined"!=typeof AbortController&&(h.signal=n);var d,v=new Request(p,h),g=[fetch(v).then((function(e){var t,n,o=e.headers,s={};try{for(var a=(0,r.__values)(o.entries()),u=a.next();!u.done;u=a.next()){var c=u.value;s[c[0]]=c[1]}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new i.Zn({headers:s,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new i.Zn({headers:s,statusCode:e.status,body:t})}}))})),(d=s,void 0===d&&(d=0),new Promise((function(e,t){d&&setTimeout((function(){var e=new Error("Request did not complete within "+d+" ms");e.name="TimeoutError",t(e)}),d)})))];return n&&g.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(g)},e}(),a=n(34252),u=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,c(e)];case 1:return t=r.sent(),n=(0,a.G)(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o,s,a,u;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:t=new Uint8Array(0),n=e.getReader(),i=!1,r.label=1;case 1:return i?[3,3]:[4,n.read()];case 2:return o=r.sent(),s=o.done,(a=o.value)&&(u=t,(t=new Uint8Array(u.length+a.length)).set(u),t.set(a,u.length)),i=s,[3,1];case 3:return[2,t]}}))}))}(e)};function c(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}},3241:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var r=function(e){return function(){return Promise.reject(e)}}},99561:function(e,t,n){"use strict";n.d(t,{VG:function(){return a}});var r=n(38499),i=n(96784),o="content-length";var s={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},a=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(s){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,a,u,c,f;return(0,r.__generator)(this,(function(l){return t=s.request,i.aW.isInstance(t)&&(a=t.body,u=t.headers,a&&-1===Object.keys(u).map((function(e){return e.toLowerCase()})).indexOf(o)&&void 0!==(c=e(a))&&(t.headers=(0,r.__assign)((0,r.__assign)({},t.headers),((f={})["content-length"]=String(c),f)))),[2,n((0,r.__assign)((0,r.__assign)({},s),{request:t}))]}))}))}}}(e.bodyLengthChecker),s)}}}},47498:function(e,t,n){"use strict";n.d(t,{S8:function(){return o},G2:function(){return a}});var r=n(38499),i=n(96784);function o(e){return e}var s={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},a=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var o,s;return(0,r.__generator)(this,(function(r){return i.aW.isInstance(n.request)?(o=n.request,(void 0===(s=(e.requestHandler.metadata||{}).handlerProtocol)?"":s).indexOf("h2")>=0&&!o.headers[":authority"]?(delete o.headers.host,o.headers[":authority"]=""):o.headers.host||(o.headers.host=o.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),s)}}}},7317:function(e,t,n){"use strict";n.d(t,{cV:function(){return o}});var r=n(38499),i={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},o=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var i,o,s,a,u,c,f,l,p;return(0,r.__generator)(this,(function(h){switch(h.label){case 0:return i=t.clientName,o=t.commandName,s=t.inputFilterSensitiveLog,a=t.logger,u=t.outputFilterSensitiveLog,[4,e(n)];case 1:return c=h.sent(),a?("function"==typeof a.info&&(f=c.output,l=f.$metadata,p=(0,r.__rest)(f,["$metadata"]),a.info({clientName:i,commandName:o,input:s(n.input),output:u(p),metadata:l})),[2,c]):[2,c]}}))}))}}),i)}}}},41817:function(e,t,n){"use strict";n.d(t,{J:function(){return v},NQ:function(){return o},BC:function(){return m}});var r=n(38499),i={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},o=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(i){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var o;return(0,r.__generator)(this,(function(s){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=(0,r.__spread)(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,i)]}))}))}}}(e),i)}}},s=n(96784),a=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],u=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],c=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],f=[500,502,503,504],l=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||u.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},p=n(7782),h=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},d=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return a.includes(e.name)}(e)||l(e)||function(e){var t;return c.includes(e.name)||f.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},v=3,g="standard",y=function(){function e(e,t){var n,r,i,o,s,a,u,c;this.maxAttemptsProvider=e,this.mode=g,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:d,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:h,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(s=o=500,a=o,u=function(e){return"TimeoutError"===e.name?10:5},c=function(e){return u(e)<=a},Object.freeze({hasRetryTokens:c,retrieveRetryTokens:function(e){if(!c(e))throw new Error("No retry token available");var t=u(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,s)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=v,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,u,c,f,h;return(0,r.__generator)(this,(function(d){switch(d.label){case 0:return i=0,o=0,[4,this.getMaxAttempts()];case 1:a=d.sent(),u=t.request,s.aW.isInstance(u)&&(u.headers["amz-sdk-invocation-id"]=(0,p.v4)()),c=function(){var c,p,h,d,v;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),s.aW.isInstance(u)&&(u.headers["amz-sdk-request"]="attempt="+(i+1)+"; max="+a),[4,e(t)];case 1:return c=r.sent(),p=c.response,h=c.output,f.retryQuota.releaseRetryTokens(n),h.$metadata.attempts=i+1,h.$metadata.totalRetryDelay=o,[2,{value:{response:p,output:h}}];case 2:return d=r.sent(),i++,f.shouldRetry(d,i,a)?(n=f.retryQuota.retrieveRetryTokens(d),v=f.delayDecider(l(d)?500:100,i),o+=v,[4,new Promise((function(e){return setTimeout(e,v)}))]):[3,4];case 3:return r.sent(),[2,"continue"];case 4:throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=i,d.$metadata.totalRetryDelay=o,d;case 5:return[2]}}))},f=this,d.label=2;case 2:return[5,c()];case 3:return"object"==typeof(h=d.sent())?[2,h.value]:[3,2];case 4:return[2]}}))}))},e}(),m=function(e){var t=b(e.maxAttempts);return(0,r.__assign)((0,r.__assign)({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new y(t)})},b=function(e){if(void 0===e&&(e=v),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},7782:function(e,t,n){var r=n(49287),i=n(1213),o=i;o.v1=r,o.v4=i,e.exports=o},30581:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},54954:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},49287:function(e,t,n){var r,i,o=n(54954),s=n(30581),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,f=t||[],l=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==p){var h=o();null==l&&(l=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=i=16383&(h[6]<<8|h[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,g=d-a+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||d>a)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,u=v,i=p;var y=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;f[c++]=y>>>24&255,f[c++]=y>>>16&255,f[c++]=y>>>8&255,f[c++]=255&y;var m=d/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=p>>>8|128,f[c++]=255&p;for(var b=0;b<6;++b)f[c+b]=l[b];return t||s(f)}},1213:function(e,t,n){var r=n(54954),i=n(30581);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},28064:function(e,t,n){"use strict";n.d(t,{p2:function(){return s}});var r=n(38499),i={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},o={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function s(e,t,n){return{applyToStack:function(s){s.add(function(e,t){return function(n,i){return function(i){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var o,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,n(i)];case 1:return o=r.sent().response,[4,t(o,e)];case 2:return s=r.sent(),[2,{response:o,output:s}]}}))}))}}}(e,n),i),s.add(function(e,t){return function(n,i){return function(i){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var o;return(0,r.__generator)(this,(function(s){switch(s.label){case 0:return[4,t(i.input,e)];case 1:return o=s.sent(),[2,n((0,r.__assign)((0,r.__assign)({},i),{request:o}))]}}))}))}}}(e,t),o)}}}},29960:function(e,t,n){"use strict";n.d(t,{yt:function(){return l},A$:function(){return o}});var r=n(38499),i=n(43032);function o(e){var t,n=this,o=s(e.credentials||e.credentialDefaultProvider(e)),a=e.signingEscapePath,u=void 0===a||a,c=e.systemClockOffset,f=void 0===c?e.systemClockOffset||0:c,l=e.sha256;return t=e.signer?s(e.signer):function(){return s(e.region)().then((function(t){return(0,r.__awaiter)(n,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=(0,r.__read)(t,2),s=n[0],a=n[1],c=s.signingRegion,f=s.signingService;return e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||f||e.serviceId,new i.L1({credentials:o,region:e.signingRegion,service:e.signingName,sha256:l,uriEscapePath:u})}))},(0,r.__assign)((0,r.__assign)({},e),{systemClockOffset:f,signingEscapePath:u,credentials:o,signer:t})}function s(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var a=n(96784),u=function(e){return new Date(Date.now()+e)};function c(e){return function(t,n){return function(i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,s,c,f,l,p,h,d,v;return(0,r.__generator)(this,(function(g){switch(g.label){case 0:return a.aW.isInstance(i.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(i)];case 1:return s=g.sent(),[3,3];case 2:s=e.signer,g.label=3;case 3:return o=s,f=t,l=[(0,r.__assign)({},i)],v={},[4,o.sign(i.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,f.apply(void 0,[r.__assign.apply(void 0,l.concat([(v.request=g.sent(),v)]))])];case 5:return c=g.sent(),p=c.response.headers,(h=p&&(p.date||p.Date))&&(d=Date.parse(h),y=d,m=e.systemClockOffset,Math.abs(u(m).getTime()-y)>=3e5&&(e.systemClockOffset=d-Date.now())),[2,c]}var y,m}))}))}}}var f={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},l=function(e){return{applyToStack:function(t){t.addRelativeTo(c(e),f)}}}},83512:function(e,t,n){"use strict";n.d(t,{XJ:function(){return f},er:function(){return i}});var r=n(38499);function i(e){return(0,r.__assign)((0,r.__assign)({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var o=n(96784),s="user-agent",a=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,u=function(e){var t=(0,r.__read)(e,2),n=t[0],i=t[1],o=n.indexOf("/"),s=n.substring(0,o),u=n.substring(o+1);return"api"===s&&(u=u.toLowerCase()),[s,u,i].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(a,"_")})).join("/")},c={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},f=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(i){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var a,c,f,l,p,h,d,v;return(0,r.__generator)(this,(function(g){switch(g.label){case 0:return a=i.request,o.aW.isInstance(a)?(c=a.headers,f=(null===(d=null==t?void 0:t.userAgent)||void 0===d?void 0:d.map(u))||[],[4,n.defaultUserAgentProvider()]):[2,e(i)];case 1:return l=g.sent().map(u),p=(null===(v=null==n?void 0:n.customUserAgent)||void 0===v?void 0:v.map(u))||[],c["x-amz-user-agent"]=(0,r.__spread)(l,f,p).join(" "),h=(0,r.__spread)(l.filter((function(e){return e.startsWith("aws-sdk-")})),p).join(" "),"browser"!==n.runtime&&h&&(c[s]=c[s]?c[s]+" "+h:h),[2,e((0,r.__assign)((0,r.__assign)({},i),{request:a}))]}}))}))}}),c)}}}},96784:function(e,t,n){"use strict";n.d(t,{aW:function(){return o},Zn:function(){return r}});var r=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),i=n(38499),o=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e((0,i.__assign)((0,i.__assign)({},this),{headers:(0,i.__assign)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return(0,i.__assign)((0,i.__assign)({},e),((r={})[n]=Array.isArray(o)?(0,i.__spread)(o):o,r))}),{}))),n},e}()},42726:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(38499),i=n(35929);function o(e){var t,n,o=[];try{for(var s=(0,r.__values)(Object.keys(e).sort()),a=s.next();!a.done;a=s.next()){var u=a.value,c=e[u];if(u=(0,i.i)(u),Array.isArray(c))for(var f=0,l=c.length;f<l;f++)o.push(u+"="+(0,i.i)(c[f]));else{var p=u;(c||"string"==typeof c)&&(p+="="+(0,i.i)(c)),o.push(p)}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o.join("&")}},43032:function(e,t,n){"use strict";n.d(t,{L1:function(){return D}});var r=n(38499),i=n(87922),o="X-Amz-Date",s="X-Amz-Signature",a="X-Amz-Security-Token",u="authorization",c=o.toLowerCase(),f=[u,c,"date"],l=s.toLowerCase(),p="x-amz-content-sha256",h=a.toLowerCase(),d={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},v=/^proxy-/,g=/^sec-/,y="AWS4-HMAC-SHA256",m="AWS4-HMAC-SHA256-PAYLOAD",b="aws4_request",w={},S=[];function _(e,t,n){return e+"/"+t+"/"+n+"/"+b}function E(e,t,n){var r=new e(t);return r.update(n),r.digest()}function A(e,t,n){var i,o,s=e.headers,a={};try{for(var u=(0,r.__values)(Object.keys(s).sort()),c=u.next();!c.done;c=u.next()){var f=c.value,l=f.toLowerCase();(l in d||(null==t?void 0:t.has(l))||v.test(l)||g.test(l))&&(!n||n&&!n.has(l))||(a[l]=s[f].trim().replace(/\s+/g," "))}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return a}var C=n(35929);function I(e,t){var n=e.headers,o=e.body;return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,s,a,u,c,f,l;return(0,r.__generator)(this,(function(h){switch(h.label){case 0:try{for(e=(0,r.__values)(Object.keys(n)),s=e.next();!s.done;s=e.next())if((a=s.value).toLowerCase()===p)return[2,n[a]]}catch(v){f={error:v}}finally{try{s&&!s.done&&(l=e.return)&&l.call(e)}finally{if(f)throw f.error}}return null!=o?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof o||ArrayBuffer.isView(o)||(d=o,"function"==typeof ArrayBuffer&&d instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(d))?((u=new t).update(o),c=i.N,[4,u.digest()]):[3,3];case 2:return[2,c.apply(void 0,[h.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var d}))}))}function T(e){var t=e.headers,n=e.query,i=(0,r.__rest)(e,["headers","query"]);return(0,r.__assign)((0,r.__assign)({},i),{headers:(0,r.__assign)({},t),query:n?O(n):void 0})}function O(e){return Object.keys(e).reduce((function(t,n){var i,o=e[n];return(0,r.__assign)((0,r.__assign)({},t),((i={})[n]=Array.isArray(o)?(0,r.__spread)(o):o,i))}),{})}function P(e){var t,n;e="function"==typeof e.clone?e.clone():T(e);try{for(var i=(0,r.__values)(Object.keys(e.headers)),o=i.next();!o.done;o=i.next()){var s=o.value;f.indexOf(s.toLowerCase())>-1&&delete e.headers[s]}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return e}function x(e){return function(e){if("number"==typeof e)return new Date(1e3*e);if("string"==typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var D=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=i,this.sha256=o,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=N(r),this.credentialProvider=R(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,u,c,f,l,p,h,d,v,g,m,b,w,S,E,C,O,x,D,N,R,M;return(0,r.__generator)(this,(function(U){switch(U.label){case 0:return n=t.signingDate,i=void 0===n?new Date:n,o=t.expiresIn,u=void 0===o?3600:o,c=t.unsignableHeaders,f=t.unhoistableHeaders,l=t.signableHeaders,p=t.signingRegion,h=t.signingService,[4,this.credentialProvider()];case 1:return d=U.sent(),null==p?[3,2]:(g=p,[3,4]);case 2:return[4,this.regionProvider()];case 3:g=U.sent(),U.label=4;case 4:return v=g,m=k(i),b=m.longDate,w=m.shortDate,u>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(S=_(w,v,null!=h?h:this.service),E=function(e,t){var n,i,o;void 0===t&&(t={});var s="function"==typeof e.clone?e.clone():T(e),a=s.headers,u=s.query,c=void 0===u?{}:u;try{for(var f=(0,r.__values)(Object.keys(a)),l=f.next();!l.done;l=f.next()){var p=l.value,h=p.toLowerCase();"x-amz-"!==h.substr(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(h))||(c[p]=a[p],delete a[p])}}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return(0,r.__assign)((0,r.__assign)({},e),{headers:a,query:c})}(P(e),{unhoistableHeaders:f}),d.sessionToken&&(E.query[a]=d.sessionToken),E.query["X-Amz-Algorithm"]=y,E.query["X-Amz-Credential"]=d.accessKeyId+"/"+S,E.query["X-Amz-Date"]=b,E.query["X-Amz-Expires"]=u.toString(10),C=A(E,c,l),E.query["X-Amz-SignedHeaders"]=L(C),O=E.query,x=s,D=this.getSignature,N=[b,S,this.getSigningKey(d,v,w,h)],R=this.createCanonicalRequest,M=[E,C],[4,I(e,this.sha256)]);case 5:return[4,D.apply(this,N.concat([R.apply(this,M.concat([U.sent()]))]))];case 6:return O[x]=U.sent(),[2,E]}}))}))},e.prototype.sign=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,o=e.payload,s=t.signingDate,a=void 0===s?new Date:s,u=t.priorSignature,c=t.signingRegion,f=t.signingService;return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,t,s,l,p,h,d,v,g,y,b;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return null==c?[3,1]:(t=c,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=r.sent(),r.label=3;case 3:return e=t,s=k(a),l=s.shortDate,p=s.longDate,h=_(l,e,null!=f?f:this.service),[4,I({headers:{},body:o},this.sha256)];case 4:return d=r.sent(),(v=new this.sha256).update(n),y=i.N,[4,v.digest()];case 5:return g=y.apply(void 0,[r.sent()]),b=[m,p,h,u,g,d].join("\n"),[2,this.signString(b,{signingDate:a,signingRegion:e,signingService:f})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,o=n.signingDate,s=void 0===o?new Date:o,a=n.signingRegion,u=n.signingService;return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,c,f,l,p,h;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.credentialProvider()];case 1:return t=r.sent(),null==a?[3,2]:(o=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:o=r.sent(),r.label=4;case 4:return n=o,c=k(s).shortDate,p=(l=this.sha256).bind,[4,this.getSigningKey(t,n,c,u)];case 5:return(f=new(p.apply(l,[void 0,r.sent()]))).update(e),h=i.N,[4,f.digest()];case 6:return[2,h.apply(void 0,[r.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,i=n.signingDate,o=void 0===i?new Date:i,s=n.signableHeaders,a=n.unsignableHeaders,f=n.signingRegion,l=n.signingService;return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,d,v,g,y,m,b,w,S;return(0,r.__generator)(this,(function(E){switch(E.label){case 0:return[4,this.credentialProvider()];case 1:return t=E.sent(),null==f?[3,2]:(i=f,[3,4]);case 2:return[4,this.regionProvider()];case 3:i=E.sent(),E.label=4;case 4:return n=i,d=P(e),v=k(o),g=v.longDate,y=v.shortDate,m=_(y,n,null!=l?l:this.service),d.headers[c]=g,t.sessionToken&&(d.headers[h]=t.sessionToken),[4,I(d,this.sha256)];case 5:return b=E.sent(),!function(e,t){var n,i;e=e.toLowerCase();try{for(var o=(0,r.__values)(Object.keys(t)),s=o.next();!s.done;s=o.next())if(e===s.value.toLowerCase())return!0}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1}(p,d.headers)&&this.applyChecksum&&(d.headers[p]=b),w=A(d,a,s),[4,this.getSignature(g,m,this.getSigningKey(t,n,y,l),this.createCanonicalRequest(d,w,b))];case 6:return S=E.sent(),d.headers[u]="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+m+", SignedHeaders="+L(w)+", Signature="+S,[2,d]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var i=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,i=e.query,o=void 0===i?{}:i,s=[],a={},u=function(e){if(e.toLowerCase()===l)return"continue";s.push(e);var t=o[e];"string"==typeof t?a[e]=(0,C.i)(e)+"="+(0,C.i)(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([(0,C.i)(e)+"="+(0,C.i)(n)])}),[]).join("&"))};try{for(var c=(0,r.__values)(Object.keys(o).sort()),f=c.next();!f.done;f=c.next())u(f.value)}catch(p){t={error:p}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return s.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+i.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+i.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return(o=new this.sha256).update(n),[4,o.digest()];case 1:return s=r.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+(0,i.N)(s)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,o){return(0,r.__awaiter)(this,void 0,void 0,(function(){var s,a,u,c,f;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.createStringToSign(e,t,o)];case 1:return s=r.sent(),c=(u=this.sha256).bind,[4,n];case 2:return(a=new(c.apply(u,[void 0,r.sent()]))).update(s),f=i.N,[4,a.digest()];case 3:return[2,f.apply(void 0,[r.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,o){return function(e,t,n,o,s){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var a,u,c,f,l,p,h,d,v;return(0,r.__generator)(this,(function(g){switch(g.label){case 0:return[4,E(e,t.secretAccessKey,t.accessKeyId)];case 1:if(a=g.sent(),(u=n+":"+o+":"+s+":"+(0,i.N)(a)+":"+t.sessionToken)in w)return[2,w[u]];for(S.push(u);S.length>50;)delete w[S.shift()];c="AWS4"+t.secretAccessKey,g.label=2;case 2:g.trys.push([2,7,8,9]),f=(0,r.__values)([n,o,s,b]),l=f.next(),g.label=3;case 3:return l.done?[3,6]:(p=l.value,[4,E(e,c,p)]);case 4:c=g.sent(),g.label=5;case 5:return l=f.next(),[3,3];case 6:return[3,9];case 7:return h=g.sent(),d={error:h},[3,9];case 8:try{l&&!l.done&&(v=f.return)&&v.call(f)}finally{if(d)throw d.error}return[7];case 9:return[2,w[u]=c]}}))}))}(this.sha256,e,n,t,o||this.service)},e}(),k=function(e){var t=x(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},L=function(e){return Object.keys(e).sort().join(";")},N=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},R=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},4781:function(e,t,n){"use strict";n.d(t,{KU:function(){return a},mY:function(){return u},QT:function(){return h},oc:function(){return y},_w:function(){return g},jc:function(){return c},L:function(){return f},sT:function(){return l}});var r=n(38499),i=function e(){var t=[],n=[],i=new Set,a=function(e){return t.forEach((function(t){e.add(t.middleware,(0,r.__assign)({},t))})),n.forEach((function(t){e.addRelativeTo(t.middleware,(0,r.__assign)({},t))})),e},u=function e(t){var n=[];return t.before.forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,(0,r.__spread)(e(t)))})),n.push(t),t.after.reverse().forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,(0,r.__spread)(e(t)))})),n},c=function(){var e,i=[],a=[],c={};return t.forEach((function(e){var t=(0,r.__assign)((0,r.__assign)({},e),{before:[],after:[]});t.name&&(c[t.name]=t),i.push(t)})),n.forEach((function(e){var t=(0,r.__assign)((0,r.__assign)({},e),{before:[],after:[]});t.name&&(c[t.name]=t),a.push(t)})),a.forEach((function(e){if(e.toMiddleware){var t=c[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(e=i,e.sort((function(e,t){return o[t.step]-o[e.step]||s[t.priority||"normal"]-s[e.priority||"normal"]}))).map(u).reduce((function(e,t){return e.push.apply(e,(0,r.__spread)(t)),e}),[]).map((function(e){return e.middleware}))},f={add:function(e,n){void 0===n&&(n={});var o=n.name,s=n.override,a=(0,r.__assign)({step:"initialize",priority:"normal",middleware:e},n);if(o){if(i.has(o)){if(!s)throw new Error("Duplicate middleware name '"+o+"'");var u=t.findIndex((function(e){return e.name===o})),c=t[u];if(c.step!==a.step||c.priority!==a.priority)throw new Error('"'+o+'" middleware with '+c.priority+" priority in "+c.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");t.splice(u,1)}i.add(o)}t.push(a)},addRelativeTo:function(e,t){var o=t.name,s=t.override,a=(0,r.__assign)({middleware:e},t);if(o){if(i.has(o)){if(!s)throw new Error("Duplicate middleware name '"+o+"'");var u=n.findIndex((function(e){return e.name===o})),c=n[u];if(c.toMiddleware!==a.toMiddleware||c.relation!==a.relation)throw new Error('"'+o+'" middleware '+c.relation+' "'+c.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');n.splice(u,1)}i.add(o)}n.push(a)},clone:function(){return a(e())},use:function(e){e.applyToStack(f)},remove:function(e){return"string"==typeof e?function(e){var r=!1,o=function(t){return!t.name||t.name!==e||(r=!0,i.delete(e),!1)};return t=t.filter(o),n=n.filter(o),r}(e):function(e){var r=!1,o=function(t){return t.middleware!==e||(r=!0,t.name&&i.delete(t.name),!1)};return t=t.filter(o),n=n.filter(o),r}(e)},removeByTag:function(e){var r=!1,o=function(t){var n=t.tags,o=t.name;return!n||!n.includes(e)||(o&&i.delete(o),r=!0,!1)};return t=t.filter(o),n=n.filter(o),r},concat:function(t){var n=a(e());return n.use(t),n},applyToStack:a,resolve:function(e,t){var n,i;try{for(var o=(0,r.__values)(c().reverse()),s=o.next();!s.done;s=o.next()){e=(0,s.value)(e,t)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return e}};return f},o={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},s={high:3,normal:2,low:1},a=function(){function e(e){this.middlewareStack=i(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),u=function(){this.middlewareStack=i()};function c(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var f=function(e){return Array.isArray(e)?e:[e]},l=function e(t){for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]["#text"]?t[n]=t[n]["#text"]:"object"==typeof t[n]&&null!==t[n]&&(t[n]=e(t[n]));return t},p=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,(0,r.__spread)([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};p.prototype=Object.create(String.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(p,String);var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))},t}(p),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function g(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds();return d[r]+", "+(i<10?"0"+i:""+i)+" "+v[n]+" "+t+" "+(o<10?"0"+o:""+o)+":"+(s<10?"0"+s:""+s)+":"+(a<10?"0"+a:""+a)+" GMT"}var y="***SensitiveInformation***"},61488:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(38499);var i=function(e){var t,n=new URL(e),i=n.hostname,o=n.pathname,s=n.port,a=n.protocol,u=n.search;return u&&(t=function(e){var t,n,i={};if(e=e.replace(/^\?/,""))try{for(var o=(0,r.__values)(e.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value,u=(0,r.__read)(a.split("="),2),c=u[0],f=u[1],l=void 0===f?null:f;c=decodeURIComponent(c),l&&(l=decodeURIComponent(l)),c in i?Array.isArray(i[c])?i[c].push(l):i[c]=[i[c],l]:i[c]=l}}catch(p){t={error:p}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}(u)),{hostname:i,port:s?parseInt(s):void 0,protocol:a,path:o,query:t}}},34252:function(e,t,n){"use strict";n.d(t,{G:function(){return f},s:function(){return l}});for(var r={},i=new Array(64),o=0,s="A".charCodeAt(0),a="Z".charCodeAt(0);o+s<=a;o++){var u=String.fromCharCode(o+s);r[u]=o,i[o]=u}for(o=0,s="a".charCodeAt(0),a="z".charCodeAt(0);o+s<=a;o++){u=String.fromCharCode(o+s);var c=o+26;r[u]=c,i[c]=u}for(o=0;o<10;o++){r[o.toString(10)]=o+52;u=o.toString(10),c=o+52;r[u]=c,i[c]=u}r["+"]=62,i[62]="+",r["/"]=63,i[63]="/";function f(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),i=new DataView(n),o=0;o<e.length;o+=4){for(var s=0,a=0,u=o,c=o+3;u<=c;u++)"="!==e[u]?(s|=r[e[u]]<<6*(c-u),a+=6):s>>=6;var f=o/4*3;s>>=a%8;for(var l=Math.floor(a/8),p=0;p<l;p++){var h=8*(l-p-1);i.setUint8(f+p,(s&255<<h)>>h)}}return new Uint8Array(n)}function l(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,s=n,a=Math.min(n+3,e.length);s<a;s++)r|=e[s]<<8*(a-s-1),o+=8;var u=Math.ceil(o/6);r<<=6*u-o;for(var c=1;c<=u;c++){var f=6*(u-c);t+=i[(r&63<<f)>>f]}t+="==".slice(0,4-u)}return t}},46105:function(e,t,n){"use strict";function r(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}n.d(t,{W:function(){return r}})},87922:function(e,t,n){"use strict";n.d(t,{H:function(){return a},N:function(){return u}});for(var r={},i={},o=0;o<256;o++){var s=o.toString(16).toLowerCase();1===s.length&&(s="0"+s),r[o]=s,i[s]=o}function a(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in i))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=i[r]}return t}function u(e){for(var t="",n=0;n<e.byteLength;n++)t+=r[e[n]];return t}},83916:function(e,t,n){"use strict";n.r(t),n.d(t,{locateWindow:function(){return i}});var r={};function i(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}},35929:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,i)},i=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}},5287:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var r=n(38499),i=n(59849),o=n.n(i),s=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,i,s,a,u,c,f,l,p;return(0,r.__generator)(this,(function(r){return e=(null===(s=null===window||void 0===window?void 0:window.navigator)||void 0===s?void 0:s.userAgent)?o().parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",n],["os/"+((null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.name)||"other"),null===(u=null==e?void 0:e.os)||void 0===u?void 0:u.version],["lang/js"],["md/browser",(null!==(f=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.name)&&void 0!==f?f:"unknown")+"_"+(null!==(p=null===(l=null==e?void 0:e.browser)||void 0===l?void 0:l.version)&&void 0!==p?p:"unknown")]],t&&i.push(["api/"+t,n]),[2,i]}))}))}}},24177:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return r},toUtf8:function(){return i}});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},84696:function(e,t,n){"use strict";n.d(t,{o:function(){return i},e:function(){return o}});var r=n(38499);var i=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return e.prototype.withName=function(e){return this.name=e,this},e.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},e.prototype.addChildNode=function(e){return this.children.push(e),this},e.prototype.removeAttribute=function(e){return delete this.attributes[e],this},e.prototype.toString=function(){var e,t,n=Boolean(this.children.length),i="<"+this.name,o=this.attributes;try{for(var s=(0,r.__values)(Object.keys(o)),a=s.next();!a.done;a=s.next()){var u=a.value,c=o[u];null!=c&&(i+=" "+u+'="'+((""+c).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"'))}}catch(f){e={error:f}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return i+(n?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},e}();var o=function(){function e(e){this.value=e}return e.prototype.toString=function(){return(""+this.value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e}()},77534:function(e,t,n){"use strict";n.d(t,{sD:function(){return i},ZA:function(){return k},xk:function(){return N},bR:function(){return R},ws:function(){return W},KC:function(){return q},AM:function(){return ce},MZ:function(){return F},eR:function(){return le},Ic:function(){return d}});var r,i=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),o=n(84536),s=n(65700),a=n.n(s),u=(n(61740),n(41526)),c=n.n(u),f=n(39780),l=n.n(f);if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(56249)}catch(pe){}function p(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(pe){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(pe){}}throw new Error("Native crypto module could not be used to get secure random number.")}var h,d=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(p());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}(),v=g;function g(e,t){null!=e&&this.fromString(e,t)}function y(){return new g(null)}var m="undefined"!=typeof navigator;m&&"Microsoft Internet Explorer"==navigator.appName?(g.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,f=a*u+c*s;i=((u=s*u+((32767&f)<<15)+n[r]+(1073741823&i))>>>30)+(f>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},h=30):m&&"Netscape"!=navigator.appName?(g.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},h=26):(g.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,f=a*u+c*s;i=((u=s*u+((16383&f)<<14)+n[r]+i)>>28)+(f>>14)+a*c,n[r++]=268435455&u}return i},h=28),g.prototype.DB=h,g.prototype.DM=(1<<h)-1,g.prototype.DV=1<<h;g.prototype.FV=Math.pow(2,52),g.prototype.F1=52-h,g.prototype.F2=2*h-52;var b,w,S=new Array;for(b="0".charCodeAt(0),w=0;w<=9;++w)S[b++]=w;for(b="a".charCodeAt(0),w=10;w<36;++w)S[b++]=w;for(b="A".charCodeAt(0),w=10;w<36;++w)S[b++]=w;function _(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function E(e,t){var n=S[e.charCodeAt(t)];return null==n?-1:n}function A(e){var t=y();return t.fromInt(e),t}function C(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function I(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function T(e){return o.lW.from((new d).random(e).toString(),"hex")}I.prototype.convert=function(e){var t=y();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(g.ZERO)>0&&this.m.subTo(t,t),t},I.prototype.revert=function(e){var t=y();return e.copyTo(t),this.reduce(t),t},I.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},I.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},g.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},g.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},g.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=E(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&g.ZERO.subTo(this,this)},g.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},g.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},g.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},g.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},g.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},g.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},g.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&g.ZERO.subTo(t,t)},g.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},g.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=y());var o=y(),s=this.s,a=e.s,u=this.DB-C(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,f=o[c-1];if(0!=f){var l=f*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),p=this.FV/l,h=(1<<this.F1)/l,d=1<<this.F2,v=n.t,m=v-c,b=null==t?y():t;for(o.dlShiftTo(m,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),g.ONE.dlShiftTo(c,b),b.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--m>=0;){var w=n[--v]==f?this.DM:Math.floor(n[v]*p+(n[v-1]+d)*h);if((n[v]+=o.am(0,w,n,m,0,c))<w)for(o.dlShiftTo(m,b),n.subTo(b,n);n[v]<--w;)n.subTo(b,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&g.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&g.ZERO.subTo(n,n)}}},g.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},g.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},g.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=_(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=_(n));return i?o:"0"},g.prototype.negate=function(){var e=y();return g.ZERO.subTo(this,e),e},g.prototype.abs=function(){return this.s<0?this.negate():this},g.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},g.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+C(this[this.t-1]^this.s&this.DM)},g.prototype.mod=function(e){var t=y();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(g.ZERO)>0&&e.subTo(t,t),t},g.prototype.equals=function(e){return 0==this.compareTo(e)},g.prototype.add=function(e){var t=y();return this.addTo(e,t),t},g.prototype.subtract=function(e){var t=y();return this.subTo(e,t),t},g.prototype.multiply=function(e){var t=y();return this.multiplyTo(e,t),t},g.prototype.divide=function(e){var t=y();return this.divRemTo(e,t,null),t},g.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=A(1),s=new I(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var a=new Array,u=3,c=r-1,f=(1<<r)-1;if(a[1]=s.convert(this),r>1){var l=y();for(s.sqrTo(a[1],l);u<=f;)a[u]=y(),s.mulTo(l,a[u-2],a[u]),u+=2}var p,h,d=e.t-1,v=!0,g=y();for(i=C(e[d])-1;d>=0;){for(i>=c?p=e[d]>>i-c&f:(p=(e[d]&(1<<i+1)-1)<<c-i,d>0&&(p|=e[d-1]>>this.DB+i-c)),u=r;0==(1&p);)p>>=1,--u;if((i-=u)<0&&(i+=this.DB,--d),v)a[p].copyTo(o),v=!1;else{for(;u>1;)s.sqrTo(o,g),s.sqrTo(g,o),u-=2;u>0?s.sqrTo(o,g):(h=o,o=g,g=h),s.mulTo(g,a[p],o)}for(;d>=0&&0==(e[d]&1<<i);)s.sqrTo(o,g),h=o,o=g,g=h,--i<0&&(i=this.DB-1,--d)}var m=s.revert(o);return n(null,m),m},g.ZERO=A(0),g.ONE=A(1);var O=/^[89a-f]/i,P=function(){function e(e){this.N=new v("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new v("2",16),this.k=new v(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=o.lW.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=T(128).toString("hex");return new v(e,16)},t.generateRandomString=function(){return T(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),s=T(16).toString("hex");this.SaltToHashDevices=this.padHex(new v(s,16)),this.g.modPow(new v(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(v.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new v(this.UHexHash,16)},t.hash=function(e){var t=e instanceof o.lW?a().lib.WordArray.create(e):e,n=c()(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(o.lW.from(e,"hex"))},t.computehkdf=function(e,t){var n=a().lib.WordArray.create(o.lW.concat([this.infoBits,o.lW.from(String.fromCharCode(1),"utf8")])),r=e instanceof o.lW?a().lib.WordArray.create(e):e,i=t instanceof o.lW?a().lib.WordArray.create(t):t,s=l()(r,i),u=l()(n,s);return o.lW.from(u.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var s=this;if(n.mod(this.N).equals(v.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(v.ZERO))throw new Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,u=this.hash(a),c=new v(this.hexHash(this.padHex(r)+u),16);this.calculateS(c,n,(function(e,t){e&&i(e,null);var n=s.computehkdf(o.lW.from(s.padHex(t),"hex"),o.lW.from(s.padHex(s.UValue),"hex"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof v))throw new Error("Not a BigInteger");var t=e.compareTo(v.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=O.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new v(r,16).add(v.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),x=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(o.lW.from(e,"base64").toString("utf8"))}catch(pe){return{}}},e}();function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}var k=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,D(t,n),r}(x);function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}var N=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,L(t,n),r}(x),R=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),M=n(81810),U=n.n(M),F=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],z=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=B[e.getUTCDay()],n=j[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+n+" "+r+" "+i+":"+o+":"+s+" UTC "+e.getUTCFullYear()},e}(),q=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),G={},K=function(){function e(){}return e.setItem=function(e,t){return G[e]=t,G[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(G,e)?G[e]:void 0},e.removeItem=function(e){return delete G[e]},e.clear=function(){return G={}},e}(),V=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=K}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),H="undefined"!=typeof navigator?navigator.userAgent:"nodejs",W=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new V).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,s=new P(this.pool.getUserPoolId().split("_")[1]),u=new z,c={};null!=this.deviceKey&&(c.DEVICE_KEY=this.deviceKey),c.USERNAME=this.username,s.getLargeAValue((function(f,p){f&&t.onFailure(f),c.SRP_A=p.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(c.CHALLENGE_NAME="SRP_A");var h=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),d={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:c,ClientMetadata:h};i.getUserContextData(i.username)&&(d.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",d,(function(c,f){if(c)return t.onFailure(c);var p=f.ChallengeParameters;i.username=p.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new v(p.SRP_B,16),r=new v(p.SALT,16),i.getCachedDeviceKeyAndPassword(),s.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=u.getNowString(),c=a().lib.WordArray.create(o.lW.concat([o.lW.from(i.pool.getUserPoolId().split("_")[1],"utf8"),o.lW.from(i.username,"utf8"),o.lW.from(p.SECRET_BLOCK,"base64"),o.lW.from(r,"utf8")])),d=a().lib.WordArray.create(n),v=U().stringify(l()(c,d)),g={};g.USERNAME=i.username,g.PASSWORD_CLAIM_SECRET_BLOCK=p.SECRET_BLOCK,g.TIMESTAMP=r,g.PASSWORD_CLAIM_SIGNATURE=v,null!=i.deviceKey&&(g.DEVICE_KEY=i.deviceKey);var y={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:g,Session:f.Session,ClientMetadata:h};i.getUserContextData()&&(y.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,(function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(g.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(y,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,s,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new P(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,s=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,s);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,s);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,s);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,s);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(s);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var a=null,u=null,c=[],f=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(s&&(a=JSON.parse(e.ChallengeParameters.userAttributes),u=JSON.parse(e.ChallengeParameters.requiredAttributes)),u)for(var l=0;l<u.length;l++)c[l]=u[l].substr(f.length);return n.newPasswordRequired(a,c)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var p=e.AuthenticationResult.NewDeviceMetadata;if(null==p)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var s={Salt:o.lW.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:o.lW.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=s.PasswordVerifier,r.deviceGroupKey=p.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:p.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:s,DeviceName:H},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new P(this.pool.getUserPoolId().split("_")[1]),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach((function(e){a[s+e]=t[e]})),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new P(this.deviceGroupKey),i=new z,s={};s.USERNAME=this.username,s.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(u,c){u&&e.onFailure(u),s.SRP_A=c.toString(16);var f={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:s,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(f.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",f,(function(t,s){if(t)return e.onFailure(t);var u=s.ChallengeParameters,c=new v(u.SRP_B,16),f=new v(u.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,c,f,(function(t,r){if(t)return e.onFailure(t);var c=i.getNowString(),f=a().lib.WordArray.create(o.lW.concat([o.lW.from(n.deviceGroupKey,"utf8"),o.lW.from(n.deviceKey,"utf8"),o.lW.from(u.SECRET_BLOCK,"base64"),o.lW.from(c,"utf8")])),p=a().lib.WordArray.create(r),h=U().stringify(l()(f,p)),d={};d.USERNAME=n.username,d.PASSWORD_CLAIM_SECRET_BLOCK=u.SECRET_BLOCK,d.TIMESTAMP=c,d.PASSWORD_CLAIM_SIGNATURE=h,d.DEVICE_KEY=n.deviceKey;var v={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:d,Session:s.Session};n.getUserContextData()&&(v.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",v,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new P(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,s={};s.USERNAME=this.username,s.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(s.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(s.DEVICE_KEY=this.deviceKey);var u={ChallengeName:a,ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new P(i.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var s={Salt:o.lW.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:o.lW.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=s.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:s,DeviceName:H},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},s=new q(o);r.push(s)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(pe){return this.clearCachedUserData(),void e(pe,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",s=n+".clockDrift";if(this.storage.getItem(r)){var a=new N({IdToken:this.storage.getItem(r)}),u=new k({AccessToken:this.storage.getItem(i)}),c=new R({RefreshToken:this.storage.getItem(o)}),f=parseInt(this.storage.getItem(s),0)||0,l=new F({IdToken:a,AccessToken:u,RefreshToken:c,ClockDrift:f});if(l.isValid())return this.signInUserSession=l,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new N(e),n=new k(e),r=new R(e);return new F({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(pe){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}(),Y=(n(79382),"aws-amplify/5.0.4"),J={userAgent:Y+" js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)if(J.product=navigator.product||"",J.navigator=navigator||null,"ReactNative"===navigator.product)J.userAgent=Y+" react-native",J.isReactNative=!0;else J.userAgent=Y+" js",J.isReactNative=!1;function Z(){}Z.prototype.userAgent=J.userAgent;var Q=Z;function $(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ne(e,t)}function X(e){var t="function"==typeof Map?new Map:void 0;return X=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ee(e,arguments,re(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ne(r,e)},X(e)}function ee(e,t,n){return ee=te()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ne(i,n.prototype),i},ee.apply(null,arguments)}function te(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ne(e,t){return ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ne(e,t)}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}var ie=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return $(t,e),t}(X(Error)),oe=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new ie(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r=this;(function(e,t,n){void 0===n&&(n=ue);return ae(e,t,function(e){var t=100,n=100;return function(r){var i=Math.pow(2,r)*t+n*Math.random();return!(i>e)&&i}}(n))})((function(t){return new Promise((function(n,i){r.request(e,t,(function(e,t){e?i(e):n(t)}))}))}),[t],5e3).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":Q.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),i=new Error(e.message||e.Message||null);return i.name=t,i.code=t,n(i)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],i=new Error(r.status?r.status.toString():null);return i.code=t,i.name=t,i.statusCode=r.status,n(i)}catch(o){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),se=function(){};Error;function ae(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return se(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(i){if(se("error on "+e.name,i),(o=i)&&o.nonRetryable)throw se(e.name+" non retryable error",i),i;var o,s=n(r,t,i);if(se(e.name+" retrying in "+s+" ms"),!1!==s)return new Promise((function(e){return setTimeout(e,s)})).then((function(){return ae(e,t,n,r+1)}));throw i}))}var ue=3e5;var ce=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,s=n.fetchOptions,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new oe(u,o,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||(new V).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:s,Storage:s.storage},o={user:new W(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new W(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),fe=n(23147),le=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),fe.set(e,t,n),fe.get(e)},t.getItem=function(e){return fe.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),fe.remove(e,t)},t.clear=function(){for(var e=fe.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}()},84536:function(e,t,n){"use strict";var r=n(83616),i=n(78259),o=n(6377);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=a(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){l=!1;break}if(l)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function w(e,t,n,r){return G(z(t,e.length-n),e,n,r)}function S(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return S(e,t,n,r)}function E(e,t,n,r){return G(q(t),e,n,r)}function A(e,t,n,r){return G(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.lW=u,t.h2=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),f=e.slice(t,n),l=0;l<a;++l)if(c[l]!==f[l]){o=c[l],s=f[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function D(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,o){return o||M(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||M(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:z(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},6578:function(e,t,n){"use strict";n.r(t),n.d(t,{Analytics:function(){return a.c},AWSPinpointProvider:function(){return u.Y},AWSKinesisProvider:function(){return c.s},AWSKinesisFirehoseProvider:function(){return f.s},AmazonPersonalizeProvider:function(){return l.C},Auth:function(){return o.g},Storage:function(){return p.Ke},StorageClass:function(){return p.HN},API:function(){return h.b},APIClass:function(){return h.Y},graphqlOperation:function(){return d.wT},AuthModeStrategyType:function(){return v.sE},DataStore:function(){return g.KT},Predicates:function(){return y.gA},SortDirection:function(){return v.Sr},syncExpression:function(){return v.S6},PubSub:function(){return m.p},Cache:function(){return s.ZP},Interactions:function(){return b.y},XR:function(){return E.XR},Predictions:function(){return A.x},Logger:function(){return C.k},Hub:function(){return I.Xb},JS:function(){return T.JS},ClientDevice:function(){return O._},Signer:function(){return P.E},I18n:function(){return x.o},ServiceWorker:function(){return i.f},AWSCloudWatchProvider:function(){return D.P},withSSRContext:function(){return k.x},Geo:function(){return L.l},Amplify:function(){return r.dQ}});var r=n(75557),i=n(36798),o=n(31253),s=n(56805),a=n(95083),u=n(66306),c=n(96307),f=n(62633),l=n(17869),p=n(60912),h=n(84324),d=n(56244),v=n(21504),g=n(55580),y=n(98423),m=n(62581),b=n(4395),w=n(70597),S={};for(var _ in w)["default","Analytics","AWSPinpointProvider","AWSKinesisProvider","AWSKinesisFirehoseProvider","AmazonPersonalizeProvider","Auth","Storage","StorageClass","API","APIClass","graphqlOperation","AuthModeStrategyType","DataStore","Predicates","SortDirection","syncExpression","PubSub","Cache","Interactions","XR","Predictions","Logger","Hub","JS","ClientDevice","Signer","I18n","ServiceWorker","AWSCloudWatchProvider","withSSRContext","Geo","Amplify"].indexOf(_)<0&&(S[_]=function(e){return w[e]}.bind(0,_));n.d(t,S);var E=n(38681),A=n(88346),C=n(55218),I=n(60643),T=n(20617),O=n(44141),P=n(62579),x=n(42408),D=n(10617),k=n(39056),L=n(55285);r.dQ.Auth=o.g,r.dQ.Cache=s.ZP,r.dQ.ServiceWorker=i.f,t.default=r.dQ},39056:function(e,t,n){"use strict";n.d(t,{x:function(){return p}});var r=n(67256),i=n(31253),o=n(17672),s=n(75557),a=n(71451),u=n(55580),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},f=[i.g,o.cN],l=[r.ZP,i.g,u.KT];function p(e){void 0===e&&(e={});var t=e.modules,n=void 0===t?l:t,r=e.req,i=s.dQ.configure(),o=new s.bY,u=new a.N({req:r});return f.forEach((function(e){n.includes(e)||o.register(new e.constructor)})),n.forEach((function(e){o.register(new e.constructor)})),o.configure(c(c({},i),{storage:u})),o}},83616:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=u(e),s=o[0],a=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),f=0,l=a>0?s-4:s;for(n=0;n<l;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[f++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},59849:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,u=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&s(t.prototype,n),r&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),s=u(n(95)),a=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),u=a.default.find(s,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var f=a.default.find(s,(function(e){return t.isPlatform(e)}));if(f){var l=this.satisfies(n[f]);if(void 0!==l)return l}}if(o>0){var p=Object.keys(i),h=a.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},41422:function(e,t,n){"use strict";var r=n(83616),i=n(78259),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=u,t.h2=50;var s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|v(e,t),r=a(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(z(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(z(e,ArrayBuffer)||e&&z(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(z(e,SharedArrayBuffer)||e&&z(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);var i=function(e){if(u.isBuffer(e)){var t=0|d(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||q(e.length)?a(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),a(e<0?0:0|d(e))}function p(e){for(var t=e.length<0?0:0|d(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function d(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function v(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(i)return r?-1:F(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){l=!1;break}if(l)return o}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(q(a))return s;e[n+s]=a}return s}function S(e,t,n,r){return B(F(t,e.length-n),e,n,r)}function _(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return B(j(t),e,n,r)}function A(e,t,n,r){return B(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return f(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(z(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),z(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(z(o,Uint8Array))i+o.length>r.length?u.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(z(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),f=e.slice(t,n),l=0;l<a;++l)if(c[l]!==f[l]){o=c[l],s=f[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=G[e[o]];return i}function D(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,o){return t=+t,n>>>=0,o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,o){return t=+t,n>>>=0,o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||k(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||k(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||k(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||k(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:u.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var U=/[^+/0-9A-Za-z-_]/g;function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!=e}var G=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},45967:function(e,t,n){"use strict";var r=n(59713);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var o=n(23141),s=n(37350),a=n(99249),u=new a({maxSize:1e5}),c=function(e){return!("object"!=typeof e||null===e||e instanceof RegExp||e instanceof Error||e instanceof Date)},f=function(e,t){if(!c(e))return e;t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({deep:!1,pascalCase:!1},t);var n=t,a=n.exclude,f=n.pascalCase,l=n.stopPaths,p=n.deep,h=new Set(l);return o(e,function e(t){return function(n,r){if(p&&c(r)){var i=void 0===t?n:"".concat(t,".").concat(n);h.has(i)||(r=o(r,e(i)))}if(!a||!function(e,t){return e.some((function(e){return"string"==typeof e?e===t:(e.lastIndex=0,e.test(t))}))}(a,n)){var l=f?"".concat(n,"_"):n;if(u.has(l))n=u.get(l);else{var d=s(n,{pascalCase:f});n.length<100&&u.set(l,d),n=d}}return[n,r]}}(void 0))};e.exports=function(e,t){return Array.isArray(e)?Object.keys(e).map((function(n){return f(e[n],t)})):f(e,t)}},37350:function(e){"use strict";var t=function(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);var n;return e=Array.isArray(e)?e.map((function(e){return e.trim()})).filter((function(e){return e.length})).join("-"):e.trim(),0===e.length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=function(e){for(var t=!1,n=!1,r=!1,i=0;i<e.length;i++){var o=e[i];t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.slice(0,i)+"-"+e.slice(i),t=!1,r=n,n=!0,i++):n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(e=e.slice(0,i-1)+"-"+e.slice(i-1),r=n,n=!1,t=!0):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,r=n,n=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e}(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()})).replace(/\d+(\w|$)/g,(function(e){return e.toUpperCase()})),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n)};e.exports=t,e.exports.default=t},99249:function(e,t,n){"use strict";var r=n(87757),i=n(63038),o=n(34575),s=n(93913);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return s(t,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:r.mark((function e(){var t,n,o,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return o=i(n.value,1),s=o[0],e.next=7,s;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:r.mark((function e(){var t,n,o,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return o=i(n.value,2),s=o[1],e.next=7,s;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:e,value:r.mark((function e(){var t,n,o,s,u,c,f,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(this.cache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return o=n.value,e.next=7,o;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:s=a(this.oldCache),e.prev=18,s.s();case 20:if((u=s.n()).done){e.next=28;break}if(c=u.value,f=i(c,1),l=f[0],this.cache.has(l)){e.next=26;break}return e.next=26,c;case 26:e.next=20;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(18),s.e(e.t1);case 33:return e.prev=33,s.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,30,33,36]])}))},{key:"size",get:function(){var e,t=0,n=a(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.cache.has(r)||t++}}catch(i){n.e(i)}finally{n.f()}return this._size+t}}]),t}(Symbol.iterator);e.exports=c},23930:function(e,t){"use strict";t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},s=e.split(";"),a=i.decode||n,u=0;u<s.length;u++){var c=s[u],f=c.indexOf("=");if(!(f<0)){var l=c.substring(0,f).trim();if(null==r[l]){var p=c.substring(f+1,c.length).trim();'"'===p[0]&&(p=p.slice(1,-1)),r[l]=o(p,a)}}}return r},t.q=function(e,t,n){var o=n||{},s=o.encode||r;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw new TypeError("argument val is invalid");var u=e+"="+a;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+o.expires.toUTCString()}o.httpOnly&&(u+="; HttpOnly");o.secure&&(u+="; Secure");if(o.sameSite){switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var n=decodeURIComponent,r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(n){return e}}},65700:function(e,t,n){var r;n(65743),e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(42480)}catch(g){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},a=s.lib={},u=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=u.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),f=s.enc={},l=f.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},p=f.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},h=f.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},d=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,f=e.min(4*u,o);if(u){for(var l=0;l<u;l+=s)this._doProcessBlock(i,l);n=i.splice(0,u),r.sigBytes-=f}return new c.init(n,f)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(a.Hasher=d.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),r)},81810:function(e,t,n){var r;e.exports=(r=n(65700),function(){var e=r,t=e.lib.WordArray;function n(e,n,r){for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)},39780:function(e,t,n){var r;e.exports=(r=n(65700),n(41526),n(19005),r.HmacSHA256)},19005:function(e,t,n){var r,i,o,s;e.exports=(r=n(65700),o=(i=r).lib.Base,s=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),a=i.words,u=o.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},61740:function(e,t,n){var r;e.exports=(r=n(65700),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)},41526:function(e,t,n){var r;e.exports=(r=n(65700),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],f=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],f=n[5],l=n[6],p=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var d=c[h-15],v=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,g=c[h-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[h]=v+c[h-7]+y+c[h-16]}var m=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=p+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&l)+u[h]+c[h];p=l,l=f,f=a,a=s+w|0,s=o,o=i,i=r,r=w+(b+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(f),t.HmacSHA256=o._createHmacHelper(f)}(Math),r.SHA256)},72965:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,s,c;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=s.length,c=f,console&&console.warn&&console.warn(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):d(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,f=d(u,c);for(n=0;n<c;++n)r(f[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},98882:function(e,t,n){"use strict";var r=n(59713),i=n(80848).buildOptions,o={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},s=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function a(e){this.options=i(e,o,s),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=g),this.options.cdataTagName?this.isCDATA=y:this.isCDATA=function(){return!1},this.replaceCDATAstr=c,this.replaceCDATAarr=f,this.processTextOrObjNode=u,this.options.format?(this.indentate=v,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=d,this.buildObjNode=p):(this.buildTextNode=h,this.buildObjNode=l),this.buildTextValNode=h,this.buildObjectNode=l}function u(e,t,n){var r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(r.val,t,r.attrStr,n):this.buildObjNode(r.val,t,r.attrStr,n)}function c(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function f(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(var n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function l(e,t,n,r){return n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function p(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function h(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function d(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function v(e){return this.options.indentBy.repeat(e)}function g(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function y(e){return e===this.options.cdataTagName}a.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e=r({},this.options.rootNodeName,e)),this.j2x(e,0).val},a.prototype.j2x=function(e,t){var n="",r="";for(var i in e)if(void 0===e[i]);else if(null===e[i])r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextNode(e[i],i,"",t);else if("object"!=typeof e[i]){var o=this.isAttribute(i);o?n+=" "+o+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[i])):r+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAarr("",e[i]);else for(var s=e[i].length,a=0;a<s;a++){var u=e[i][a];void 0===u||(r+=null===u?this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"==typeof u?this.processTextOrObjNode(u,i,t):this.buildTextNode(u,i,"",t))}else if(this.options.attrNodeName&&i===this.options.attrNodeName)for(var c=Object.keys(e[i]),f=c.length,l=0;l<f;l++)n+=" "+c[l]+'="'+this.options.attrValueProcessor(""+e[i][c[l]])+'"';else r+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:r}},e.exports=a},89701:function(e,t,n){"use strict";var r=function(e){return String.fromCharCode(e)},i={nilChar:r(176),missingChar:r(201),nilPremitive:r(175),missingPremitive:r(200),emptyChar:r(178),emptyValue:r(177),boundryChar:r(179),objStart:r(198),arrStart:r(204),arrayEnd:r(185)},o=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],s=function e(t,n,r){if("string"==typeof n)return t&&t[0]&&void 0!==t[0].val?a(t[0].val,n):a(t,n);var o,s=void 0===(o=t)?i.missingChar:null===o?i.nilChar:!(o.child&&0===Object.keys(o.child).length&&(!o.attrsMap||0===Object.keys(o.attrsMap).length))||i.emptyChar;if(!0===s){var c="";if(Array.isArray(n)){c+=i.arrStart;var f=n[0],l=t.length;if("string"==typeof f)for(var p=0;p<l;p++){var h=a(t[p].val,f);c=u(c,h)}else for(var d=0;d<l;d++){var v=e(t[d],f,r);c=u(c,v)}c+=i.arrayEnd}else{c+=i.objStart;var g=Object.keys(n);for(var y in Array.isArray(t)&&(t=t[0]),g){var m=g[y],b=void 0;b=!r.ignoreAttributes&&t.attrsMap&&t.attrsMap[m]?e(t.attrsMap[m],n[m],r):m===r.textNodeName?e(t.val,n[m],r):e(t.child[m],n[m],r),c=u(c,b)}}return c}return s},a=function(e){switch(e){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return e}},u=function(e,t){return c(t[0])||c(e[e.length-1])||(e+=i.boundryChar),e+t},c=function(e){return-1!==o.indexOf(e)};var f=n(9304),l=n(80848).buildOptions;t.convert2nimn=function(e,t,n){return n=l(n,f.defaultOptions,f.props),s(e,t,n)}},47211:function(e,t,n){"use strict";var r=n(80848);t.convertToJson=function e(t,n,i){var o={};if(!n.alwaysCreateTextNode&&(!t.child||r.isEmptyObject(t.child))&&(!t.attrsMap||r.isEmptyObject(t.attrsMap)))return r.isExist(t.val)?t.val:"";if(r.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==n.cdataPositionChar)){var s=r.isTagNameInArrayMode(t.tagname,n.arrayMode,i);o[n.textNodeName]=s?[t.val]:t.val}r.merge(o,t.attrsMap,n.arrayMode);for(var a=Object.keys(t.child),u=0;u<a.length;u++){var c=a[u];if(t.child[c]&&t.child[c].length>1)for(var f in o[c]=[],t.child[c])t.child[c].hasOwnProperty(f)&&o[c].push(e(t.child[c][f],n,c));else{var l=e(t.child[c][0],n,c),p=!0===n.arrayMode&&"object"==typeof l||r.isTagNameInArrayMode(c,n.arrayMode,i);o[c]=p?[l]:l}}return o}},10711:function(e,t,n){"use strict";var r=n(80848),i=n(80848).buildOptions,o=n(9304),s=function e(t,n,i){for(var o,s="{",a=Object.keys(t.child),u=0;u<a.length;u++){var c=a[u];if(t.child[c]&&t.child[c].length>1){for(var f in s+='"'+c+'" : [ ',t.child[c])s+=e(t.child[c][f],n)+" , ";s=s.substr(0,s.length-1)+" ] "}else s+='"'+c+'" : '+e(t.child[c][0],n)+" ,"}return r.merge(s,t.attrsMap),r.isEmptyObject(s)?r.isExist(t.val)?t.val:"":(r.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==n.cdataPositionChar)&&(s+='"'+n.textNodeName+'" : '+(!0!==(o=t.val)&&!1!==o&&isNaN(o)?'"'+o+'"':o)),","===s[s.length-1]&&(s=s.substr(0,s.length-2)),s+"}")};t.convertToJsonString=function(e,t){return(t=i(t,o.defaultOptions,o.props)).indentBy=t.indentBy||"",s(e,t,0)}},20592:function(e,t,n){"use strict";var r=n(47211),i=n(9304),o=n(9304),s=n(80848).buildOptions,a=n(43791);t.parse=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(n){!0===n&&(n={});var u=a.validate(e,n);if(!0!==u)throw Error(u.err.msg)}t.parseTrueNumberOnly&&!1!==t.parseNodeValue&&!t.numParseOptions&&(t.numParseOptions={leadingZeros:!1});var c=s(t,o.defaultOptions,o.props),f=i.getTraversalObj(e,c);return r.convertToJson(f,c)},t.convertTonimn=n(89701).convert2nimn,t.getTraversalObj=i.getTraversalObj,t.convertToJson=r.convertToJson,t.convertToJsonString=n(10711).convertToJsonString,t.validate=a.validate,t.j2xParser=n(98882),t.parseToNimn=function(e,n,r){return t.convertTonimn(t.getTraversalObj(e,r),n,r)}},80848:function(e,t){"use strict";var n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t)for(var r=Object.keys(t),i=r.length,o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,n){var r={};if(!e)return t;for(var i=0;i<n.length;i++)void 0!==e[n[i]]?r[n[i]]=e[n[i]]:r[n[i]]=t[n[i]];return r},t.isTagNameInArrayMode=function(e,t,n){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,n):"strict"===t)},t.isName=function(e){var t=i.exec(e);return!(null==t)},t.getAllMatches=function(e,t){for(var n=[],r=t.exec(e);r;){var i=[];i.startIndex=t.lastIndex-r[0].length;for(var o=r.length,s=0;s<o;s++)i.push(r[s]);n.push(i),r=t.exec(e)}return n},t.nameRegexp=r},43791:function(e,t,n){"use strict";var r=n(80848),i={allowBooleanAttributes:!1},o=["allowBooleanAttributes"];function s(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var r=e.substr(n,t-n);if(t>5&&"xml"===r)return p("InvalidXml","XML declaration allowed only at the start of the document.",d(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function a(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){var n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&0===--n)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=r.buildOptions(t,i,o);var n,c=[],h=!1,v=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(var g=0;g<e.length;g++)if("<"===e[g]&&"?"===e[g+1]){if((g=s(e,g+=2)).err)return g}else{if("<"!==e[g]){if(" "===e[g]||"\t"===e[g]||"\n"===e[g]||"\r"===e[g])continue;return p("InvalidChar","char '"+e[g]+"' is not expected.",d(e,g))}var y=g;if("!"===e[++g]){g=a(e,g);continue}var m=!1;"/"===e[g]&&(m=!0,g++);for(var b="";g<e.length&&">"!==e[g]&&" "!==e[g]&&"\t"!==e[g]&&"\n"!==e[g]&&"\r"!==e[g];g++)b+=e[g];if("/"===(b=b.trim())[b.length-1]&&(b=b.substring(0,b.length-1),g--),n=b,!r.isName(n)){return p("InvalidTag",0===b.trim().length?"Invalid space after '<'.":"Tag '"+b+"' is an invalid name.",d(e,g))}var w=u(e,g);if(!1===w)return p("InvalidAttr","Attributes for '"+b+"' have open quote.",d(e,g));var S=w.value;if(g=w.index,"/"===S[S.length-1]){var _=g-S.length,E=f(S=S.substring(0,S.length-1),t);if(!0!==E)return p(E.err.code,E.err.msg,d(e,_+E.err.line));h=!0}else if(m){if(!w.tagClosed)return p("InvalidTag","Closing tag '"+b+"' doesn't have proper closing.",d(e,g));if(S.trim().length>0)return p("InvalidTag","Closing tag '"+b+"' can't have attributes or invalid starting.",d(e,y));var A=c.pop();if(b!==A.tagName){var C=d(e,A.tagStartPos);return p("InvalidTag","Expected closing tag '"+A.tagName+"' (opened in line "+C.line+", col "+C.col+") instead of closing tag '"+b+"'.",d(e,y))}0==c.length&&(v=!0)}else{var I=f(S,t);if(!0!==I)return p(I.err.code,I.err.msg,d(e,g-S.length+I.err.line));if(!0===v)return p("InvalidXml","Multiple possible root nodes found.",d(e,g));c.push({tagName:b,tagStartPos:y}),h=!0}for(g++;g<e.length;g++)if("<"===e[g]){if("!"===e[g+1]){g=a(e,++g);continue}if("?"!==e[g+1])break;if((g=s(e,++g)).err)return g}else if("&"===e[g]){var T=l(e,g);if(-1==T)return p("InvalidChar","char '&' is not expected.",d(e,g));g=T}"<"===e[g]&&g--}return h?1==c.length?p("InvalidTag","Unclosed tag '"+c[0].tagName+"'.",d(e,c[0].tagStartPos)):!(c.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(c.map((function(e){return e.tagName})),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};function u(e,t){for(var n="",r="",i=!1;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}var c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function f(e,t){for(var n=r.getAllMatches(e,c),i={},o=0;o<n.length;o++){if(0===n[o][1].length)return p("InvalidAttr","Attribute '"+n[o][2]+"' has no space in starting.",v(n[o]));if(void 0===n[o][3]&&!t.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+n[o][2]+"' is not allowed.",v(n[o]));var s=n[o][2];if(!h(s))return p("InvalidAttr","Attribute '"+s+"' is an invalid name.",v(n[o]));if(i.hasOwnProperty(s))return p("InvalidAttr","Attribute '"+s+"' is repeated.",v(n[o]));i[s]=1}return!0}function l(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){var n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);for(var n=0;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function p(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function h(e){return r.isName(e)}function d(e,t){var n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function v(e){return e.startIndex+e[1].length}},55652:function(e){"use strict";e.exports=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},9304:function(e,t,n){"use strict";var r=n(80848),i=n(80848).buildOptions,o=n(55652),s=n(39024);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};t.defaultOptions=a;var u=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];function c(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=l(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.numParseOptions)),t}function f(e,t){if(t.ignoreNameSpace){var n=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===n[0])return"";2===n.length&&(e=r+n[1])}return e}function l(e,t,n){if(t&&"string"==typeof e){var i=e.trim();return"true"===i||"false"!==i&&s(e,n)}return r.isExist(e)?e:""}t.props=u;var p=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function h(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");for(var n=r.getAllMatches(e,p),i=n.length,o={},s=0;s<i;s++){var a=f(n[s][1],t);a.length&&(void 0!==n[s][4]?(t.trimValues&&(n[s][4]=n[s][4].trim()),n[s][4]=t.attrValueProcessor(n[s][4],a),o[t.attributeNamePrefix+a]=l(n[s][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(o[t.attributeNamePrefix+a]=!0))}if(!Object.keys(o).length)return;if(t.attrNodeName){var u={};return u[t.attrNodeName]=o,u}return o}}function d(e,t){for(var n,r="",i=t;i<e.length;i++){var o=e[i];if(n)o===n&&(n="");else if('"'===o||"'"===o)n=o;else{if(">"===o)return{data:r,index:i};"\t"===o&&(o=" ")}r+=o}}function v(e,t,n,r){var i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}t.getTraversalObj=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=i(t,a,u);for(var n=new o("!xml"),s=n,f="",l=0;l<e.length;l++){if("<"===e[l])if("/"===e[l+1]){var p=v(e,">",l,"Closing Tag is not closed."),g=e.substring(l+2,p).trim();if(t.ignoreNameSpace){var y=g.indexOf(":");-1!==y&&(g=g.substr(y+1))}s&&(s.val?s.val=r.getValue(s.val)+""+c(g,f,t):s.val=c(g,f,t)),t.stopNodes.length&&t.stopNodes.includes(s.tagname)&&(s.child=[],null==s.attrsMap&&(s.attrsMap={}),s.val=e.substr(s.startIndex+1,l-s.startIndex-1)),s=s.parent,f="",l=p}else if("?"===e[l+1])l=v(e,"?>",l,"Pi Tag is not closed.");else if("!--"===e.substr(l+1,3))l=v(e,"--\x3e",l,"Comment is not closed.");else if("!D"===e.substr(l+1,2)){var m=v(e,">",l,"DOCTYPE is not closed.");l=e.substring(l,m).indexOf("[")>=0?e.indexOf("]>",l)+1:m}else if("!["===e.substr(l+1,2)){var b=v(e,"]]>",l,"CDATA is not closed.")-2,w=e.substring(l+9,b);if(f&&(s.val=r.getValue(s.val)+""+c(s.tagname,f,t),f=""),t.cdataTagName){var S=new o(t.cdataTagName,s,w);s.addChild(S),s.val=r.getValue(s.val)+t.cdataPositionChar,w&&(S.val=w)}else s.val=(s.val||"")+(w||"");l=b+2}else{var _=d(e,l+1),E=_.data,A=_.index,C=E.indexOf(" "),I=E,T=!0;if(-1!==C&&(I=E.substr(0,C).replace(/\s\s*$/,""),E=E.substr(C+1)),t.ignoreNameSpace){var O=I.indexOf(":");-1!==O&&(T=(I=I.substr(O+1))!==_.data.substr(O+1))}if(s&&f&&"!xml"!==s.tagname&&(s.val=r.getValue(s.val)+""+c(s.tagname,f,t)),E.length>0&&E.lastIndexOf("/")===E.length-1){E="/"===I[I.length-1]?I=I.substr(0,I.length-1):E.substr(0,E.length-1);var P=new o(I,s,"");I!==E&&(P.attrsMap=h(E,t)),s.addChild(P)}else{var x=new o(I,s);t.stopNodes.length&&t.stopNodes.includes(x.tagname)&&(x.startIndex=A),I!==E&&T&&(x.attrsMap=h(E,t)),s.addChild(x),s=x}f="",l=A}else f+=e[l]}return n}},79382:function(e,t,n){"use strict";e.exports=n.g.fetch},69750:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{_:function(){return S}});var i=n(88593);function o(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function s(e){return a(e.source,o(e.source,e.start))}function a(e,t){var n=e.locationOffset.column-1,r=c(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,f=t.column+a,l="".concat(e.name,":").concat(s,":").concat(f,"\n"),p=r.split(/\r\n|[\n\r]/g),h=p[i];if(h.length>120){for(var d=Math.floor(f/80),v=f%80,g=[],y=0;y<h.length;y+=80)g.push(h.slice(y,y+80));return l+u([["".concat(s),g[0]]].concat(g.slice(1,d+1).map((function(e){return["",e]})),[[" ",c(v-1)+"^"],["",g[d+1]]]))}return l+u([["".concat(s-1),p[i-1]],["".concat(s),h],["",c(f-1)+"^"],["".concat(s+1),p[i+1]]])}function u(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return c(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function c(e){return Array(e+1).join(" ")}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){var t="function"==typeof Map?new Map:void 0;return g=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)},g(e)}function y(e,t,n){return y=m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},y.apply(null,arguments)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(y,e);var t,n,u,c,f,g=(t=y,n=m(),function(){var e,r=w(t);if(n){var i=w(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return d(this,e)});function y(e,t,n,i,s,a,u){var c,f,h,m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(m=g.call(this,e)).name="GraphQLError",m.originalError=null!=a?a:void 0,m.nodes=_(Array.isArray(t)?t:t?[t]:void 0);for(var b=[],w=0,S=null!==(E=m.nodes)&&void 0!==E?E:[];w<S.length;w++){var E,A=S[w].loc;null!=A&&b.push(A)}b=_(b),m.source=null!=n?n:null===(c=b)||void 0===c?void 0:c[0].source,m.positions=null!=i?i:null===(f=b)||void 0===f?void 0:f.map((function(e){return e.start})),m.locations=i&&n?i.map((function(e){return o(n,e)})):null===(h=b)||void 0===h?void 0:h.map((function(e){return o(e.source,e.start)})),m.path=null!=s?s:void 0;var C,I=null==a?void 0:a.extensions;return null==u&&("object"==r(C=I)&&null!==C)?m.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},I):m.extensions=null!=u?u:{},Object.defineProperties(v(m),{message:{enumerable:!0},locations:{enumerable:null!=m.locations},path:{enumerable:null!=m.path},extensions:{enumerable:null!=m.extensions&&Object.keys(m.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=a&&a.stack?(Object.defineProperty(v(m),"stack",{value:a.stack,writable:!0,configurable:!0}),d(m)):(Error.captureStackTrace?Error.captureStackTrace(v(m),y):Object.defineProperty(v(m),"stack",{value:Error().stack,writable:!0,configurable:!0}),m)}return u=y,(c=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+s(i.loc))}else if(e.source&&e.locations)for(var o=0,u=e.locations;o<u.length;o++){var c=u[o];t+="\n\n"+a(e.source,c)}return t}(this)}},{key:i.YF,get:function(){return"Object"}}])&&h(u.prototype,c),f&&h(u,f),y}(g(Error));function _(e){return void 0===e||0===e.length?void 0:e}},88593:function(e,t,n){"use strict";n.d(t,{YF:function(){return r}});"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var r="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag"},78259:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,p=n?-1:1,h=e[t+l];for(l+=p,o=h&(1<<-f)-1,h>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=p,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=p,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=d,s/=256,c-=8);e[n+h-d]|=128*v}},6377:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},23147:function(e,t,n){var r,i;!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var s=window.Cookies,a=window.Cookies=o();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(f){}if(i[c]=u,e===c)break}catch(f){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},23141:function(e,t,n){"use strict";var r=n(63038),i=n(59713);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e){return"object"==typeof e&&null!==e},u=Symbol("skip"),c=function(e){return a(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date)},f=function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new WeakMap;if(i=s({deep:!1,target:{}},i),o.has(t))return o.get(t);o.set(t,i.target);var a=i,f=a.target;delete i.target;var l=function(t){return t.map((function(t){return c(t)?e(t,n,i,o):t}))};if(Array.isArray(t))return l(t);for(var p=0,h=Object.entries(t);p<h.length;p++){var d=r(h[p],2),v=d[0],g=d[1],y=n(v,g,t);if(y!==u){var m=r(y,3),b=m[0],w=m[1],S=m[2],_=(S=void 0===S?{}:S).shouldRecurse,E=void 0===_||_;"__proto__"!==b&&(i.deep&&E&&c(w)&&(w=Array.isArray(w)?l(w):e(w,n,i,o)),f[b]=w)}}return f};e.exports=function(e,t,n){if(!a(e))throw new TypeError("Expected an object, got `".concat(e,"` (").concat(typeof e,")"));return f(e,t,n)},e.exports.mapObjectSkip=u},6651:function(e,t,n){var r;r=function(){var e=function(e){var t,n=e.localStorage||(t={},{setItem:function(e,n){t[e]=n},getItem:function(e){return t[e]},removeItem:function(e){delete t[e]}}),r=1,i=2,o=3,s=4,a=5,u=6,c=7,f=8,l=9,p=10,h=11,d=12,v=13,g=14,y=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)){var r="Unknown property, "+n+". Valid properties are:";for(var i in t)t.hasOwnProperty(i)&&(r=r+" "+i);throw new Error(r)}if(typeof e[n]!==t[n])throw new Error(S(b.INVALID_TYPE,[typeof e[n],n]))}},m=function(e,t){return function(){return e.apply(t,arguments)}},b={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},w={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},S=function(e,t){var n=e.text;if(t)for(var r,i,o=0;o<t.length;o++)if(r="{"+o+"}",(i=n.indexOf(r))>0){var s=n.substring(0,i),a=n.substring(i+r.length);n=s+t[o]+a}return n},_=[0,6,77,81,73,115,100,112,3],E=[0,4,77,81,84,84,4],A=function(e,t){for(var n in this.type=e,t)t.hasOwnProperty(n)&&(this[n]=t[n])};function C(e,t){var n,r=t,f=e[t],p=f>>4,d=f&=15;t+=1;var v=0,g=1;do{if(t==e.length)return[null,r];v+=(127&(n=e[t++]))*g,g*=128}while(0!=(128&n));var y=t+v;if(y>e.length)return[null,r];var m=new A(p);switch(p){case i:1&e[t++]&&(m.sessionPresent=!0),m.returnCode=e[t++];break;case o:var b=d>>1&3,w=O(e,t),S=D(e,t+=2,w);t+=w,b>0&&(m.messageIdentifier=O(e,t),t+=2);var _=new R(e.subarray(t,y));1==(1&d)&&(_.retained=!0),8==(8&d)&&(_.duplicate=!0),_.qos=b,_.destinationName=S,m.payloadMessage=_;break;case s:case a:case u:case c:case h:m.messageIdentifier=O(e,t);break;case l:m.messageIdentifier=O(e,t),t+=2,m.returnCode=e.subarray(t,y)}return[m,y]}function I(e,t,n){return t[n++]=e>>8,t[n++]=e%256,n}function T(e,t,n,r){return x(e,n,r=I(t,n,r)),r+t}function O(e,t){return 256*e[t]+e[t+1]}function P(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>2047?(55296<=r&&r<=56319&&(n++,t++),t+=3):r>127?t+=2:t++}return t}function x(e,t,n){for(var r=n,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=o&&o<=56319){var s=e.charCodeAt(++i);if(isNaN(s))throw new Error(S(b.MALFORMED_UNICODE,[o,s]));o=s-56320+(o-55296<<10)+65536}o<=127?t[r++]=o:o<=2047?(t[r++]=o>>6&31|192,t[r++]=63&o|128):o<=65535?(t[r++]=o>>12&15|224,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>18&7|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t}function D(e,t,n){for(var r,i="",o=t;o<t+n;){var s=e[o++];if(s<128)r=s;else{var a=e[o++]-128;if(a<0)throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),""]));if(s<224)r=64*(s-192)+a;else{var u=e[o++]-128;if(u<0)throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),u.toString(16)]));if(s<240)r=4096*(s-224)+64*a+u;else{var c=e[o++]-128;if(c<0)throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),u.toString(16),c.toString(16)]));if(!(s<248))throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),u.toString(16),c.toString(16)]));r=262144*(s-240)+4096*a+64*u+c}}}r>65535&&(r-=65536,i+=String.fromCharCode(55296+(r>>10)),r=56320+(1023&r)),i+=String.fromCharCode(r)}return i}A.prototype.encode=function(){var e,t=(15&this.type)<<4,n=0,i=[],s=0;switch(void 0!==this.messageIdentifier&&(n+=2),this.type){case r:switch(this.mqttVersion){case 3:n+=_.length+3;break;case 4:n+=E.length+3}n+=P(this.clientId)+2,void 0!==this.willMessage&&(n+=P(this.willMessage.destinationName)+2,(e=this.willMessage.payloadBytes)instanceof Uint8Array||(e=new Uint8Array(c)),n+=e.byteLength+2),void 0!==this.userName&&(n+=P(this.userName)+2),void 0!==this.password&&(n+=P(this.password)+2);break;case f:t|=2;for(var a=0;a<this.topics.length;a++)i[a]=P(this.topics[a]),n+=i[a]+2;n+=this.requestedQos.length;break;case p:for(t|=2,a=0;a<this.topics.length;a++)i[a]=P(this.topics[a]),n+=i[a]+2;break;case u:t|=2;break;case o:this.payloadMessage.duplicate&&(t|=8),t=t|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(t|=1),n+=(s=P(this.payloadMessage.destinationName))+2;var c=this.payloadMessage.payloadBytes;n+=c.byteLength,c instanceof ArrayBuffer?c=new Uint8Array(c):c instanceof Uint8Array||(c=new Uint8Array(c.buffer))}var l=function(e){var t=new Array(1),n=0;do{var r=e%128;(e>>=7)>0&&(r|=128),t[n++]=r}while(e>0&&n<4);return t}(n),h=l.length+1,d=new ArrayBuffer(n+h),v=new Uint8Array(d);if(v[0]=t,v.set(l,1),this.type==o)h=T(this.payloadMessage.destinationName,s,v,h);else if(this.type==r){switch(this.mqttVersion){case 3:v.set(_,h),h+=_.length;break;case 4:v.set(E,h),h+=E.length}var g=0;this.cleanSession&&(g=2),void 0!==this.willMessage&&(g|=4,g|=this.willMessage.qos<<3,this.willMessage.retained&&(g|=32)),void 0!==this.userName&&(g|=128),void 0!==this.password&&(g|=64),v[h++]=g,h=I(this.keepAliveInterval,v,h)}switch(void 0!==this.messageIdentifier&&(h=I(this.messageIdentifier,v,h)),this.type){case r:h=T(this.clientId,P(this.clientId),v,h),void 0!==this.willMessage&&(h=T(this.willMessage.destinationName,P(this.willMessage.destinationName),v,h),h=I(e.byteLength,v,h),v.set(e,h),h+=e.byteLength),void 0!==this.userName&&(h=T(this.userName,P(this.userName),v,h)),void 0!==this.password&&(h=T(this.password,P(this.password),v,h));break;case o:v.set(c,h);break;case f:for(a=0;a<this.topics.length;a++)h=T(this.topics[a],i[a],v,h),v[h++]=this.requestedQos[a];break;case p:for(a=0;a<this.topics.length;a++)h=T(this.topics[a],i[a],v,h)}return d};var k=function(e,t){this._client=e,this._keepAliveInterval=1e3*t,this.isReset=!1;var n=new A(d).encode(),r=function(e){return function(){return i.apply(e)}},i=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(n),this.timeout=setTimeout(r(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(b.PING_TIMEOUT.code,S(b.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(r(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},L=function(e,t,n,r){t||(t=30),this.timeout=setTimeout(function(e,t,n){return function(){return e.apply(t,n)}}(n,e,r),1e3*t),this.cancel=function(){clearTimeout(this.timeout)}},N=function(t,r,i,o,s){if(!("WebSocket"in e)||null===e.WebSocket)throw new Error(S(b.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in e)||null===e.ArrayBuffer)throw new Error(S(b.UNSUPPORTED,["ArrayBuffer"]));for(var a in this._trace("Paho.Client",t,r,i,o,s),this.host=r,this.port=i,this.path=o,this.uri=t,this.clientId=s,this._wsuri=null,this._localKey=r+":"+i+("/mqtt"!=o?":"+o:"")+":"+s+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0,n)0!==a.indexOf("Sent:"+this._localKey)&&0!==a.indexOf("Received:"+this._localKey)||this.restore(a)};N.prototype.host=null,N.prototype.port=null,N.prototype.path=null,N.prototype.uri=null,N.prototype.clientId=null,N.prototype.socket=null,N.prototype.connected=!1,N.prototype.maxMessageIdentifier=65536,N.prototype.connectOptions=null,N.prototype.hostIndex=null,N.prototype.onConnected=null,N.prototype.onConnectionLost=null,N.prototype.onMessageDelivered=null,N.prototype.onMessageArrived=null,N.prototype.traceFunction=null,N.prototype._msg_queue=null,N.prototype._buffered_msg_queue=null,N.prototype._connectTimeout=null,N.prototype.sendPinger=null,N.prototype.receivePinger=null,N.prototype._reconnectInterval=1,N.prototype._reconnecting=!1,N.prototype._reconnectTimeout=null,N.prototype.disconnectedPublishing=!1,N.prototype.disconnectedBufferSize=5e3,N.prototype.receiveBuffer=null,N.prototype._traceBuffer=null,N.prototype._MAX_TRACE_ENTRIES=100,N.prototype.connect=function(e){var t=this._traceMask(e,"password");if(this._trace("Client.connect",t,this.socket,this.connected),this.connected)throw new Error(S(b.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(S(b.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=e,this._reconnectInterval=1,this._reconnecting=!1,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},N.prototype.subscribe=function(e,t){if(this._trace("Client.subscribe",e,t),!this.connected)throw new Error(S(b.INVALID_STATE,["not connected"]));var n=new A(f);n.topics=e.constructor===Array?e:[e],void 0===t.qos&&(t.qos=0),n.requestedQos=[];for(var r=0;r<n.topics.length;r++)n.requestedQos[r]=t.qos;t.onSuccess&&(n.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(n.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e,errorMessage:S(e)})}),t.timeout&&(n.timeOut=new L(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.SUBSCRIBE_TIMEOUT.code,errorMessage:S(b.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},N.prototype.unsubscribe=function(e,t){if(this._trace("Client.unsubscribe",e,t),!this.connected)throw new Error(S(b.INVALID_STATE,["not connected"]));var n=new A(p);n.topics=e.constructor===Array?e:[e],t.onSuccess&&(n.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(n.timeOut=new L(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.UNSUBSCRIBE_TIMEOUT.code,errorMessage:S(b.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},N.prototype.send=function(e){this._trace("Client.send",e);var t=new A(o);if(t.payloadMessage=e,this.connected)e.qos>0?this._requires_ack(t):this.onMessageDelivered&&(this._notify_msg_sent[t]=this.onMessageDelivered(t.payloadMessage)),this._schedule_message(t);else{if(!this._reconnecting||!this.disconnectedPublishing)throw new Error(S(b.INVALID_STATE,["not connected"]));if(Object.keys(this._sentMessages).length+this._buffered_msg_queue.length>this.disconnectedBufferSize)throw new Error(S(b.BUFFER_FULL,[this.disconnectedBufferSize]));e.qos>0?this._requires_ack(t):(t.sequence=++this._sequence,this._buffered_msg_queue.unshift(t))}},N.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(S(b.INVALID_STATE,["not connecting or connected"]));var e=new A(g);this._notify_msg_sent[e]=m(this._disconnected,this),this._schedule_message(e)},N.prototype.getTraceLog=function(){if(null!==this._traceBuffer){for(var e in this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length),this._sentMessages)this._trace("_sentMessages ",e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace("_receivedMessages ",e,this._receivedMessages[e]);return this._traceBuffer}},N.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,"@VERSION@-@BUILDLEVEL@")},N.prototype.stopTrace=function(){delete this._traceBuffer},N.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(":");t[0]="wss",e=t.join(":")}this._wsuri=e,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(e,["mqttv3.1"]):this.socket=new WebSocket(e,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=m(this._on_socket_open,this),this.socket.onmessage=m(this._on_socket_message,this),this.socket.onerror=m(this._on_socket_error,this),this.socket.onclose=m(this._on_socket_close,this),this.sendPinger=new k(this,this.connectOptions.keepAliveInterval),this.receivePinger=new k(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new L(this,this.connectOptions.timeout,this._disconnected,[b.CONNECT_TIMEOUT.code,S(b.CONNECT_TIMEOUT)])},N.prototype._schedule_message=function(e){this._msg_queue.unshift(e),this.connected&&this._process_queue()},N.prototype.store=function(e,t){var r={type:t.type,messageIdentifier:t.messageIdentifier,version:1};if(t.type!==o)throw Error(S(b.INVALID_STORED_DATA,[e+this._localKey+t.messageIdentifier,r]));t.pubRecReceived&&(r.pubRecReceived=!0),r.payloadMessage={};for(var i="",s=t.payloadMessage.payloadBytes,a=0;a<s.length;a++)s[a]<=15?i=i+"0"+s[a].toString(16):i+=s[a].toString(16);r.payloadMessage.payloadHex=i,r.payloadMessage.qos=t.payloadMessage.qos,r.payloadMessage.destinationName=t.payloadMessage.destinationName,t.payloadMessage.duplicate&&(r.payloadMessage.duplicate=!0),t.payloadMessage.retained&&(r.payloadMessage.retained=!0),0===e.indexOf("Sent:")&&(void 0===t.sequence&&(t.sequence=++this._sequence),r.sequence=t.sequence),n.setItem(e+this._localKey+t.messageIdentifier,JSON.stringify(r))},N.prototype.restore=function(e){var t=n.getItem(e),r=JSON.parse(t),i=new A(r.type,r);if(r.type!==o)throw Error(S(b.INVALID_STORED_DATA,[e,t]));for(var s=r.payloadMessage.payloadHex,a=new ArrayBuffer(s.length/2),u=new Uint8Array(a),c=0;s.length>=2;){var f=parseInt(s.substring(0,2),16);s=s.substring(2,s.length),u[c++]=f}var l=new R(u);l.qos=r.payloadMessage.qos,l.destinationName=r.payloadMessage.destinationName,r.payloadMessage.duplicate&&(l.duplicate=!0),r.payloadMessage.retained&&(l.retained=!0),i.payloadMessage=l,0===e.indexOf("Sent:"+this._localKey)?(i.payloadMessage.duplicate=!0,this._sentMessages[i.messageIdentifier]=i):0===e.indexOf("Received:"+this._localKey)&&(this._receivedMessages[i.messageIdentifier]=i)},N.prototype._process_queue=function(){for(var e=null;e=this._msg_queue.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},N.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error("Too many messages:"+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===o&&this.store("Sent:",e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},N.prototype._on_socket_open=function(){var e=new A(r,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},N.prototype._on_socket_message=function(e){this._trace("Client._on_socket_message",e.data);for(var t=this._deframeMessages(e.data),n=0;n<t.length;n+=1)this._handleMessage(t[n])},N.prototype._deframeMessages=function(e){var t=new Uint8Array(e),n=[];if(this.receiveBuffer){var r=new Uint8Array(this.receiveBuffer.length+t.length);r.set(this.receiveBuffer),r.set(t,this.receiveBuffer.length),t=r,delete this.receiveBuffer}try{for(var i=0;i<t.length;){var o=C(t,i),s=o[0];if(i=o[1],null===s)break;n.push(s)}i<t.length&&(this.receiveBuffer=t.subarray(i))}catch(u){var a="undefined"==u.hasOwnProperty("stack")?u.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,S(b.INTERNAL_ERROR,[u.message,a]))}return n},N.prototype._handleMessage=function(e){this._trace("Client._handleMessage",e);try{switch(e.type){case i:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var t in this._sentMessages){var r=this._sentMessages[t];n.removeItem("Sent:"+this._localKey+r.messageIdentifier)}for(var t in this._sentMessages={},this._receivedMessages){var f=this._receivedMessages[t];n.removeItem("Received:"+this._localKey+f.messageIdentifier)}this._receivedMessages={}}if(0!==e.returnCode){this._disconnected(b.CONNACK_RETURNCODE.code,S(b.CONNACK_RETURNCODE,[e.returnCode,w[e.returnCode]]));break}this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);var p=[];for(var d in this._sentMessages)this._sentMessages.hasOwnProperty(d)&&p.push(this._sentMessages[d]);if(this._buffered_msg_queue.length>0)for(var g=null;g=this._buffered_msg_queue.pop();)p.push(g),this.onMessageDelivered&&(this._notify_msg_sent[g]=this.onMessageDelivered(g.payloadMessage));p=p.sort((function(e,t){return e.sequence-t.sequence}));for(var y=0,m=p.length;y<m;y++)if((r=p[y]).type==o&&r.pubRecReceived){var _=new A(u,{messageIdentifier:r.messageIdentifier});this._schedule_message(_)}else this._schedule_message(r);this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var E=!1;this._reconnecting&&(E=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(E,this._wsuri),this._process_queue();break;case o:this._receivePublish(e);break;case s:(r=this._sentMessages[e.messageIdentifier])&&(delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(r.payloadMessage));break;case a:(r=this._sentMessages[e.messageIdentifier])&&(r.pubRecReceived=!0,_=new A(u,{messageIdentifier:e.messageIdentifier}),this.store("Sent:",r),this._schedule_message(_));break;case u:f=this._receivedMessages[e.messageIdentifier],n.removeItem("Received:"+this._localKey+e.messageIdentifier),f&&(this._receiveMessage(f),delete this._receivedMessages[e.messageIdentifier]);var C=new A(c,{messageIdentifier:e.messageIdentifier});this._schedule_message(C);break;case c:r=this._sentMessages[e.messageIdentifier],delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(r.payloadMessage);break;case l:(r=this._sentMessages[e.messageIdentifier])&&(r.timeOut&&r.timeOut.cancel(),128===e.returnCode[0]?r.onFailure&&r.onFailure(e.returnCode):r.onSuccess&&r.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case h:(r=this._sentMessages[e.messageIdentifier])&&(r.timeOut&&r.timeOut.cancel(),r.callback&&r.callback(),delete this._sentMessages[e.messageIdentifier]);break;case v:this.sendPinger.reset();break;default:this._disconnected(b.INVALID_MQTT_MESSAGE_TYPE.code,S(b.INVALID_MQTT_MESSAGE_TYPE,[e.type]))}}catch(T){var I="undefined"==T.hasOwnProperty("stack")?T.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,S(b.INTERNAL_ERROR,[T.message,I]))}},N.prototype._on_socket_error=function(e){this._reconnecting||this._disconnected(b.SOCKET_ERROR.code,S(b.SOCKET_ERROR,[e.data]))},N.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(b.SOCKET_CLOSE.code,S(b.SOCKET_CLOSE))},N.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,"password");this._trace("Client._socket_send",t)}else this._trace("Client._socket_send",e);this.socket.send(e.encode()),this.sendPinger.reset()},N.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(e);break;case 1:var t=new A(s,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store("Received:",e);var n=new A(a,{messageIdentifier:e.messageIdentifier});this._schedule_message(n);break;default:throw Error("Invaild qos="+e.payloadMessage.qos)}},N.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},N.prototype._connected=function(e,t){this.onConnected&&this.onConnected(e,t)},N.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=2*this._reconnectInterval),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},N.prototype._disconnected=function(e,t){if(this._trace("Client._disconnected",e,t),void 0!==e&&this._reconnecting)this._reconnectTimeout=new L(this,this._reconnectInterval,this._reconnect);else if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===e&&(e=b.OK.code,t=S(b.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),e!==b.OK.code&&this.connectOptions.reconnect)return this._reconnectInterval=1,void this._reconnect()}else 4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t})},N.prototype._trace=function(){if(this.traceFunction){var e=Array.prototype.slice.call(arguments);for(var t in e)void 0!==e[t]&&e.splice(t,1,JSON.stringify(e[t]));var n=e.join("");this.traceFunction({severity:"Debug",message:n})}if(null!==this._traceBuffer){t=0;for(var r=arguments.length;t<r;t++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===t||void 0===arguments[t]?this._traceBuffer.push(arguments[t]):this._traceBuffer.push("  "+JSON.stringify(arguments[t]))}},N.prototype._traceMask=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=r==t?"******":e[r]);return n};var R=function(e){var t,n;if(!("string"==typeof e||e instanceof ArrayBuffer||ArrayBuffer.isView(e)&&!(e instanceof DataView)))throw S(b.INVALID_ARGUMENT,[e,"newPayload"]);t=e;var r=0,i=!1,o=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return"string"==typeof t?t:D(t,0,t.length)}},payloadBytes:{enumerable:!0,get:function(){if("string"==typeof t){var e=new ArrayBuffer(P(t)),n=new Uint8Array(e);return x(t,n,0),n}return t}},destinationName:{enumerable:!0,get:function(){return n},set:function(e){if("string"!=typeof e)throw new Error(S(b.INVALID_ARGUMENT,[e,"newDestinationName"]));n=e}},qos:{enumerable:!0,get:function(){return r},set:function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid argument:"+e);r=e}},retained:{enumerable:!0,get:function(){return i},set:function(e){if("boolean"!=typeof e)throw new Error(S(b.INVALID_ARGUMENT,[e,"newRetained"]));i=e}},topic:{enumerable:!0,get:function(){return n},set:function(e){n=e}},duplicate:{enumerable:!0,get:function(){return o},set:function(e){o=e}}})};return{Client:function(e,t,n,r){var i;if("string"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"host"]));if(2==arguments.length){r=t;var o=(i=e).match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(!o)throw new Error(S(b.INVALID_ARGUMENT,[e,"host"]));e=o[4]||o[2],t=parseInt(o[7]),n=o[8]}else{if(3==arguments.length&&(r=n,n="/mqtt"),"number"!=typeof t||t<0)throw new Error(S(b.INVALID_TYPE,[typeof t,"port"]));if("string"!=typeof n)throw new Error(S(b.INVALID_TYPE,[typeof n,"path"]));var s=-1!==e.indexOf(":")&&"["!==e.slice(0,1)&&"]"!==e.slice(-1);i="ws://"+(s?"["+e+"]":e)+":"+t+n}for(var a=0,u=0;u<r.length;u++){var c=r.charCodeAt(u);55296<=c&&c<=56319&&u++,a++}if("string"!=typeof r||a>65535)throw new Error(S(b.INVALID_ARGUMENT,[r,"clientId"]));var f=new N(i,e,t,n,r);Object.defineProperties(this,{host:{get:function(){return e},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},port:{get:function(){return t},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},path:{get:function(){return n},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},uri:{get:function(){return i},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return f.clientId},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return f.onConnected},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onConnected"]));f.onConnected=e}},disconnectedPublishing:{get:function(){return f.disconnectedPublishing},set:function(e){f.disconnectedPublishing=e}},disconnectedBufferSize:{get:function(){return f.disconnectedBufferSize},set:function(e){f.disconnectedBufferSize=e}},onConnectionLost:{get:function(){return f.onConnectionLost},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onConnectionLost"]));f.onConnectionLost=e}},onMessageDelivered:{get:function(){return f.onMessageDelivered},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onMessageDelivered"]));f.onMessageDelivered=e}},onMessageArrived:{get:function(){return f.onMessageArrived},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onMessageArrived"]));f.onMessageArrived=e}},trace:{get:function(){return f.traceFunction},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onTrace"]));f.traceFunction=e}}}),this.connect=function(e){if(y(e=e||{},{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),e.mqttVersion>4||e.mqttVersion<3)throw new Error(S(b.INVALID_ARGUMENT,[e.mqttVersion,"connectOptions.mqttVersion"]));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0!==e.password&&void 0===e.userName)throw new Error(S(b.INVALID_ARGUMENT,[e.password,"connectOptions.password"]));if(e.willMessage){if(!(e.willMessage instanceof R))throw new Error(S(b.INVALID_TYPE,[e.willMessage,"connectOptions.willMessage"]));if(e.willMessage.stringPayload=null,void 0===e.willMessage.destinationName)throw new Error(S(b.INVALID_TYPE,[typeof e.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(void 0===e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(S(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));if(e.hosts.length<1)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));for(var t=!1,r=0;r<e.hosts.length;r++){if("string"!=typeof e.hosts[r])throw new Error(S(b.INVALID_TYPE,[typeof e.hosts[r],"connectOptions.hosts["+r+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(e.hosts[r])){if(0===r)t=!0;else if(!t)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}else if(t)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}if(t)e.uris=e.hosts;else{if(!e.ports)throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(!(e.ports instanceof Array))throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(e.hosts.length!==e.ports.length)throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));for(e.uris=[],r=0;r<e.hosts.length;r++){if("number"!=typeof e.ports[r]||e.ports[r]<0)throw new Error(S(b.INVALID_TYPE,[typeof e.ports[r],"connectOptions.ports["+r+"]"]));var o=e.hosts[r],s=e.ports[r],a=-1!==o.indexOf(":");i="ws://"+(a?"["+o+"]":o)+":"+s+n,e.uris.push(i)}}}f.connect(e)},this.subscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(y(t=t||{},{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(void 0!==t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(S(b.INVALID_ARGUMENT,[t.qos,"subscribeOptions.qos"]));f.subscribe(e,t)},this.unsubscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(y(t=t||{},{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");f.unsubscribe(e,t)},this.send=function(e,t,n,r){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof R)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(i=e).destinationName)throw new Error(S(b.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));f.send(i)}else(i=new R(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),f.send(i)},this.publish=function(e,t,n,r){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof R)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(i=e).destinationName)throw new Error(S(b.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));f.send(i)}else(i=new R(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),f.send(i)},this.disconnect=function(){f.disconnect()},this.getTraceLog=function(){return f.getTraceLog()},this.startTrace=function(){f.startTrace()},this.stopTrace=function(){f.stopTrace()},this.isConnected=function(){return f.connected}},Message:R}}(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});return e},e.exports=r()},39024:function(e){var t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function i(e){return e&&-1!==e.indexOf(".")?("."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e):e}e.exports=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o=Object.assign({},r,o),!e||"string"!=typeof e)return e;var s=e.trim();if(void 0!==o.skipLike&&o.skipLike.test(s))return e;if(o.hex&&t.test(s))return Number.parseInt(s,16);var a=n.exec(s);if(a){var u=a[1],c=a[2],f=i(a[3]),l=a[4]||a[6];if(!o.leadingZeros&&c.length>0&&u&&"."!==s[2])return e;if(!o.leadingZeros&&c.length>0&&!u&&"."!==s[1])return e;var p=Number(s),h=""+p;return-1!==h.search(/[eE]/)||l?o.eNotation?p:e:-1!==s.indexOf(".")?"0"===h&&""===f||h===f||u&&h==="-"+f?p:e:c?f===h||u+f===h?p:e:s===h||s===u+h?p:e}return e}},38499:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return s},__decorate:function(){return a},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return f},__generator:function(){return l},__createBinding:function(){return p},__exportStar:function(){return h},__values:function(){return d},__read:function(){return v},__spread:function(){return g},__spreadArrays:function(){return y},__await:function(){return m},__asyncGenerator:function(){return b},__asyncDelegator:function(){return w},__asyncValues:function(){return S},__makeTemplateObject:function(){return _},__importStar:function(){return E},__importDefault:function(){return A},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return I}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):f(o[0][2],n)}catch(r){f(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},11566:function(){},41288:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,u=36,c=/^xn--/,f=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,d=String.fromCharCode;function v(e){throw RangeError(p[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function y(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(l,".")).split("."),t).join(".")}function m(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=d(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=u)e=h(e/35);return h(r+36*e/(e+38))}function _(e){var t,n,r,i,o,s,c,f,l,p,d,g=[],y=e.length,m=0,w=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=m,s=1,c=u;i>=y&&v("invalid-input"),((f=(d=e.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:u)>=u||f>h((a-m)/s))&&v("overflow"),m+=f*s,!(f<(l=c<=_?1:c>=_+26?26:c-_));c+=u)s>h(a/(p=u-l))&&v("overflow"),s*=p;_=S(m-o,t=g.length+1,0==o),h(m/t)>a-w&&v("overflow"),w+=h(m/t),m%=t,g.splice(m++,0,w)}return b(g)}function E(e){var t,n,r,i,o,s,c,f,l,p,g,y,b,_,E,A=[];for(y=(e=m(e)).length,t=128,n=0,o=72,s=0;s<y;++s)(g=e[s])<128&&A.push(d(g));for(r=i=A.length,i&&A.push("-");r<y;){for(c=a,s=0;s<y;++s)(g=e[s])>=t&&g<c&&(c=g);for(c-t>h((a-n)/(b=r+1))&&v("overflow"),n+=(c-t)*b,t=c,s=0;s<y;++s)if((g=e[s])<t&&++n>a&&v("overflow"),g==t){for(f=n,l=u;!(f<(p=l<=o?1:l>=o+26?26:l-o));l+=u)E=f-p,_=u-p,A.push(d(w(p+E%_,0))),f=h(E/_);A.push(d(w(f,0))),o=S(n,b,r==i),n=0,++r}++n,++t}return A.join("")}s={version:"1.3.2",ucs2:{decode:m,encode:b},decode:_,encode:E,toASCII:function(e){return y(e,(function(e){return f.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?_(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},87879:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(n);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var f,l,p,h,d=e[c].replace(s,"%20"),v=d.indexOf(r);v>=0?(f=d.substr(0,v),l=d.substr(v+1)):(f=d,l=""),p=decodeURIComponent(f),h=decodeURIComponent(l),t(o,p)?Array.isArray(o[p])?o[p].push(h):o[p]=[o[p],h]:o[p]=h}return o}},17684:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},69505:function(e,t,n){"use strict";t.decode=t.parse=n(87879),t.encode=t.stringify=n(17684)},1480:function(e,t,n){"use strict";var r=n(41288),i=n(31424);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b,t.WU=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)};var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),l=["%","/","?",";","#"].concat(f),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(69505);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=s.exec(b);if(S){var _=(S=S[0]).toLowerCase();this.protocol=_,b=b.substr(S.length)}if(n||S||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||S&&g[S]||(b=b.substr(2),this.slashes=!0)}if(!g[S]&&(E||S&&!y[S])){for(var A,C,I=-1,T=0;T<p.length;T++){-1!==(O=b.indexOf(p[T]))&&(-1===I||O<I)&&(I=O)}-1!==(C=-1===I?b.lastIndexOf("@"):b.lastIndexOf("@",I))&&(A=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(A)),I=-1;for(T=0;T<l.length;T++){var O;-1!==(O=b.indexOf(l[T]))&&(-1===I||O<I)&&(I=O)}-1===I&&(I=b.length),this.host=b.slice(0,I),b=b.slice(I),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var x=this.hostname.split(/\./),D=(T=0,x.length);T<D;T++){var k=x[T];if(k&&!k.match(h)){for(var L="",N=0,R=k.length;N<R;N++)k.charCodeAt(N)>127?L+="x":L+=k[N];if(!L.match(h)){var M=x.slice(0,T),U=x.slice(T+1),F=k.match(d);F&&(M.push(F[1]),U.unshift(F[2])),U.length&&(b="/"+U.join(".")+b),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[_])for(T=0,D=f.length;T<D;T++){var z=f[T];if(-1!==b.indexOf(z)){var q=encodeURIComponent(z);q===z&&(q=escape(z)),b=b.split(z).join(q)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var K=b.indexOf("?");if(-1!==K?(this.search=b.substr(K),this.query=b.substr(K+1),t&&(this.query=m.parse(this.query)),b=b.slice(0,K)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var V=this.search||"";this.path=j+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var f=u[c];"protocol"!==f&&(n[f]=e[f])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var l=Object.keys(e),p=0;p<l.length;p++){var h=l[p];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",m=n.search||"";n.path=v+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=w||b||n.host&&e.pathname,_=S,E=n.pathname&&n.pathname.split("/")||[],A=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(A&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),S=S&&(""===d[0]||""===E[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(A)n.hostname=n.host=E.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=E.slice(-1)[0],I=(n.host||e.host||E.length>1)&&("."===C||".."===C)||""===C,T=0,O=E.length;O>=0;O--)"."===(C=E[O])?E.splice(O,1):".."===C?(E.splice(O,1),T++):T&&(E.splice(O,1),T--);if(!S&&!_)for(;T--;T)E.unshift("..");!S||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),I&&"/"!==E.join("/").substr(-1)&&E.push("");var P,x=""===E[0]||E[0]&&"/"===E[0].charAt(0);A&&(n.hostname=n.host=x?"":E.length?E.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(S=S||n.host&&E.length)&&!x&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},31424:function(e){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},44213:function(e,t,n){"use strict";var r=n(90969),i=n.n(r)();t.Z=i},90969:function(e,t,n){e.exports=n(73564).Observable},73564:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.Observable=void 0;var o=function(){return"function"==typeof Symbol},s=function(e){return o()&&Boolean(Symbol[e])},a=function(e){return s(e)?Symbol[e]:"@@"+e};o()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var u=a("iterator"),c=a("observable"),f=a("species");function l(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function p(e){var t=e.constructor;return void 0!==t&&null===(t=t[f])&&(t=void 0),void 0!==t?t:_}function h(e){return e instanceof _}function d(e){d.log?d.log(e):setTimeout((function(){throw e}))}function v(e){Promise.resolve().then((function(){try{e()}catch(t){d(t)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=l(t,"unsubscribe");n&&n.call(t)}}catch(r){d(r)}}function y(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function m(e,t,n){e._state="running";var r=e._observer;try{var i=l(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(y(e),!i)throw n;i.call(r,n);break;case"complete":y(e),i&&i.call(r)}}catch(o){d(o)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void v((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(m(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void m(e,t,n);e._queue.push({type:t,value:n})}}var w=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new S(this);try{this._cleanup=r.call(void 0,i)}catch(o){i.error(o)}"initializing"===this._state&&(this._state="ready")}return i(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(y(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),S=function(){function e(t){n(this,e),this._subscription=t}return i(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),_=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return i(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new w(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this),r=arguments.length>1,i=!1,o=arguments[1],s=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{s=e(s,t)}catch(a){return n.error(a)}else s=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=p(this);return new i((function(t){var r,o=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(a){return r.error(a)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){r.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=l(t,c);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return h(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(s("iterator")&&(r=l(t,u)))return new n((function(e){v((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var s,a=r.call(t)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;if(e.next(u),e.closed)return}}catch(c){i=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){v((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){v((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:f,get:function(){return this}}]),e}();t.Observable=_,o()&&Object.defineProperty(_,Symbol("extensions"),{value:{symbol:c,hostReportError:d},configurable:!0})},18061:function(e,t,n){"use strict";var r,i,o=n(54049);function s(e,t,n){if(e._observer)a(e._observer,t,n);else if(e._observers){var r=[];e._observers.forEach((function(e){r.push(e)})),r.forEach((function(e){a(e,t,n)}))}}function a(e,t,n){if(!e.closed)switch(t){case"next":return e.next(n);case"error":return e.error(n);case"complete":return e.complete(n)}}function u(e){return e._observer||e._observers&&e._observers.size>0}function c(e){var t=this;this._observer=null,this._observers=null,this._observable=new o((function(n){return function(e,t){!u(e)&&t&&t.start&&t.start()}(t,e),function(e,t){e._observers?e._observers.add(t):e._observer?(e._observers=new Set,e._observers.add(e._observer),e._observers.add(t),e._observer=null):e._observer=t}(t,n),function(){!function(e,t){e._observers?e._observers.delete(t):e._observer===t&&(e._observer=null)}(t,n),function(e,t){!u(e)&&t&&t.pause&&t.pause()}(t,e)}}))}r=c.prototype,i={get observable(){return this._observable},get observed(){return u(this)},next:function(e){s(this,"next",e)},error:function(e){s(this,"error",e)},complete:function(e){s(this,"complete",e)}},Object.keys(i).forEach((function(e){var t=Object.getOwnPropertyDescriptor(i,e);t.enumerable=!1,Object.defineProperty(r,e,t)})),e.exports=c},54049:function(e,t,n){e.exports=n(39800).Observable},39800:function(e,t,n){"use strict";e=n.nmd(e),function(e,t){function n(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function i(e){setTimeout((function(){throw e}))}function o(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function s(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:d}function a(e,t){Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)}))}function u(e){var t=e._cleanup;if(t){e._cleanup=void 0;try{t()}catch(n){i(n)}}}function c(e){return void 0===e._observer}function f(e){c(e)||(e._observer=void 0,u(e))}function l(e){return function(){e.unsubscribe()}}function p(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;try{var n=o(e,"start");n&&n.call(e,this)}catch(s){i(s)}if(!c(this)){e=new h(this);try{var r=t.call(void 0,e);if(null!=r){if("function"==typeof r.unsubscribe)r=l(r);else if("function"!=typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(s){return void e.error(s)}c(this)&&u(this)}}function h(e){this._subscription=e}function d(e){if(!(this instanceof d))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),a(p.prototype={},{get closed(){return c(this)},unsubscribe:function(){f(this)}}),a(h.prototype={},{get closed(){return c(this._subscription)},next:function(e){var t=this._subscription;if(!c(t)){var n=t._observer;try{var r=o(n,"next");r&&r.call(n,e)}catch(s){i(s)}}},error:function(e){var t=this._subscription;if(c(t))i(e);else{var n=t._observer;t._observer=void 0;try{var r=o(n,"error");if(!r)throw e;r.call(n,e)}catch(s){i(s)}u(t)}},complete:function(){var e=this._subscription;if(!c(e)){var t=e._observer;e._observer=void 0;try{var n=o(t,"complete");n&&n.call(t)}catch(r){i(r)}u(e)}}}),a(d.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof e?e={next:e,error:t[0],complete:t[1]}:"object"==typeof e&&null!==e||(e={}),new p(e,this._subscriber)},forEach:function(e){var t=this;return new Promise((function(n,r){if("function"!=typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{e(t)}catch(i){r(i),n.unsubscribe()}},error:r,complete:n})}))},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(s(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(r){return n.error(r)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(s(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=s(this),r=arguments.length>1,i=!1,o=arguments[1];return new n((function(n){return t.subscribe({next:function(t){if(!n.closed){var s=!i;if(i=!0,!s||r)try{o=e(o,t)}catch(a){return n.error(a)}else o=t}},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))}}),Object.defineProperty(d.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),a(d,{from:function(e){var t="function"==typeof this?this:d;if(null==e)throw new TypeError(e+" is not an object");var i=o(e,r("observable"));if(i){var s=i.call(e);if(Object(s)!==s)throw new TypeError(s+" is not an object");return s.constructor===t?s:new t((function(e){return s.subscribe(e)}))}if(n("iterator")&&(i=o(e,r("iterator"))))return new t((function(t){for(var n,r=i.call(e)[Symbol.iterator]();!(n=r.next()).done;){var o=n.value;if(t.next(o),t.closed)return}t.complete()}));if(Array.isArray(e))return new t((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}));throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);return new("function"==typeof this?this:d)((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}))}}),Object.defineProperty(d,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(d,"extensions",{value:{observableSymbol:r("observable"),setHostReportError:function(e){i=e}}}),e.Observable=d}(t)},19662:function(e,t,n){var r=n(17854),i=n(60614),o=n(66330),s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not a function")}},19670:function(e,t,n){var r=n(17854),i=n(70111),o=r.String,s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not an object")}},41318:function(e,t,n){var r=n(45656),i=n(51400),o=n(26244),s=function(e){return function(t,n,s){var a,u=r(t),c=o(u),f=i(s,c);if(e&&n!=n){for(;c>f;)if((a=u[f++])!=a)return!0}else for(;c>f;f++)if((e||f in u)&&u[f]===n)return e||f||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},84326:function(e,t,n){var r=n(1702),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},70648:function(e,t,n){var r=n(17854),i=n(51694),o=n(60614),s=n(84326),a=n(5112)("toStringTag"),u=r.Object,c="Arguments"==s(function(){return arguments}());e.exports=i?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=u(e),a))?n:c?s(t):"Object"==(r=s(t))&&o(t.callee)?"Arguments":r}},99920:function(e,t,n){var r=n(92597),i=n(53887),o=n(31236),s=n(3070);e.exports=function(e,t,n){for(var a=i(t),u=s.f,c=o.f,f=0;f<a.length;f++){var l=a[f];r(e,l)||n&&r(n,l)||u(e,l,c(t,l))}}},68880:function(e,t,n){var r=n(19781),i=n(3070),o=n(79114);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},79114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},86135:function(e,t,n){"use strict";var r=n(34948),i=n(3070),o=n(79114);e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},19781:function(e,t,n){var r=n(47293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},80317:function(e,t,n){var r=n(17854),i=n(70111),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},88113:function(e,t,n){var r=n(35005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,i,o=n(17854),s=n(88113),a=o.process,u=o.Deno,c=a&&a.versions||u&&u.version,f=c&&c.v8;f&&(i=(r=f.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},80748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82109:function(e,t,n){var r=n(17854),i=n(31236).f,o=n(68880),s=n(31320),a=n(83505),u=n(99920),c=n(54705);e.exports=function(e,t){var n,f,l,p,h,d=e.target,v=e.global,g=e.stat;if(n=v?r:g?r[d]||a(d,{}):(r[d]||{}).prototype)for(f in t){if(p=t[f],l=e.noTargetGet?(h=i(n,f))&&h.value:n[f],!c(v?f:d+(g?".":"#")+f,e.forced)&&void 0!==l){if(typeof p==typeof l)continue;u(p,l)}(e.sham||l&&l.sham)&&o(p,"sham",!0),s(n,f,p,e)}}},47293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},49974:function(e,t,n){var r=n(1702),i=n(19662),o=n(34374),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},34374:function(e,t,n){var r=n(47293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},46916:function(e,t,n){var r=n(34374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},76530:function(e,t,n){var r=n(19781),i=n(92597),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),u=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},1702:function(e,t,n){var r=n(34374),i=Function.prototype,o=i.bind,s=i.call,a=r&&o.bind(s,s);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},35005:function(e,t,n){var r=n(17854),i=n(60614),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},71246:function(e,t,n){var r=n(70648),i=n(58173),o=n(97497),s=n(5112)("iterator");e.exports=function(e){if(null!=e)return i(e,s)||i(e,"@@iterator")||o[r(e)]}},18554:function(e,t,n){var r=n(17854),i=n(46916),o=n(19662),s=n(19670),a=n(66330),u=n(71246),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(o(n))return s(i(n,e));throw c(a(e)+" is not iterable")}},58173:function(e,t,n){var r=n(19662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},17854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},92597:function(e,t,n){var r=n(1702),i=n(47908),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},3501:function(e){e.exports={}},64664:function(e,t,n){var r=n(19781),i=n(47293),o=n(80317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},68361:function(e,t,n){var r=n(17854),i=n(1702),o=n(47293),s=n(84326),a=r.Object,u=i("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?u(e,""):a(e)}:a},42788:function(e,t,n){var r=n(1702),i=n(60614),o=n(5465),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},29909:function(e,t,n){var r,i,o,s=n(68536),a=n(17854),u=n(1702),c=n(70111),f=n(68880),l=n(92597),p=n(5465),h=n(6200),d=n(3501),v="Object already initialized",g=a.TypeError,y=a.WeakMap;if(s||p.state){var m=p.state||(p.state=new y),b=u(m.get),w=u(m.has),S=u(m.set);r=function(e,t){if(w(m,e))throw new g(v);return t.facade=e,S(m,e,t),t},i=function(e){return b(m,e)||{}},o=function(e){return w(m,e)}}else{var _=h("state");d[_]=!0,r=function(e,t){if(l(e,_))throw new g(v);return t.facade=e,f(e,_,t),t},i=function(e){return l(e,_)?e[_]:{}},o=function(e){return l(e,_)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},97659:function(e,t,n){var r=n(5112),i=n(97497),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},60614:function(e){e.exports=function(e){return"function"==typeof e}},54705:function(e,t,n){var r=n(47293),i=n(60614),o=/#|\.prototype\./,s=function(e,t){var n=u[a(e)];return n==f||n!=c&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",f=s.POLYFILL="P";e.exports=s},70111:function(e,t,n){var r=n(60614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},31913:function(e){e.exports=!1},52190:function(e,t,n){var r=n(17854),i=n(35005),o=n(60614),s=n(47976),a=n(43307),u=r.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&s(t.prototype,u(e))}},20408:function(e,t,n){var r=n(17854),i=n(49974),o=n(46916),s=n(19670),a=n(66330),u=n(97659),c=n(26244),f=n(47976),l=n(18554),p=n(71246),h=n(99212),d=r.TypeError,v=function(e,t){this.stopped=e,this.result=t},g=v.prototype;e.exports=function(e,t,n){var r,y,m,b,w,S,_,E=n&&n.that,A=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_ITERATOR),I=!(!n||!n.INTERRUPTED),T=i(t,E),O=function(e){return r&&h(r,"normal",e),new v(!0,e)},P=function(e){return A?(s(e),I?T(e[0],e[1],O):T(e[0],e[1])):I?T(e,O):T(e)};if(C)r=e;else{if(!(y=p(e)))throw d(a(e)+" is not iterable");if(u(y)){for(m=0,b=c(e);b>m;m++)if((w=P(e[m]))&&f(g,w))return w;return new v(!1)}r=l(e,y)}for(S=r.next;!(_=o(S,r)).done;){try{w=P(_.value)}catch(x){h(r,"throw",x)}if("object"==typeof w&&w&&f(g,w))return w}return new v(!1)}},99212:function(e,t,n){var r=n(46916),i=n(19670),o=n(58173);e.exports=function(e,t,n){var s,a;i(e);try{if(!(s=o(e,"return"))){if("throw"===t)throw n;return n}s=r(s,e)}catch(u){a=!0,s=u}if("throw"===t)throw n;if(a)throw s;return i(s),n}},97497:function(e){e.exports={}},26244:function(e,t,n){var r=n(17466);e.exports=function(e){return r(e.length)}},30133:function(e,t,n){var r=n(7392),i=n(47293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},68536:function(e,t,n){var r=n(17854),i=n(60614),o=n(42788),s=r.WeakMap;e.exports=i(s)&&/native code/.test(o(s))},3070:function(e,t,n){var r=n(17854),i=n(19781),o=n(64664),s=n(3353),a=n(19670),u=n(34948),c=r.TypeError,f=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p="enumerable",h="configurable",d="writable";t.f=i?s?function(e,t,n){if(a(e),t=u(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&d in n&&!n.writable){var r=l(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:h in n?n.configurable:r.configurable,enumerable:p in n?n.enumerable:r.enumerable,writable:!1})}return f(e,t,n)}:f:function(e,t,n){if(a(e),t=u(t),a(n),o)try{return f(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},31236:function(e,t,n){var r=n(19781),i=n(46916),o=n(55296),s=n(79114),a=n(45656),u=n(34948),c=n(92597),f=n(64664),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=u(t),f)try{return l(e,t)}catch(n){}if(c(e,t))return s(!i(o.f,e,t),e[t])}},8006:function(e,t,n){var r=n(16324),i=n(80748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},25181:function(e,t){t.f=Object.getOwnPropertySymbols},47976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},16324:function(e,t,n){var r=n(1702),i=n(92597),o=n(45656),s=n(41318).indexOf,a=n(3501),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,f=[];for(n in r)!i(a,n)&&i(r,n)&&u(f,n);for(;t.length>c;)i(r,n=t[c++])&&(~s(f,n)||u(f,n));return f}},55296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},92140:function(e,t,n){var r=n(17854),i=n(46916),o=n(60614),s=n(70111),a=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!s(r=i(n,e)))return r;if(o(n=e.valueOf)&&!s(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!s(r=i(n,e)))return r;throw a("Can't convert object to primitive value")}},53887:function(e,t,n){var r=n(35005),i=n(1702),o=n(8006),s=n(25181),a=n(19670),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?u(t,n(e)):t}},31320:function(e,t,n){var r=n(17854),i=n(60614),o=n(92597),s=n(68880),a=n(83505),u=n(42788),c=n(29909),f=n(76530).CONFIGURABLE,l=c.get,p=c.enforce,h=String(String).split("String");(e.exports=function(e,t,n,u){var c,l=!!u&&!!u.unsafe,d=!!u&&!!u.enumerable,v=!!u&&!!u.noTargetGet,g=u&&void 0!==u.name?u.name:t;i(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||f&&n.name!==g)&&s(n,"name",g),(c=p(n)).source||(c.source=h.join("string"==typeof g?g:""))),e!==r?(l?!v&&e[t]&&(d=!0):delete e[t],d?e[t]=n:s(e,t,n)):d?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return i(this)&&l(this).source||u(this)}))},84488:function(e,t,n){var r=n(17854).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},83505:function(e,t,n){var r=n(17854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6200:function(e,t,n){var r=n(72309),i=n(69711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:function(e,t,n){var r=n(17854),i=n(83505),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},72309:function(e,t,n){var r=n(31913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.0",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"})},76091:function(e,t,n){var r=n(76530).PROPER,i=n(47293),o=n(81361);e.exports=function(e){return i((function(){return!!o[e]()||"​᠎"!=="​᠎"[e]()||r&&o[e].name!==e}))}},53111:function(e,t,n){var r=n(1702),i=n(84488),o=n(41340),s=n(81361),a=r("".replace),u="["+s+"]",c=RegExp("^"+u+u+"*"),f=RegExp(u+u+"*$"),l=function(e){return function(t){var n=o(i(t));return 1&e&&(n=a(n,c,"")),2&e&&(n=a(n,f,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},51400:function(e,t,n){var r=n(19303),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},45656:function(e,t,n){var r=n(68361),i=n(84488);e.exports=function(e){return r(i(e))}},19303:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},17466:function(e,t,n){var r=n(19303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},47908:function(e,t,n){var r=n(17854),i=n(84488),o=r.Object;e.exports=function(e){return o(i(e))}},57593:function(e,t,n){var r=n(17854),i=n(46916),o=n(70111),s=n(52190),a=n(58173),u=n(92140),c=n(5112),f=r.TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||s(e))return e;var n,r=a(e,l);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||s(n))return n;throw f("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},34948:function(e,t,n){var r=n(57593),i=n(52190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},51694:function(e,t,n){var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},41340:function(e,t,n){var r=n(17854),i=n(70648),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},66330:function(e,t,n){var r=n(17854).String;e.exports=function(e){try{return r(e)}catch(t){return"Object"}}},69711:function(e,t,n){var r=n(1702),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},43307:function(e,t,n){var r=n(30133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(19781),i=n(47293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(e,t,n){var r=n(17854),i=n(72309),o=n(92597),s=n(69711),a=n(30133),u=n(43307),c=i("wks"),f=r.Symbol,l=f&&f.for,p=u?f:f&&f.withoutSetter||s;e.exports=function(e){if(!o(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&o(f,e)?c[e]=f[e]:c[e]=u&&l?l(t):p(t)}return c[e]}},81361:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},35837:function(e,t,n){n(82109)({global:!0},{globalThis:n(17854)})},38559:function(e,t,n){var r=n(82109),i=n(20408),o=n(86135);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},55674:function(e,t,n){"use strict";var r=n(82109),i=n(53111).start,o=n(76091)("trimStart"),s=o?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,name:"trimStart",forced:o},{trimStart:s,trimLeft:s})},65743:function(e,t,n){n(35837)},18552:function(e,t,n){var r=n(10852)(n(55639),"DataView");e.exports=r},1989:function(e,t,n){var r=n(51789),i=n(80401),o=n(57667),s=n(21327),a=n(81866);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},38407:function(e,t,n){var r=n(27040),i=n(14125),o=n(82117),s=n(67518),a=n(13399);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},57071:function(e,t,n){var r=n(10852)(n(55639),"Map");e.exports=r},83369:function(e,t,n){var r=n(24785),i=n(11285),o=n(96e3),s=n(49916),a=n(95265);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},53818:function(e,t,n){var r=n(10852)(n(55639),"Promise");e.exports=r},58525:function(e,t,n){var r=n(10852)(n(55639),"Set");e.exports=r},88668:function(e,t,n){var r=n(83369),i=n(90619),o=n(72385);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},46384:function(e,t,n){var r=n(38407),i=n(37465),o=n(63779),s=n(67599),a=n(44758),u=n(34309);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=u,e.exports=c},62705:function(e,t,n){var r=n(55639).Symbol;e.exports=r},11149:function(e,t,n){var r=n(55639).Uint8Array;e.exports=r},70577:function(e,t,n){var r=n(10852)(n(55639),"WeakMap");e.exports=r},34963:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},14636:function(e,t,n){var r=n(22545),i=n(35694),o=n(1469),s=n(44144),a=n(65776),u=n(36719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),f=!n&&i(e),l=!n&&!f&&s(e),p=!n&&!f&&!l&&u(e),h=n||f||l||p,d=h?r(e.length,String):[],v=d.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||l&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,v))||d.push(g);return d}},29932:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},62488:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},82908:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},18470:function(e,t,n){var r=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},97786:function(e,t,n){var r=n(71811),i=n(40327);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},68866:function(e,t,n){var r=n(62488),i=n(1469);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},44239:function(e,t,n){var r=n(62705),i=n(89607),o=n(2333),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},9454:function(e,t,n){var r=n(44239),i=n(37005);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},90939:function(e,t,n){var r=n(2492),i=n(37005);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,s,e,a))}},2492:function(e,t,n){var r=n(46384),i=n(67114),o=n(18351),s=n(16096),a=n(64160),u=n(1469),c=n(44144),f=n(36719),l="[object Arguments]",p="[object Array]",h="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,y){var m=u(e),b=u(t),w=m?p:a(e),S=b?p:a(t),_=(w=w==l?h:w)==h,E=(S=S==l?h:S)==h,A=w==S;if(A&&c(e)){if(!c(t))return!1;m=!0,_=!1}if(A&&!_)return y||(y=new r),m||f(e)?i(e,t,n,v,g,y):o(e,t,w,n,v,g,y);if(!(1&n)){var C=_&&d.call(e,"__wrapped__"),I=E&&d.call(t,"__wrapped__");if(C||I){var T=C?e.value():e,O=I?t.value():t;return y||(y=new r),g(T,O,n,v,y)}}return!!A&&(y||(y=new r),s(e,t,n,v,g,y))}},28458:function(e,t,n){var r=n(23560),i=n(15346),o=n(13218),s=n(80346),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?p:a).test(s(e))}},38749:function(e,t,n){var r=n(44239),i=n(41780),o=n(37005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},280:function(e,t,n){var r=n(25726),i=n(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},22545:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},80531:function(e,t,n){var r=n(62705),i=n(29932),o=n(1469),s=n(33448),a=r?r.prototype:void 0,u=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},7518:function(e){e.exports=function(e){return function(t){return e(t)}}},74757:function(e){e.exports=function(e,t){return e.has(t)}},71811:function(e,t,n){var r=n(1469),i=n(15403),o=n(55514),s=n(79833);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}},14429:function(e,t,n){var r=n(55639)["__core-js_shared__"];e.exports=r},67114:function(e,t,n){var r=n(88668),i=n(82908),o=n(74757);e.exports=function(e,t,n,s,a,u){var c=1&n,f=e.length,l=t.length;if(f!=l&&!(c&&l>f))return!1;var p=u.get(e),h=u.get(t);if(p&&h)return p==t&&h==e;var d=-1,v=!0,g=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++d<f;){var y=e[d],m=t[d];if(s)var b=c?s(m,y,d,t,e,u):s(y,m,d,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(y===e||a(y,e,n,s,u)))return g.push(t)}))){v=!1;break}}else if(y!==m&&!a(y,m,n,s,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},18351:function(e,t,n){var r=n(62705),i=n(11149),o=n(77813),s=n(67114),a=n(68776),u=n(21814),c=r?r.prototype:void 0,f=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,l,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!l(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=a;case"[object Set]":var d=1&r;if(h||(h=u),e.size!=t.size&&!d)return!1;var v=p.get(e);if(v)return v==t;r|=2,p.set(e,t);var g=s(h(e),h(t),r,c,l,p);return p.delete(e),g;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1}},16096:function(e,t,n){var r=n(58234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var u=1&n,c=r(e),f=c.length;if(f!=r(t).length&&!u)return!1;for(var l=f;l--;){var p=c[l];if(!(u?p in t:i.call(t,p)))return!1}var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var v=!0;a.set(e,t),a.set(t,e);for(var g=u;++l<f;){var y=e[p=c[l]],m=t[p];if(o)var b=u?o(m,y,p,t,e,a):o(y,m,p,e,t,a);if(!(void 0===b?y===m||s(y,m,n,o,a):b)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(v=!1)}return a.delete(e),a.delete(t),v}},31957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},58234:function(e,t,n){var r=n(68866),i=n(99551),o=n(3674);e.exports=function(e){return r(e,o,i)}},45050:function(e,t,n){var r=n(37019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},10852:function(e,t,n){var r=n(28458),i=n(47801);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},89607:function(e,t,n){var r=n(62705),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(u){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},99551:function(e,t,n){var r=n(34963),i=n(70479),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=a},64160:function(e,t,n){var r=n(18552),i=n(57071),o=n(53818),s=n(58525),a=n(70577),u=n(44239),c=n(80346),f="[object Map]",l="[object Promise]",p="[object Set]",h="[object WeakMap]",d="[object DataView]",v=c(r),g=c(i),y=c(o),m=c(s),b=c(a),w=u;(r&&w(new r(new ArrayBuffer(1)))!=d||i&&w(new i)!=f||o&&w(o.resolve())!=l||s&&w(new s)!=p||a&&w(new a)!=h)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return d;case g:return f;case y:return l;case m:return p;case b:return h}return t}),e.exports=w},47801:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},51789:function(e,t,n){var r=n(94536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},80401:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:function(e,t,n){var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},21327:function(e,t,n){var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},81866:function(e,t,n){var r=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},65776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},15403:function(e,t,n){var r=n(1469),i=n(33448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},37019:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:function(e,t,n){var r,i=n(14429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},25726:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},27040:function(e){e.exports=function(){this.__data__=[],this.size=0}},14125:function(e,t,n){var r=n(18470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},82117:function(e,t,n){var r=n(18470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},67518:function(e,t,n){var r=n(18470);e.exports=function(e){return r(this.__data__,e)>-1}},13399:function(e,t,n){var r=n(18470);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},24785:function(e,t,n){var r=n(1989),i=n(38407),o=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},11285:function(e,t,n){var r=n(45050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},96e3:function(e,t,n){var r=n(45050);e.exports=function(e){return r(this,e).get(e)}},49916:function(e,t,n){var r=n(45050);e.exports=function(e){return r(this,e).has(e)}},95265:function(e,t,n){var r=n(45050);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},68776:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},24523:function(e,t,n){var r=n(88306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},94536:function(e,t,n){var r=n(10852)(Object,"create");e.exports=r},86916:function(e,t,n){var r=n(5569)(Object.keys,Object);e.exports=r},31167:function(e,t,n){e=n.nmd(e);var r=n(31957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},55639:function(e,t,n){var r=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},90619:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:function(e){e.exports=function(e){return this.__data__.has(e)}},21814:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},37465:function(e,t,n){var r=n(38407);e.exports=function(){this.__data__=new r,this.size=0}},63779:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:function(e){e.exports=function(e){return this.__data__.get(e)}},44758:function(e){e.exports=function(e){return this.__data__.has(e)}},34309:function(e,t,n){var r=n(38407),i=n(57071),o=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},55514:function(e,t,n){var r=n(24523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=s},40327:function(e,t,n){var r=n(33448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},80346:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},77813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},27361:function(e,t,n){var r=n(97786);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},35694:function(e,t,n){var r=n(9454),i=n(37005),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},1469:function(e){var t=Array.isArray;e.exports=t},98612:function(e,t,n){var r=n(23560),i=n(41780);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},44144:function(e,t,n){e=n.nmd(e);var r=n(55639),i=n(95062),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;e.exports=u},41609:function(e,t,n){var r=n(280),i=n(64160),o=n(35694),s=n(1469),a=n(98612),u=n(44144),c=n(25726),f=n(36719),l=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||f(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(l.call(e,n))return!1;return!0}},18446:function(e,t,n){var r=n(90939);e.exports=function(e,t){return r(e,t)}},23560:function(e,t,n){var r=n(44239),i=n(13218);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,t,n){var r=n(44239),i=n(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},36719:function(e,t,n){var r=n(38749),i=n(7518),o=n(31167),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},3674:function(e,t,n){var r=n(14636),i=n(280),o=n(98612);e.exports=function(e){return o(e)?r(e):i(e)}},88306:function(e,t,n){var r=n(83369);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},70479:function(e){e.exports=function(){return[]}},95062:function(e){e.exports=function(){return!1}},79833:function(e,t,n){var r=n(80531);e.exports=function(e){return null==e?"":r(e)}},56249:function(){},42480:function(){},66118:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},35122:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}}]);
//# sourceMappingURL=779-8dbc854832e48449244d.js.map