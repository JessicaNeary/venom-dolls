(self.webpackChunkvenom_dolls=self.webpackChunkvenom_dolls||[]).push([[201],{1819:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r,a="https://js.stripe.com/v3",l=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,c="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",o=null,i=function(e){return null!==o||(o=new Promise((function(t,n){if("undefined"!=typeof window)if(window.Stripe&&e&&console.warn(c),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(a,'"]')),t=0;t<e.length;t++){var n=e[t];if(l.test(n.src))return n}return null}();r&&e?console.warn(c):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(a).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(o){return void n(o)}else t(null)}))),o},s=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.29.0",startTime:t})}(r,n),r},d=!1,m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];d=!0;var a=Date.now();return i(r).then((function(e){return s(e,t,a)}))};m.setLoadParameters=function(e){if(d)throw new Error("You cannot change load parameters after calling loadStripe");r=function(e){var t="invalid load parameters; expected object of shape\n\n    {advancedFraudSignals: boolean}\n\nbut received\n\n    ".concat(JSON.stringify(e),"\n");if(null===e||"object"!==n(e))throw new Error(t);if(1===Object.keys(e).length&&"boolean"==typeof e.advancedFraudSignals)return e;throw new Error(t)}(e)},t.loadStripe=m},5555:function(e,t,n){e.exports=n(1819)},4610:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r,a=n(5861),l=n(7757),c=n.n(l),o=n(7294),i=n(5076),s=n(9230),d=n(5873),m=n(5555),u=function(){return r||(r=(0,m.loadStripe)("pk_live_51KSsb9KtGQ4ZHKavHbJLXcnUHzLUoqYVCTzfRTmGFUiOZF0OFgT4xP9IXf6TuE7pA0GKWHSbGV8UiaCV4IQeNKjN00DmpVTuTg")),r},f=n(7899),p=n(1767),v=function(e){if(e.find((function(e){return e.name.match(/(Hoodie)/)})))return{}.GATSBY_SHIPPING_LARGE;var t=0;return e.forEach((function(e){e.name.match(/(T-Shirt)/)&&(t+=e.quantity)})),t>1?{}.GATSBY_SHIPPING_LARGE:{}.GATSBY_SHIPPING_SMALL},E=n(3814),b=function(){var e=(0,o.useState)("idle"),t=e[0],n=e[1],r=(0,d.v9)((function(e){return e.sessionId})),l=(0,d.v9)((function(e){return e.cartOpen})),m=(0,d.v9)((function(e){return e.cart})),b=m.items,w=m.total,y=(0,d.I0)();(0,o.useEffect)((function(){if(r){var e=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:e.sent.redirectToCheckout({sessionId:r});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[r]);var h=function(){return y((0,p.jc)())},S=function(e){return function(t){y((0,p.WP)(e,parseInt(t.target.value)))}};function N(){return(N=(0,a.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b[0]?(n("loading"),r=v(b),y((0,p.ci)(b,r))):n("missing-items");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.createElement(i.Z,{size:"xl",show:l,onHide:h},o.createElement(i.Z.Header,{closeButton:!0}),o.createElement(i.Z.Body,null,o.createElement("div",{className:"row mx-2 justify-content-between align-items-center fw-bold"},o.createElement("div",{className:"col-4 col-md-6"},"MY CART"),o.createElement("div",{className:"col-2 small"},"QTY"),o.createElement("div",{className:"col-2 col-md-1 small"},"PRICE"),o.createElement("div",{className:"d-none d-md-block col-1 small"},"SUBTOTAL"),o.createElement("div",{className:"col-1"})),b[0]?o.createElement("div",{className:"cart-products"},b.map((function(e,t){return o.createElement("div",{className:"row mx-2 border-bottom py-3 align-items-start justify-content-between",key:t},o.createElement("div",{className:"col-4 col-md-6 d-flex"},o.createElement("div",{className:"d-none d-md-block col-4"},o.createElement(s.G,{className:"mr-3",alt:e.name,image:(0,s.c)(e.image)})),o.createElement("div",{className:"col-md-8 mt-2 mt-md-3 ms-md-4 ps-md-3"},o.createElement("h6",null,e.name),o.createElement("p",{className:"fst-italic"},e.size&&"Size: "+e.size))),o.createElement("div",{className:"col-2 mt-2"},o.createElement("input",{className:"w-100 w-md-50 text-center",type:"number",min:1,defaultValue:e.quantity,onChange:S(e)})),o.createElement("div",{className:"d-none d-md-block col-1 mt-2"},(0,E.Z)(e.price,"NZD")),o.createElement("div",{className:"col-2 col-md-1 mt-2 fw-bold"},(0,E.Z)(e.price*e.quantity,"NZD")),o.createElement("div",{className:"col-1 mt-2"},o.createElement("button",{className:"text-end btn btn-outline-dark border-0",onClick:function(){return y((0,p.h2)(e))}},"X")))}))):o.createElement("div",{className:"m-2 p-4 border-top border-bottom"},"Your cart is empty."),b[0]&&o.createElement("p",{className:"small fst-italic mt-2"},"Please note: As our merch is all hand printed by a local business, please allow up to 2-3 weeks for your purchase to be dispatched."),o.createElement("div",{className:"d-flex py-3 w-50 me-2 ms-auto justify-content-between"},o.createElement("h6",{className:"fw-bold"},"TOTAL"),o.createElement("h6",{className:"fw-bold"},(0,E.Z)(w,"NZD"))),o.createElement("div",{className:"d-flex mt-2 justify-content-end"},o.createElement("button",{className:"px-4 me-3 btn "+(b[0]?"btn-danger":"btn-secondary")+" rounded-0",disabled:"loading"===t||!b[0],onClick:function(e){return N.apply(this,arguments)}},"loading"===t?o.createElement(f.Z,{small:!0}):"PROCEED TO CHECKOUT"),o.createElement("button",{className:"px-3 btn btn-dark rounded-0",disabled:"loading"===t,onClick:h},"KEEP SHOPPING"))))}},7899:function(e,t,n){"use strict";var r=n(7294);t.Z=function(e){var t=e.small,n=void 0!==t&&t;return r.createElement("div",{class:"loader "+(n&&"loader-small")},r.createElement("div",{class:"loader-inner"},r.createElement("div",{class:"loader-line-wrap"},r.createElement("div",{class:"loader-line"})),r.createElement("div",{class:"loader-line-wrap"},r.createElement("div",{class:"loader-line"})),r.createElement("div",{class:"loader-line-wrap"},r.createElement("div",{class:"loader-line"})),r.createElement("div",{class:"loader-line-wrap"},r.createElement("div",{class:"loader-line"})),r.createElement("div",{class:"loader-line-wrap"},r.createElement("div",{class:"loader-line"}))))}}}]);
//# sourceMappingURL=201-1efa8859b5cde7f10b8d.js.map